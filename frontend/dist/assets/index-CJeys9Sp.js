function kN(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in n)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function DN(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var pg={exports:{}},Yu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nw;function ON(){if(Nw)return Yu;Nw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:u,ref:a!==void 0?a:null,props:o}}return Yu.Fragment=e,Yu.jsx=t,Yu.jsxs=t,Yu}var Iw;function MN(){return Iw||(Iw=1,pg.exports=ON()),pg.exports}var y=MN(),gg={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pw;function jN(){if(Pw)return je;Pw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function _(N){return N===null||typeof N!="object"?null:(N=v&&N[v]||N["@@iterator"],typeof N=="function"?N:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,A={};function C(N,$,B){this.props=N,this.context=$,this.refs=A,this.updater=B||x}C.prototype.isReactComponent={},C.prototype.setState=function(N,$){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,$,"setState")},C.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function j(){}j.prototype=C.prototype;function U(N,$,B){this.props=N,this.context=$,this.refs=A,this.updater=B||x}var F=U.prototype=new j;F.constructor=U,w(F,C.prototype),F.isPureReactComponent=!0;var Y=Array.isArray,X={H:null,A:null,T:null,S:null,V:null},de=Object.prototype.hasOwnProperty;function M(N,$,B,K,H,ie){return B=ie.ref,{$$typeof:n,type:N,key:$,ref:B!==void 0?B:null,props:ie}}function I(N,$){return M(N.type,$,void 0,void 0,void 0,N.props)}function P(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function D(N){var $={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(B){return $[B]})}var L=/\/+/g;function q(N,$){return typeof N=="object"&&N!==null&&N.key!=null?D(""+N.key):$.toString(36)}function V(){}function be(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(V,V):(N.status="pending",N.then(function($){N.status==="pending"&&(N.status="fulfilled",N.value=$)},function($){N.status==="pending"&&(N.status="rejected",N.reason=$)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function we(N,$,B,K,H){var ie=typeof N;(ie==="undefined"||ie==="boolean")&&(N=null);var ae=!1;if(N===null)ae=!0;else switch(ie){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(N.$$typeof){case n:case e:ae=!0;break;case p:return ae=N._init,we(ae(N._payload),$,B,K,H)}}if(ae)return H=H(N),ae=K===""?"."+q(N,0):K,Y(H)?(B="",ae!=null&&(B=ae.replace(L,"$&/")+"/"),we(H,$,B,"",function(Oe){return Oe})):H!=null&&(P(H)&&(H=I(H,B+(H.key==null||N&&N.key===H.key?"":(""+H.key).replace(L,"$&/")+"/")+ae)),$.push(H)),1;ae=0;var ge=K===""?".":K+":";if(Y(N))for(var ye=0;ye<N.length;ye++)K=N[ye],ie=ge+q(K,ye),ae+=we(K,$,B,ie,H);else if(ye=_(N),typeof ye=="function")for(N=ye.call(N),ye=0;!(K=N.next()).done;)K=K.value,ie=ge+q(K,ye++),ae+=we(K,$,B,ie,H);else if(ie==="object"){if(typeof N.then=="function")return we(be(N),$,B,K,H);throw $=String(N),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return ae}function W(N,$,B){if(N==null)return N;var K=[],H=0;return we(N,K,"","",function(ie){return $.call(B,ie,H++)}),K}function oe(N){if(N._status===-1){var $=N._result;$=$(),$.then(function(B){(N._status===0||N._status===-1)&&(N._status=1,N._result=B)},function(B){(N._status===0||N._status===-1)&&(N._status=2,N._result=B)}),N._status===-1&&(N._status=0,N._result=$)}if(N._status===1)return N._result.default;throw N._result}var me=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function ee(){}return je.Children={map:W,forEach:function(N,$,B){W(N,function(){$.apply(this,arguments)},B)},count:function(N){var $=0;return W(N,function(){$++}),$},toArray:function(N){return W(N,function($){return $})||[]},only:function(N){if(!P(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},je.Component=C,je.Fragment=t,je.Profiler=a,je.PureComponent=U,je.StrictMode=r,je.Suspense=f,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,je.__COMPILER_RUNTIME={__proto__:null,c:function(N){return X.H.useMemoCache(N)}},je.cache=function(N){return function(){return N.apply(null,arguments)}},je.cloneElement=function(N,$,B){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var K=w({},N.props),H=N.key,ie=void 0;if($!=null)for(ae in $.ref!==void 0&&(ie=void 0),$.key!==void 0&&(H=""+$.key),$)!de.call($,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&$.ref===void 0||(K[ae]=$[ae]);var ae=arguments.length-2;if(ae===1)K.children=B;else if(1<ae){for(var ge=Array(ae),ye=0;ye<ae;ye++)ge[ye]=arguments[ye+2];K.children=ge}return M(N.type,H,void 0,void 0,ie,K)},je.createContext=function(N){return N={$$typeof:u,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:o,_context:N},N},je.createElement=function(N,$,B){var K,H={},ie=null;if($!=null)for(K in $.key!==void 0&&(ie=""+$.key),$)de.call($,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(H[K]=$[K]);var ae=arguments.length-2;if(ae===1)H.children=B;else if(1<ae){for(var ge=Array(ae),ye=0;ye<ae;ye++)ge[ye]=arguments[ye+2];H.children=ge}if(N&&N.defaultProps)for(K in ae=N.defaultProps,ae)H[K]===void 0&&(H[K]=ae[K]);return M(N,ie,void 0,void 0,null,H)},je.createRef=function(){return{current:null}},je.forwardRef=function(N){return{$$typeof:d,render:N}},je.isValidElement=P,je.lazy=function(N){return{$$typeof:p,_payload:{_status:-1,_result:N},_init:oe}},je.memo=function(N,$){return{$$typeof:h,type:N,compare:$===void 0?null:$}},je.startTransition=function(N){var $=X.T,B={};X.T=B;try{var K=N(),H=X.S;H!==null&&H(B,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(ee,me)}catch(ie){me(ie)}finally{X.T=$}},je.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},je.use=function(N){return X.H.use(N)},je.useActionState=function(N,$,B){return X.H.useActionState(N,$,B)},je.useCallback=function(N,$){return X.H.useCallback(N,$)},je.useContext=function(N){return X.H.useContext(N)},je.useDebugValue=function(){},je.useDeferredValue=function(N,$){return X.H.useDeferredValue(N,$)},je.useEffect=function(N,$,B){var K=X.H;if(typeof B=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(N,$)},je.useId=function(){return X.H.useId()},je.useImperativeHandle=function(N,$,B){return X.H.useImperativeHandle(N,$,B)},je.useInsertionEffect=function(N,$){return X.H.useInsertionEffect(N,$)},je.useLayoutEffect=function(N,$){return X.H.useLayoutEffect(N,$)},je.useMemo=function(N,$){return X.H.useMemo(N,$)},je.useOptimistic=function(N,$){return X.H.useOptimistic(N,$)},je.useReducer=function(N,$,B){return X.H.useReducer(N,$,B)},je.useRef=function(N){return X.H.useRef(N)},je.useState=function(N){return X.H.useState(N)},je.useSyncExternalStore=function(N,$,B){return X.H.useSyncExternalStore(N,$,B)},je.useTransition=function(){return X.H.useTransition()},je.version="19.1.0",je}var kw;function Dh(){return kw||(kw=1,gg.exports=jN()),gg.exports}var T=Dh();const ke=DN(T),Gg=kN({__proto__:null,default:ke},[T]);var yg={exports:{}},Xu={},vg={exports:{}},bg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dw;function LN(){return Dw||(Dw=1,function(n){function e(W,oe){var me=W.length;W.push(oe);e:for(;0<me;){var ee=me-1>>>1,N=W[ee];if(0<a(N,oe))W[ee]=oe,W[me]=N,me=ee;else break e}}function t(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var oe=W[0],me=W.pop();if(me!==oe){W[0]=me;e:for(var ee=0,N=W.length,$=N>>>1;ee<$;){var B=2*(ee+1)-1,K=W[B],H=B+1,ie=W[H];if(0>a(K,me))H<N&&0>a(ie,K)?(W[ee]=ie,W[H]=me,ee=H):(W[ee]=K,W[B]=me,ee=B);else if(H<N&&0>a(ie,me))W[ee]=ie,W[H]=me,ee=H;else break e}}return oe}function a(W,oe){var me=W.sortIndex-oe.sortIndex;return me!==0?me:W.id-oe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],h=[],p=1,v=null,_=3,x=!1,w=!1,A=!1,C=!1,j=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function Y(W){for(var oe=t(h);oe!==null;){if(oe.callback===null)r(h);else if(oe.startTime<=W)r(h),oe.sortIndex=oe.expirationTime,e(f,oe);else break;oe=t(h)}}function X(W){if(A=!1,Y(W),!w)if(t(f)!==null)w=!0,de||(de=!0,q());else{var oe=t(h);oe!==null&&we(X,oe.startTime-W)}}var de=!1,M=-1,I=5,P=-1;function D(){return C?!0:!(n.unstable_now()-P<I)}function L(){if(C=!1,de){var W=n.unstable_now();P=W;var oe=!0;try{e:{w=!1,A&&(A=!1,U(M),M=-1),x=!0;var me=_;try{t:{for(Y(W),v=t(f);v!==null&&!(v.expirationTime>W&&D());){var ee=v.callback;if(typeof ee=="function"){v.callback=null,_=v.priorityLevel;var N=ee(v.expirationTime<=W);if(W=n.unstable_now(),typeof N=="function"){v.callback=N,Y(W),oe=!0;break t}v===t(f)&&r(f),Y(W)}else r(f);v=t(f)}if(v!==null)oe=!0;else{var $=t(h);$!==null&&we(X,$.startTime-W),oe=!1}}break e}finally{v=null,_=me,x=!1}oe=void 0}}finally{oe?q():de=!1}}}var q;if(typeof F=="function")q=function(){F(L)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,be=V.port2;V.port1.onmessage=L,q=function(){be.postMessage(null)}}else q=function(){j(L,0)};function we(W,oe){M=j(function(){W(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(W){switch(_){case 1:case 2:case 3:var oe=3;break;default:oe=_}var me=_;_=oe;try{return W()}finally{_=me}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(W,oe){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var me=_;_=W;try{return oe()}finally{_=me}},n.unstable_scheduleCallback=function(W,oe,me){var ee=n.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ee+me:ee):me=ee,W){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=me+N,W={id:p++,callback:oe,priorityLevel:W,startTime:me,expirationTime:N,sortIndex:-1},me>ee?(W.sortIndex=me,e(h,W),t(f)===null&&W===t(h)&&(A?(U(M),M=-1):A=!0,we(X,me-ee))):(W.sortIndex=N,e(f,W),w||x||(w=!0,de||(de=!0,q()))),W},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(W){var oe=_;return function(){var me=_;_=oe;try{return W.apply(this,arguments)}finally{_=me}}}}(bg)),bg}var Ow;function VN(){return Ow||(Ow=1,vg.exports=LN()),vg.exports}var _g={exports:{}},pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mw;function UN(){if(Mw)return pn;Mw=1;var n=Dh();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,h,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:f,containerInfo:h,implementation:p}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,pn.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(f,h,null,p)},pn.flushSync=function(f){var h=u.T,p=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=h,r.p=p,r.d.f()}},pn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},pn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},pn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,v=d(p,h.crossOrigin),_=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:x}):p==="script"&&r.d.X(f,{crossOrigin:v,integrity:_,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},pn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},pn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,v=d(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},pn.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},pn.requestFormReset=function(f){r.d.r(f)},pn.unstable_batchedUpdates=function(f,h){return f(h)},pn.useFormState=function(f,h,p){return u.H.useFormState(f,h,p)},pn.useFormStatus=function(){return u.H.useHostTransitionStatus()},pn.version="19.1.0",pn}var jw;function N1(){if(jw)return _g.exports;jw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),_g.exports=UN(),_g.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lw;function FN(){if(Lw)return Xu;Lw=1;var n=VN(),e=Dh(),t=N1();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(o(i)!==i)throw Error(r(188))}function f(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,c=s;;){var g=l.return;if(g===null)break;var b=g.alternate;if(b===null){if(c=g.return,c!==null){l=c;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===l)return d(g),i;if(b===c)return d(g),s;b=b.sibling}throw Error(r(188))}if(l.return!==c.return)l=g,c=b;else{for(var R=!1,k=g.child;k;){if(k===l){R=!0,l=g,c=b;break}if(k===c){R=!0,c=g,l=b;break}k=k.sibling}if(!R){for(k=b.child;k;){if(k===l){R=!0,l=b,c=g;break}if(k===c){R=!0,c=b,l=g;break}k=k.sibling}if(!R)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function h(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=h(i),s!==null)return s;i=i.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),F=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function q(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function be(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case C:return"Profiler";case A:return"StrictMode";case X:return"Suspense";case de:return"SuspenseList";case P:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case x:return"Portal";case F:return(i.displayName||"Context")+".Provider";case U:return(i._context.displayName||"Context")+".Consumer";case Y:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case M:return s=i.displayName||null,s!==null?s:be(i.type)||"Memo";case I:s=i._payload,i=i._init;try{return be(i(s))}catch{}}return null}var we=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},ee=[],N=-1;function $(i){return{current:i}}function B(i){0>N||(i.current=ee[N],ee[N]=null,N--)}function K(i,s){N++,ee[N]=i.current,i.current=s}var H=$(null),ie=$(null),ae=$(null),ge=$(null);function ye(i,s){switch(K(ae,s),K(ie,i),K(H,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?rw(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=rw(s),i=iw(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}B(H),K(H,i)}function Oe(){B(H),B(ie),B(ae)}function lt(i){i.memoizedState!==null&&K(ge,i);var s=H.current,l=iw(s,i.type);s!==l&&(K(ie,i),K(H,l))}function Zt(i){ie.current===i&&(B(H),B(ie)),ge.current===i&&(B(ge),qu._currentValue=me)}var fn=Object.prototype.hasOwnProperty,gr=n.unstable_scheduleCallback,yr=n.unstable_cancelCallback,Pr=n.unstable_shouldYield,Xi=n.unstable_requestPaint,Jt=n.unstable_now,ea=n.unstable_getCurrentPriorityLevel,oi=n.unstable_ImmediatePriority,Qn=n.unstable_UserBlockingPriority,li=n.unstable_NormalPriority,ao=n.unstable_LowPriority,Wi=n.unstable_IdlePriority,ta=n.log,oo=n.unstable_setDisableYieldValue,bt=null,et=null;function On(i){if(typeof ta=="function"&&oo(i),et&&typeof et.setStrictMode=="function")try{et.setStrictMode(bt,i)}catch{}}var hn=Math.clz32?Math.clz32:na,ad=Math.log,ym=Math.LN2;function na(i){return i>>>=0,i===0?32:31-(ad(i)/ym|0)|0}var ra=256,ia=4194304;function vr(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function lo(i,s,l){var c=i.pendingLanes;if(c===0)return 0;var g=0,b=i.suspendedLanes,R=i.pingedLanes;i=i.warmLanes;var k=c&134217727;return k!==0?(c=k&~b,c!==0?g=vr(c):(R&=k,R!==0?g=vr(R):l||(l=k&~i,l!==0&&(g=vr(l))))):(k=c&~b,k!==0?g=vr(k):R!==0?g=vr(R):l||(l=c&~i,l!==0&&(g=vr(l)))),g===0?0:s!==0&&s!==g&&(s&b)===0&&(b=g&-g,l=s&-s,b>=l||b===32&&(l&4194048)!==0)?s:g}function sa(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function ql(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hl(){var i=ra;return ra<<=1,(ra&4194048)===0&&(ra=256),i}function Gl(){var i=ia;return ia<<=1,(ia&62914560)===0&&(ia=4194304),i}function ui(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function ci(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Kl(i,s,l,c,g,b){var R=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var k=i.entanglements,z=i.expirationTimes,te=i.hiddenUpdates;for(l=R&~l;0<l;){var le=31-hn(l),fe=1<<le;k[le]=0,z[le]=-1;var ne=te[le];if(ne!==null)for(te[le]=null,le=0;le<ne.length;le++){var re=ne[le];re!==null&&(re.lane&=-536870913)}l&=~fe}c!==0&&kr(i,c,0),b!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=b&~(R&~s))}function kr(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-hn(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|l&4194090}function Ql(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var c=31-hn(l),g=1<<c;g&s|i[c]&s&&(i[c]|=s),l&=~g}}function Zi(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function uo(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ji(){var i=oe.p;return i!==0?i:(i=window.event,i===void 0?32:xw(i.type))}function od(i,s){var l=oe.p;try{return oe.p=i,s()}finally{oe.p=l}}var ht=Math.random().toString(36).slice(2),Vt="__reactFiber$"+ht,It="__reactProps$"+ht,Yn="__reactContainer$"+ht,Yl="__reactEvents$"+ht,vm="__reactListeners$"+ht,es="__reactHandles$"+ht,ld="__reactResources$"+ht,aa="__reactMarker$"+ht;function ts(i){delete i[Vt],delete i[It],delete i[Yl],delete i[vm],delete i[es]}function di(i){var s=i[Vt];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Yn]||l[Vt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=lw(i);i!==null;){if(l=i[Vt])return l;i=lw(i)}return s}i=l,l=i.parentNode}return null}function Dr(i){if(i=i[Vt]||i[Yn]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Or(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function wn(i){var s=i[ld];return s||(s=i[ld]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Tt(i){i[aa]=!0}var Xl=new Set,co={};function br(i,s){fi(i,s),fi(i+"Capture",s)}function fi(i,s){for(co[i]=s,i=0;i<s.length;i++)Xl.add(s[i])}var ud=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cd={},oa={};function dd(i){return fn.call(oa,i)?!0:fn.call(cd,i)?!1:ud.test(i)?oa[i]=!0:(cd[i]=!0,!1)}function ns(i,s,l){if(dd(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function Mr(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function en(i,s,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+c)}}var la,fd;function hi(i){if(la===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);la=s&&s[1]||"",fd=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+la+i+fd}var fo=!1;function ho(i,s){if(!i||fo)return"";fo=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(re){var ne=re}Reflect.construct(i,[],fe)}else{try{fe.call()}catch(re){ne=re}i.call(fe.prototype)}}else{try{throw Error()}catch(re){ne=re}(fe=i())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(re){if(re&&ne&&typeof re.stack=="string")return[re.stack,ne.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=c.DetermineComponentFrameRoot(),R=b[0],k=b[1];if(R&&k){var z=R.split(`
`),te=k.split(`
`);for(g=c=0;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;for(;g<te.length&&!te[g].includes("DetermineComponentFrameRoot");)g++;if(c===z.length||g===te.length)for(c=z.length-1,g=te.length-1;1<=c&&0<=g&&z[c]!==te[g];)g--;for(;1<=c&&0<=g;c--,g--)if(z[c]!==te[g]){if(c!==1||g!==1)do if(c--,g--,0>g||z[c]!==te[g]){var le=`
`+z[c].replace(" at new "," at ");return i.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",i.displayName)),le}while(1<=c&&0<=g);break}}}finally{fo=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?hi(l):""}function Wl(i){switch(i.tag){case 26:case 27:case 5:return hi(i.type);case 16:return hi("Lazy");case 13:return hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return ho(i.type,!1);case 11:return ho(i.type.render,!1);case 1:return ho(i.type,!0);case 31:return hi("Activity");default:return""}}function mo(i){try{var s="";do s+=Wl(i),i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function En(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Zl(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function bm(i){var s=Zl(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),c=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,b=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return g.call(this)},set:function(R){c=""+R,b.call(this,R)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(R){c=""+R},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function po(i){i._valueTracker||(i._valueTracker=bm(i))}function Jl(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return i&&(c=Zl(i)?i.checked?"true":"false":i.value),i=c,i!==l?(s.setValue(i),!0):!1}function ua(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var _m=/[\n"\\]/g;function Pt(i){return i.replace(_m,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Mn(i,s,l,c,g,b,R,k){i.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.type=R:i.removeAttribute("type"),s!=null?R==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+En(s)):i.value!==""+En(s)&&(i.value=""+En(s)):R!=="submit"&&R!=="reset"||i.removeAttribute("value"),s!=null?rs(i,R,En(s)):l!=null?rs(i,R,En(l)):c!=null&&i.removeAttribute("value"),g==null&&b!=null&&(i.defaultChecked=!!b),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.name=""+En(k):i.removeAttribute("name")}function ca(i,s,l,c,g,b,R,k){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),s!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||s!=null))return;l=l!=null?""+En(l):"",s=s!=null?""+En(s):l,k||s===i.value||(i.value=s),i.defaultValue=s}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=k?i.checked:!!c,i.defaultChecked=!!c,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(i.name=R)}function rs(i,s,l){s==="number"&&ua(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function mi(i,s,l,c){if(i=i.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=s.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&c&&(i[l].defaultSelected=!0)}else{for(l=""+En(l),s=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,c&&(i[g].defaultSelected=!0);return}s!==null||i[g].disabled||(s=i[g])}s!==null&&(s.selected=!0)}}function rt(i,s,l){if(s!=null&&(s=""+En(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+En(l):""}function da(i,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(r(92));if(we(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=En(s),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c)}function Xn(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var fa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hd(i,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,l):typeof l!="number"||l===0||fa.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function eu(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var g in s)c=s[g],s.hasOwnProperty(g)&&l[g]!==c&&hd(i,g,c)}else for(var b in s)s.hasOwnProperty(b)&&hd(i,b,s[b])}function tu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Em=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function go(i){return Em.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var pi=null;function Wn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var gi=null,yi=null;function nu(i){var s=Dr(i);if(s&&(i=s.stateNode)){var l=i[It]||null;e:switch(i=s.stateNode,s.type){case"input":if(Mn(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Pt(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==i&&c.form===i.form){var g=c[It]||null;if(!g)throw Error(r(90));Mn(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===i.form&&Jl(c)}break e;case"textarea":rt(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&mi(i,!!l.multiple,s,!1)}}}var jr=!1;function md(i,s,l){if(jr)return i(s,l);jr=!0;try{var c=i(s);return c}finally{if(jr=!1,(gi!==null||yi!==null)&&(lf(),gi&&(s=gi,i=yi,yi=gi=null,nu(s),i)))for(s=0;s<i.length;s++)nu(i[s])}}function ha(i,s){var l=i.stateNode;if(l===null)return null;var c=l[It]||null;if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var _r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zn=!1;if(_r)try{var ma={};Object.defineProperty(ma,"passive",{get:function(){Zn=!0}}),window.addEventListener("test",ma,ma),window.removeEventListener("test",ma,ma)}catch{Zn=!1}var Lr=null,is=null,vi=null;function ru(){if(vi)return vi;var i,s=is,l=s.length,c,g="value"in Lr?Lr.value:Lr.textContent,b=g.length;for(i=0;i<l&&s[i]===g[i];i++);var R=l-i;for(c=1;c<=R&&s[l-c]===g[b-c];c++);return vi=g.slice(i,1<c?1-c:void 0)}function Vr(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ur(){return!0}function iu(){return!1}function qt(i){function s(l,c,g,b,R){this._reactName=l,this._targetInst=g,this.type=c,this.nativeEvent=b,this.target=R,this.currentTarget=null;for(var k in i)i.hasOwnProperty(k)&&(l=i[k],this[k]=l?l(b):b[k]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ur:iu,this.isPropagationStopped=iu,this}return p(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ur)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ur)},persist:function(){},isPersistent:Ur}),s}var Je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yo=qt(Je),pa=p({},Je,{view:0,detail:0}),pd=qt(pa),vo,bo,Fr,ga=p({},pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ba,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Fr&&(Fr&&i.type==="mousemove"?(vo=i.screenX-Fr.screenX,bo=i.screenY-Fr.screenY):bo=vo=0,Fr=i),vo)},movementY:function(i){return"movementY"in i?i.movementY:bo}}),Jn=qt(ga),gd=p({},ga,{dataTransfer:0}),xm=qt(gd),ya=p({},pa,{relatedTarget:0}),_o=qt(ya),su=p({},Je,{animationName:0,elapsedTime:0,pseudoElement:0}),wo=qt(su),yd=p({},Je,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Eo=qt(yd),Tm=p({},Je,{data:0}),au=qt(Tm),va={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ou(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=bd[i])?!!s[i]:!1}function ba(){return ou}var _d=p({},pa,{key:function(i){if(i.key){var s=va[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Vr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?vd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ba,charCode:function(i){return i.type==="keypress"?Vr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Vr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),xo=qt(_d),wd=p({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lu=qt(wd),bi=p({},pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ba}),Ed=qt(bi),xd=p({},Je,{propertyName:0,elapsedTime:0,pseudoElement:0}),Td=qt(xd),Sd=p({},ga,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),To=qt(Sd),xn=p({},Je,{newState:0,oldState:0}),Rd=qt(xn),Ad=[9,13,27,32],$r=_r&&"CompositionEvent"in window,m=null;_r&&"documentMode"in document&&(m=document.documentMode);var E=_r&&"TextEvent"in window&&!m,S=_r&&(!$r||m&&8<m&&11>=m),O=" ",Z=!1;function se(i,s){switch(i){case"keyup":return Ad.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pe(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var He=!1;function Ut(i,s){switch(i){case"compositionend":return pe(s);case"keypress":return s.which!==32?null:(Z=!0,O);case"textInput":return i=s.data,i===O&&Z?null:i;default:return null}}function Ge(i,s){if(He)return i==="compositionend"||!$r&&se(i,s)?(i=ru(),vi=is=Lr=null,He=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return S&&s.locale!=="ko"?null:s.data;default:return null}}var Ht={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ft(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Ht[i.type]:s==="textarea"}function _i(i,s,l,c){gi?yi?yi.push(c):yi=[c]:gi=c,s=mf(s,"onChange"),0<s.length&&(l=new yo("onChange","change",null,l,c),i.push({event:l,listeners:s}))}var tn=null,Br=null;function uu(i){Z_(i,0)}function Cd(i){var s=Or(i);if(Jl(s))return i}function b0(i,s){if(i==="change")return s}var _0=!1;if(_r){var Sm;if(_r){var Rm="oninput"in document;if(!Rm){var w0=document.createElement("div");w0.setAttribute("oninput","return;"),Rm=typeof w0.oninput=="function"}Sm=Rm}else Sm=!1;_0=Sm&&(!document.documentMode||9<document.documentMode)}function E0(){tn&&(tn.detachEvent("onpropertychange",x0),Br=tn=null)}function x0(i){if(i.propertyName==="value"&&Cd(Br)){var s=[];_i(s,Br,i,Wn(i)),md(uu,s)}}function lC(i,s,l){i==="focusin"?(E0(),tn=s,Br=l,tn.attachEvent("onpropertychange",x0)):i==="focusout"&&E0()}function uC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Cd(Br)}function cC(i,s){if(i==="click")return Cd(s)}function dC(i,s){if(i==="input"||i==="change")return Cd(s)}function fC(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var jn=typeof Object.is=="function"?Object.is:fC;function cu(i,s){if(jn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var g=l[c];if(!fn.call(s,g)||!jn(i[g],s[g]))return!1}return!0}function T0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function S0(i,s){var l=T0(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=s&&c>=s)return{node:l,offset:s-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=T0(l)}}function R0(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?R0(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function A0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=ua(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=ua(i.document)}return s}function Am(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var hC=_r&&"documentMode"in document&&11>=document.documentMode,So=null,Cm=null,du=null,Nm=!1;function C0(i,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Nm||So==null||So!==ua(c)||(c=So,"selectionStart"in c&&Am(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),du&&cu(du,c)||(du=c,c=mf(Cm,"onSelect"),0<c.length&&(s=new yo("onSelect","select",null,s,l),i.push({event:s,listeners:c}),s.target=So)))}function _a(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var Ro={animationend:_a("Animation","AnimationEnd"),animationiteration:_a("Animation","AnimationIteration"),animationstart:_a("Animation","AnimationStart"),transitionrun:_a("Transition","TransitionRun"),transitionstart:_a("Transition","TransitionStart"),transitioncancel:_a("Transition","TransitionCancel"),transitionend:_a("Transition","TransitionEnd")},Im={},N0={};_r&&(N0=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function wa(i){if(Im[i])return Im[i];if(!Ro[i])return i;var s=Ro[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in N0)return Im[i]=s[l];return i}var I0=wa("animationend"),P0=wa("animationiteration"),k0=wa("animationstart"),mC=wa("transitionrun"),pC=wa("transitionstart"),gC=wa("transitioncancel"),D0=wa("transitionend"),O0=new Map,Pm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pm.push("scrollEnd");function wr(i,s){O0.set(i,s),br(s,[i])}var M0=new WeakMap;function er(i,s){if(typeof i=="object"&&i!==null){var l=M0.get(i);return l!==void 0?l:(s={value:i,source:s,stack:mo(s)},M0.set(i,s),s)}return{value:i,source:s,stack:mo(s)}}var tr=[],Ao=0,km=0;function Nd(){for(var i=Ao,s=km=Ao=0;s<i;){var l=tr[s];tr[s++]=null;var c=tr[s];tr[s++]=null;var g=tr[s];tr[s++]=null;var b=tr[s];if(tr[s++]=null,c!==null&&g!==null){var R=c.pending;R===null?g.next=g:(g.next=R.next,R.next=g),c.pending=g}b!==0&&j0(l,g,b)}}function Id(i,s,l,c){tr[Ao++]=i,tr[Ao++]=s,tr[Ao++]=l,tr[Ao++]=c,km|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Dm(i,s,l,c){return Id(i,s,l,c),Pd(i)}function Co(i,s){return Id(i,null,null,s),Pd(i)}function j0(i,s,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var g=!1,b=i.return;b!==null;)b.childLanes|=l,c=b.alternate,c!==null&&(c.childLanes|=l),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(g=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,g&&s!==null&&(g=31-hn(l),i=b.hiddenUpdates,c=i[g],c===null?i[g]=[s]:c.push(s),s.lane=l|536870912),b):null}function Pd(i){if(50<ju)throw ju=0,Up=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var No={};function yC(i,s,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(i,s,l,c){return new yC(i,s,l,c)}function Om(i){return i=i.prototype,!(!i||!i.isReactComponent)}function wi(i,s){var l=i.alternate;return l===null?(l=Ln(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function L0(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function kd(i,s,l,c,g,b){var R=0;if(c=i,typeof i=="function")Om(i)&&(R=1);else if(typeof i=="string")R=bN(i,l,H.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case P:return i=Ln(31,l,s,g),i.elementType=P,i.lanes=b,i;case w:return Ea(l.children,g,b,s);case A:R=8,g|=24;break;case C:return i=Ln(12,l,s,g|2),i.elementType=C,i.lanes=b,i;case X:return i=Ln(13,l,s,g),i.elementType=X,i.lanes=b,i;case de:return i=Ln(19,l,s,g),i.elementType=de,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case j:case F:R=10;break e;case U:R=9;break e;case Y:R=11;break e;case M:R=14;break e;case I:R=16,c=null;break e}R=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=Ln(R,l,s,g),s.elementType=i,s.type=c,s.lanes=b,s}function Ea(i,s,l,c){return i=Ln(7,i,c,s),i.lanes=l,i}function Mm(i,s,l){return i=Ln(6,i,null,s),i.lanes=l,i}function jm(i,s,l){return s=Ln(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Io=[],Po=0,Dd=null,Od=0,nr=[],rr=0,xa=null,Ei=1,xi="";function Ta(i,s){Io[Po++]=Od,Io[Po++]=Dd,Dd=i,Od=s}function V0(i,s,l){nr[rr++]=Ei,nr[rr++]=xi,nr[rr++]=xa,xa=i;var c=Ei;i=xi;var g=32-hn(c)-1;c&=~(1<<g),l+=1;var b=32-hn(s)+g;if(30<b){var R=g-g%5;b=(c&(1<<R)-1).toString(32),c>>=R,g-=R,Ei=1<<32-hn(s)+g|l<<g|c,xi=b+i}else Ei=1<<b|l<<g|c,xi=i}function Lm(i){i.return!==null&&(Ta(i,1),V0(i,1,0))}function Vm(i){for(;i===Dd;)Dd=Io[--Po],Io[Po]=null,Od=Io[--Po],Io[Po]=null;for(;i===xa;)xa=nr[--rr],nr[rr]=null,xi=nr[--rr],nr[rr]=null,Ei=nr[--rr],nr[rr]=null}var Tn=null,_t=null,Ze=!1,Sa=null,zr=!1,Um=Error(r(519));function Ra(i){var s=Error(r(418,""));throw mu(er(s,i)),Um}function U0(i){var s=i.stateNode,l=i.type,c=i.memoizedProps;switch(s[Vt]=i,s[It]=c,l){case"dialog":$e("cancel",s),$e("close",s);break;case"iframe":case"object":case"embed":$e("load",s);break;case"video":case"audio":for(l=0;l<Vu.length;l++)$e(Vu[l],s);break;case"source":$e("error",s);break;case"img":case"image":case"link":$e("error",s),$e("load",s);break;case"details":$e("toggle",s);break;case"input":$e("invalid",s),ca(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),po(s);break;case"select":$e("invalid",s);break;case"textarea":$e("invalid",s),da(s,c.value,c.defaultValue,c.children),po(s)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||nw(s.textContent,l)?(c.popover!=null&&($e("beforetoggle",s),$e("toggle",s)),c.onScroll!=null&&$e("scroll",s),c.onScrollEnd!=null&&$e("scrollend",s),c.onClick!=null&&(s.onclick=pf),s=!0):s=!1,s||Ra(i)}function F0(i){for(Tn=i.return;Tn;)switch(Tn.tag){case 5:case 13:zr=!1;return;case 27:case 3:zr=!0;return;default:Tn=Tn.return}}function fu(i){if(i!==Tn)return!1;if(!Ze)return F0(i),Ze=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||tg(i.type,i.memoizedProps)),l=!l),l&&_t&&Ra(i),F0(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(s===0){_t=xr(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;i=i.nextSibling}_t=null}}else s===27?(s=_t,_s(i.type)?(i=sg,sg=null,_t=i):_t=s):_t=Tn?xr(i.stateNode.nextSibling):null;return!0}function hu(){_t=Tn=null,Ze=!1}function $0(){var i=Sa;return i!==null&&(kn===null?kn=i:kn.push.apply(kn,i),Sa=null),i}function mu(i){Sa===null?Sa=[i]:Sa.push(i)}var Fm=$(null),Aa=null,Ti=null;function ss(i,s,l){K(Fm,s._currentValue),s._currentValue=l}function Si(i){i._currentValue=Fm.current,B(Fm)}function $m(i,s,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===l)break;i=i.return}}function Bm(i,s,l,c){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var b=g.dependencies;if(b!==null){var R=g.child;b=b.firstContext;e:for(;b!==null;){var k=b;b=g;for(var z=0;z<s.length;z++)if(k.context===s[z]){b.lanes|=l,k=b.alternate,k!==null&&(k.lanes|=l),$m(b.return,l,i),c||(R=null);break e}b=k.next}}else if(g.tag===18){if(R=g.return,R===null)throw Error(r(341));R.lanes|=l,b=R.alternate,b!==null&&(b.lanes|=l),$m(R,l,i),R=null}else R=g.child;if(R!==null)R.return=g;else for(R=g;R!==null;){if(R===i){R=null;break}if(g=R.sibling,g!==null){g.return=R.return,R=g;break}R=R.return}g=R}}function pu(i,s,l,c){i=null;for(var g=s,b=!1;g!==null;){if(!b){if((g.flags&524288)!==0)b=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var R=g.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var k=g.type;jn(g.pendingProps.value,R.value)||(i!==null?i.push(k):i=[k])}}else if(g===ge.current){if(R=g.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(qu):i=[qu])}g=g.return}i!==null&&Bm(s,i,l,c),s.flags|=262144}function Md(i){for(i=i.firstContext;i!==null;){if(!jn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ca(i){Aa=i,Ti=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function mn(i){return B0(Aa,i)}function jd(i,s){return Aa===null&&Ca(i),B0(i,s)}function B0(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Ti===null){if(i===null)throw Error(r(308));Ti=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Ti=Ti.next=s;return l}var vC=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},bC=n.unstable_scheduleCallback,_C=n.unstable_NormalPriority,$t={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zm(){return{controller:new vC,data:new Map,refCount:0}}function gu(i){i.refCount--,i.refCount===0&&bC(_C,function(){i.controller.abort()})}var yu=null,qm=0,ko=0,Do=null;function wC(i,s){if(yu===null){var l=yu=[];qm=0,ko=Gp(),Do={status:"pending",value:void 0,then:function(c){l.push(c)}}}return qm++,s.then(z0,z0),s}function z0(){if(--qm===0&&yu!==null){Do!==null&&(Do.status="fulfilled");var i=yu;yu=null,ko=0,Do=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function EC(i,s){var l=[],c={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(c.status="rejected",c.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),c}var q0=W.S;W.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&wC(i,s),q0!==null&&q0(i,s)};var Na=$(null);function Hm(){var i=Na.current;return i!==null?i:dt.pooledCache}function Ld(i,s){s===null?K(Na,Na.current):K(Na,s.pool)}function H0(){var i=Hm();return i===null?null:{parent:$t._currentValue,pool:i}}var vu=Error(r(460)),G0=Error(r(474)),Vd=Error(r(542)),Gm={then:function(){}};function K0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Ud(){}function Q0(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(Ud,Ud),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,X0(i),i;default:if(typeof s.status=="string")s.then(Ud,Ud);else{if(i=dt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=c}},function(c){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,X0(i),i}throw bu=s,vu}}var bu=null;function Y0(){if(bu===null)throw Error(r(459));var i=bu;return bu=null,i}function X0(i){if(i===vu||i===Vd)throw Error(r(483))}var as=!1;function Km(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qm(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function os(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ls(i,s,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(tt&2)!==0){var g=c.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),c.pending=s,s=Pd(i),j0(i,null,l),s}return Id(i,c,s,l),Pd(i)}function _u(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,Ql(i,l)}}function Ym(i,s){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var g=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var R={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?g=b=R:b=b.next=R,l=l.next}while(l!==null);b===null?g=b=s:b=b.next=s}else g=b=s;l={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var Xm=!1;function wu(){if(Xm){var i=Do;if(i!==null)throw i}}function Eu(i,s,l,c){Xm=!1;var g=i.updateQueue;as=!1;var b=g.firstBaseUpdate,R=g.lastBaseUpdate,k=g.shared.pending;if(k!==null){g.shared.pending=null;var z=k,te=z.next;z.next=null,R===null?b=te:R.next=te,R=z;var le=i.alternate;le!==null&&(le=le.updateQueue,k=le.lastBaseUpdate,k!==R&&(k===null?le.firstBaseUpdate=te:k.next=te,le.lastBaseUpdate=z))}if(b!==null){var fe=g.baseState;R=0,le=te=z=null,k=b;do{var ne=k.lane&-536870913,re=ne!==k.lane;if(re?(Ke&ne)===ne:(c&ne)===ne){ne!==0&&ne===ko&&(Xm=!0),le!==null&&(le=le.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Ie=i,Re=k;ne=s;var at=l;switch(Re.tag){case 1:if(Ie=Re.payload,typeof Ie=="function"){fe=Ie.call(at,fe,ne);break e}fe=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Re.payload,ne=typeof Ie=="function"?Ie.call(at,fe,ne):Ie,ne==null)break e;fe=p({},fe,ne);break e;case 2:as=!0}}ne=k.callback,ne!==null&&(i.flags|=64,re&&(i.flags|=8192),re=g.callbacks,re===null?g.callbacks=[ne]:re.push(ne))}else re={lane:ne,tag:k.tag,payload:k.payload,callback:k.callback,next:null},le===null?(te=le=re,z=fe):le=le.next=re,R|=ne;if(k=k.next,k===null){if(k=g.shared.pending,k===null)break;re=k,k=re.next,re.next=null,g.lastBaseUpdate=re,g.shared.pending=null}}while(!0);le===null&&(z=fe),g.baseState=z,g.firstBaseUpdate=te,g.lastBaseUpdate=le,b===null&&(g.shared.lanes=0),gs|=R,i.lanes=R,i.memoizedState=fe}}function W0(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Z0(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)W0(l[i],s)}var Oo=$(null),Fd=$(0);function J0(i,s){i=ki,K(Fd,i),K(Oo,s),ki=i|s.baseLanes}function Wm(){K(Fd,ki),K(Oo,Oo.current)}function Zm(){ki=Fd.current,B(Oo),B(Fd)}var us=0,Le=null,it=null,kt=null,$d=!1,Mo=!1,Ia=!1,Bd=0,xu=0,jo=null,xC=0;function St(){throw Error(r(321))}function Jm(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!jn(i[l],s[l]))return!1;return!0}function ep(i,s,l,c,g,b){return us=b,Le=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=i===null||i.memoizedState===null?jb:Lb,Ia=!1,b=l(c,g),Ia=!1,Mo&&(b=tb(s,l,c,g)),eb(i),b}function eb(i){W.H=Qd;var s=it!==null&&it.next!==null;if(us=0,kt=it=Le=null,$d=!1,xu=0,jo=null,s)throw Error(r(300));i===null||Gt||(i=i.dependencies,i!==null&&Md(i)&&(Gt=!0))}function tb(i,s,l,c){Le=i;var g=0;do{if(Mo&&(jo=null),xu=0,Mo=!1,25<=g)throw Error(r(301));if(g+=1,kt=it=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}W.H=IC,b=s(l,c)}while(Mo);return b}function TC(){var i=W.H,s=i.useState()[0];return s=typeof s.then=="function"?Tu(s):s,i=i.useState()[0],(it!==null?it.memoizedState:null)!==i&&(Le.flags|=1024),s}function tp(){var i=Bd!==0;return Bd=0,i}function np(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function rp(i){if($d){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}$d=!1}us=0,kt=it=Le=null,Mo=!1,xu=Bd=0,jo=null}function In(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Le.memoizedState=kt=i:kt=kt.next=i,kt}function Dt(){if(it===null){var i=Le.alternate;i=i!==null?i.memoizedState:null}else i=it.next;var s=kt===null?Le.memoizedState:kt.next;if(s!==null)kt=s,it=i;else{if(i===null)throw Le.alternate===null?Error(r(467)):Error(r(310));it=i,i={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},kt===null?Le.memoizedState=kt=i:kt=kt.next=i}return kt}function ip(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tu(i){var s=xu;return xu+=1,jo===null&&(jo=[]),i=Q0(jo,i,s),s=Le,(kt===null?s.memoizedState:kt.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?jb:Lb),i}function zd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Tu(i);if(i.$$typeof===F)return mn(i)}throw Error(r(438,String(i)))}function sp(i){var s=null,l=Le.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=Le.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=ip(),Le.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),c=0;c<i;c++)l[c]=D;return s.index++,l}function Ri(i,s){return typeof s=="function"?s(i):s}function qd(i){var s=Dt();return ap(s,it,i)}function ap(i,s,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var g=i.baseQueue,b=c.pending;if(b!==null){if(g!==null){var R=g.next;g.next=b.next,b.next=R}s.baseQueue=g=b,c.pending=null}if(b=i.baseState,g===null)i.memoizedState=b;else{s=g.next;var k=R=null,z=null,te=s,le=!1;do{var fe=te.lane&-536870913;if(fe!==te.lane?(Ke&fe)===fe:(us&fe)===fe){var ne=te.revertLane;if(ne===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),fe===ko&&(le=!0);else if((us&ne)===ne){te=te.next,ne===ko&&(le=!0);continue}else fe={lane:0,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},z===null?(k=z=fe,R=b):z=z.next=fe,Le.lanes|=ne,gs|=ne;fe=te.action,Ia&&l(b,fe),b=te.hasEagerState?te.eagerState:l(b,fe)}else ne={lane:fe,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},z===null?(k=z=ne,R=b):z=z.next=ne,Le.lanes|=fe,gs|=fe;te=te.next}while(te!==null&&te!==s);if(z===null?R=b:z.next=k,!jn(b,i.memoizedState)&&(Gt=!0,le&&(l=Do,l!==null)))throw l;i.memoizedState=b,i.baseState=R,i.baseQueue=z,c.lastRenderedState=b}return g===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function op(i){var s=Dt(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,g=l.pending,b=s.memoizedState;if(g!==null){l.pending=null;var R=g=g.next;do b=i(b,R.action),R=R.next;while(R!==g);jn(b,s.memoizedState)||(Gt=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),l.lastRenderedState=b}return[b,c]}function nb(i,s,l){var c=Le,g=Dt(),b=Ze;if(b){if(l===void 0)throw Error(r(407));l=l()}else l=s();var R=!jn((it||g).memoizedState,l);R&&(g.memoizedState=l,Gt=!0),g=g.queue;var k=sb.bind(null,c,g,i);if(Su(2048,8,k,[i]),g.getSnapshot!==s||R||kt!==null&&kt.memoizedState.tag&1){if(c.flags|=2048,Lo(9,Hd(),ib.bind(null,c,g,l,s),null),dt===null)throw Error(r(349));b||(us&124)!==0||rb(c,s,l)}return l}function rb(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Le.updateQueue,s===null?(s=ip(),Le.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function ib(i,s,l,c){s.value=l,s.getSnapshot=c,ab(s)&&ob(i)}function sb(i,s,l){return l(function(){ab(s)&&ob(i)})}function ab(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!jn(i,l)}catch{return!0}}function ob(i){var s=Co(i,2);s!==null&&Bn(s,i,2)}function lp(i){var s=In();if(typeof i=="function"){var l=i;if(i=l(),Ia){On(!0);try{l()}finally{On(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:i},s}function lb(i,s,l,c){return i.baseState=l,ap(i,it,typeof c=="function"?c:Ri)}function SC(i,s,l,c,g){if(Kd(i))throw Error(r(485));if(i=s.action,i!==null){var b={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){b.listeners.push(R)}};W.T!==null?l(!0):b.isTransition=!1,c(b),l=s.pending,l===null?(b.next=s.pending=b,ub(s,b)):(b.next=l.next,s.pending=l.next=b)}}function ub(i,s){var l=s.action,c=s.payload,g=i.state;if(s.isTransition){var b=W.T,R={};W.T=R;try{var k=l(g,c),z=W.S;z!==null&&z(R,k),cb(i,s,k)}catch(te){up(i,s,te)}finally{W.T=b}}else try{b=l(g,c),cb(i,s,b)}catch(te){up(i,s,te)}}function cb(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){db(i,s,c)},function(c){return up(i,s,c)}):db(i,s,l)}function db(i,s,l){s.status="fulfilled",s.value=l,fb(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,ub(i,l)))}function up(i,s,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,fb(s),s=s.next;while(s!==c)}i.action=null}function fb(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function hb(i,s){return s}function mb(i,s){if(Ze){var l=dt.formState;if(l!==null){e:{var c=Le;if(Ze){if(_t){t:{for(var g=_t,b=zr;g.nodeType!==8;){if(!b){g=null;break t}if(g=xr(g.nextSibling),g===null){g=null;break t}}b=g.data,g=b==="F!"||b==="F"?g:null}if(g){_t=xr(g.nextSibling),c=g.data==="F!";break e}}Ra(c)}c=!1}c&&(s=l[0])}}return l=In(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hb,lastRenderedState:s},l.queue=c,l=Db.bind(null,Le,c),c.dispatch=l,c=lp(!1),b=mp.bind(null,Le,!1,c.queue),c=In(),g={state:s,dispatch:null,action:i,pending:null},c.queue=g,l=SC.bind(null,Le,g,b,l),g.dispatch=l,c.memoizedState=i,[s,l,!1]}function pb(i){var s=Dt();return gb(s,it,i)}function gb(i,s,l){if(s=ap(i,s,hb)[0],i=qd(Ri)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Tu(s)}catch(R){throw R===vu?Vd:R}else c=s;s=Dt();var g=s.queue,b=g.dispatch;return l!==s.memoizedState&&(Le.flags|=2048,Lo(9,Hd(),RC.bind(null,g,l),null)),[c,b,i]}function RC(i,s){i.action=s}function yb(i){var s=Dt(),l=it;if(l!==null)return gb(s,l,i);Dt(),s=s.memoizedState,l=Dt();var c=l.queue.dispatch;return l.memoizedState=i,[s,c,!1]}function Lo(i,s,l,c){return i={tag:i,create:l,deps:c,inst:s,next:null},s=Le.updateQueue,s===null&&(s=ip(),Le.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,s.lastEffect=i),i}function Hd(){return{destroy:void 0,resource:void 0}}function vb(){return Dt().memoizedState}function Gd(i,s,l,c){var g=In();c=c===void 0?null:c,Le.flags|=i,g.memoizedState=Lo(1|s,Hd(),l,c)}function Su(i,s,l,c){var g=Dt();c=c===void 0?null:c;var b=g.memoizedState.inst;it!==null&&c!==null&&Jm(c,it.memoizedState.deps)?g.memoizedState=Lo(s,b,l,c):(Le.flags|=i,g.memoizedState=Lo(1|s,b,l,c))}function bb(i,s){Gd(8390656,8,i,s)}function _b(i,s){Su(2048,8,i,s)}function wb(i,s){return Su(4,2,i,s)}function Eb(i,s){return Su(4,4,i,s)}function xb(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Tb(i,s,l){l=l!=null?l.concat([i]):null,Su(4,4,xb.bind(null,s,i),l)}function cp(){}function Sb(i,s){var l=Dt();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&Jm(s,c[1])?c[0]:(l.memoizedState=[i,s],i)}function Rb(i,s){var l=Dt();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&Jm(s,c[1]))return c[0];if(c=i(),Ia){On(!0);try{i()}finally{On(!1)}}return l.memoizedState=[c,s],c}function dp(i,s,l){return l===void 0||(us&1073741824)!==0?i.memoizedState=s:(i.memoizedState=l,i=N_(),Le.lanes|=i,gs|=i,l)}function Ab(i,s,l,c){return jn(l,s)?l:Oo.current!==null?(i=dp(i,l,c),jn(i,s)||(Gt=!0),i):(us&42)===0?(Gt=!0,i.memoizedState=l):(i=N_(),Le.lanes|=i,gs|=i,s)}function Cb(i,s,l,c,g){var b=oe.p;oe.p=b!==0&&8>b?b:8;var R=W.T,k={};W.T=k,mp(i,!1,s,l);try{var z=g(),te=W.S;if(te!==null&&te(k,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var le=EC(z,c);Ru(i,s,le,$n(i))}else Ru(i,s,c,$n(i))}catch(fe){Ru(i,s,{then:function(){},status:"rejected",reason:fe},$n())}finally{oe.p=b,W.T=R}}function AC(){}function fp(i,s,l,c){if(i.tag!==5)throw Error(r(476));var g=Nb(i).queue;Cb(i,g,s,me,l===null?AC:function(){return Ib(i),l(c)})}function Nb(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:me},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Ib(i){var s=Nb(i).next.queue;Ru(i,s,{},$n())}function hp(){return mn(qu)}function Pb(){return Dt().memoizedState}function kb(){return Dt().memoizedState}function CC(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=$n();i=os(l);var c=ls(s,i,l);c!==null&&(Bn(c,s,l),_u(c,s,l)),s={cache:zm()},i.payload=s;return}s=s.return}}function NC(i,s,l){var c=$n();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Kd(i)?Ob(s,l):(l=Dm(i,s,l,c),l!==null&&(Bn(l,i,c),Mb(l,s,c)))}function Db(i,s,l){var c=$n();Ru(i,s,l,c)}function Ru(i,s,l,c){var g={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Kd(i))Ob(s,g);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var R=s.lastRenderedState,k=b(R,l);if(g.hasEagerState=!0,g.eagerState=k,jn(k,R))return Id(i,s,g,0),dt===null&&Nd(),!1}catch{}finally{}if(l=Dm(i,s,g,c),l!==null)return Bn(l,i,c),Mb(l,s,c),!0}return!1}function mp(i,s,l,c){if(c={lane:2,revertLane:Gp(),action:c,hasEagerState:!1,eagerState:null,next:null},Kd(i)){if(s)throw Error(r(479))}else s=Dm(i,l,c,2),s!==null&&Bn(s,i,2)}function Kd(i){var s=i.alternate;return i===Le||s!==null&&s===Le}function Ob(i,s){Mo=$d=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function Mb(i,s,l){if((l&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,Ql(i,l)}}var Qd={readContext:mn,use:zd,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St},jb={readContext:mn,use:zd,useCallback:function(i,s){return In().memoizedState=[i,s===void 0?null:s],i},useContext:mn,useEffect:bb,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,Gd(4194308,4,xb.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Gd(4194308,4,i,s)},useInsertionEffect:function(i,s){Gd(4,2,i,s)},useMemo:function(i,s){var l=In();s=s===void 0?null:s;var c=i();if(Ia){On(!0);try{i()}finally{On(!1)}}return l.memoizedState=[c,s],c},useReducer:function(i,s,l){var c=In();if(l!==void 0){var g=l(s);if(Ia){On(!0);try{l(s)}finally{On(!1)}}}else g=s;return c.memoizedState=c.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},c.queue=i,i=i.dispatch=NC.bind(null,Le,i),[c.memoizedState,i]},useRef:function(i){var s=In();return i={current:i},s.memoizedState=i},useState:function(i){i=lp(i);var s=i.queue,l=Db.bind(null,Le,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:cp,useDeferredValue:function(i,s){var l=In();return dp(l,i,s)},useTransition:function(){var i=lp(!1);return i=Cb.bind(null,Le,i.queue,!0,!1),In().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var c=Le,g=In();if(Ze){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),dt===null)throw Error(r(349));(Ke&124)!==0||rb(c,s,l)}g.memoizedState=l;var b={value:l,getSnapshot:s};return g.queue=b,bb(sb.bind(null,c,b,i),[i]),c.flags|=2048,Lo(9,Hd(),ib.bind(null,c,b,l,s),null),l},useId:function(){var i=In(),s=dt.identifierPrefix;if(Ze){var l=xi,c=Ei;l=(c&~(1<<32-hn(c)-1)).toString(32)+l,s=""+s+"R"+l,l=Bd++,0<l&&(s+="H"+l.toString(32)),s+=""}else l=xC++,s=""+s+"r"+l.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:hp,useFormState:mb,useActionState:mb,useOptimistic:function(i){var s=In();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=mp.bind(null,Le,!0,l),l.dispatch=s,[i,s]},useMemoCache:sp,useCacheRefresh:function(){return In().memoizedState=CC.bind(null,Le)}},Lb={readContext:mn,use:zd,useCallback:Sb,useContext:mn,useEffect:_b,useImperativeHandle:Tb,useInsertionEffect:wb,useLayoutEffect:Eb,useMemo:Rb,useReducer:qd,useRef:vb,useState:function(){return qd(Ri)},useDebugValue:cp,useDeferredValue:function(i,s){var l=Dt();return Ab(l,it.memoizedState,i,s)},useTransition:function(){var i=qd(Ri)[0],s=Dt().memoizedState;return[typeof i=="boolean"?i:Tu(i),s]},useSyncExternalStore:nb,useId:Pb,useHostTransitionStatus:hp,useFormState:pb,useActionState:pb,useOptimistic:function(i,s){var l=Dt();return lb(l,it,i,s)},useMemoCache:sp,useCacheRefresh:kb},IC={readContext:mn,use:zd,useCallback:Sb,useContext:mn,useEffect:_b,useImperativeHandle:Tb,useInsertionEffect:wb,useLayoutEffect:Eb,useMemo:Rb,useReducer:op,useRef:vb,useState:function(){return op(Ri)},useDebugValue:cp,useDeferredValue:function(i,s){var l=Dt();return it===null?dp(l,i,s):Ab(l,it.memoizedState,i,s)},useTransition:function(){var i=op(Ri)[0],s=Dt().memoizedState;return[typeof i=="boolean"?i:Tu(i),s]},useSyncExternalStore:nb,useId:Pb,useHostTransitionStatus:hp,useFormState:yb,useActionState:yb,useOptimistic:function(i,s){var l=Dt();return it!==null?lb(l,it,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:sp,useCacheRefresh:kb},Vo=null,Au=0;function Yd(i){var s=Au;return Au+=1,Vo===null&&(Vo=[]),Q0(Vo,i,s)}function Cu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Xd(i,s){throw s.$$typeof===v?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Vb(i){var s=i._init;return s(i._payload)}function Ub(i){function s(Q,G){if(i){var J=Q.deletions;J===null?(Q.deletions=[G],Q.flags|=16):J.push(G)}}function l(Q,G){if(!i)return null;for(;G!==null;)s(Q,G),G=G.sibling;return null}function c(Q){for(var G=new Map;Q!==null;)Q.key!==null?G.set(Q.key,Q):G.set(Q.index,Q),Q=Q.sibling;return G}function g(Q,G){return Q=wi(Q,G),Q.index=0,Q.sibling=null,Q}function b(Q,G,J){return Q.index=J,i?(J=Q.alternate,J!==null?(J=J.index,J<G?(Q.flags|=67108866,G):J):(Q.flags|=67108866,G)):(Q.flags|=1048576,G)}function R(Q){return i&&Q.alternate===null&&(Q.flags|=67108866),Q}function k(Q,G,J,ce){return G===null||G.tag!==6?(G=Mm(J,Q.mode,ce),G.return=Q,G):(G=g(G,J),G.return=Q,G)}function z(Q,G,J,ce){var Ee=J.type;return Ee===w?le(Q,G,J.props.children,ce,J.key):G!==null&&(G.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===I&&Vb(Ee)===G.type)?(G=g(G,J.props),Cu(G,J),G.return=Q,G):(G=kd(J.type,J.key,J.props,null,Q.mode,ce),Cu(G,J),G.return=Q,G)}function te(Q,G,J,ce){return G===null||G.tag!==4||G.stateNode.containerInfo!==J.containerInfo||G.stateNode.implementation!==J.implementation?(G=jm(J,Q.mode,ce),G.return=Q,G):(G=g(G,J.children||[]),G.return=Q,G)}function le(Q,G,J,ce,Ee){return G===null||G.tag!==7?(G=Ea(J,Q.mode,ce,Ee),G.return=Q,G):(G=g(G,J),G.return=Q,G)}function fe(Q,G,J){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Mm(""+G,Q.mode,J),G.return=Q,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case _:return J=kd(G.type,G.key,G.props,null,Q.mode,J),Cu(J,G),J.return=Q,J;case x:return G=jm(G,Q.mode,J),G.return=Q,G;case I:var ce=G._init;return G=ce(G._payload),fe(Q,G,J)}if(we(G)||q(G))return G=Ea(G,Q.mode,J,null),G.return=Q,G;if(typeof G.then=="function")return fe(Q,Yd(G),J);if(G.$$typeof===F)return fe(Q,jd(Q,G),J);Xd(Q,G)}return null}function ne(Q,G,J,ce){var Ee=G!==null?G.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Ee!==null?null:k(Q,G,""+J,ce);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case _:return J.key===Ee?z(Q,G,J,ce):null;case x:return J.key===Ee?te(Q,G,J,ce):null;case I:return Ee=J._init,J=Ee(J._payload),ne(Q,G,J,ce)}if(we(J)||q(J))return Ee!==null?null:le(Q,G,J,ce,null);if(typeof J.then=="function")return ne(Q,G,Yd(J),ce);if(J.$$typeof===F)return ne(Q,G,jd(Q,J),ce);Xd(Q,J)}return null}function re(Q,G,J,ce,Ee){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Q=Q.get(J)||null,k(G,Q,""+ce,Ee);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case _:return Q=Q.get(ce.key===null?J:ce.key)||null,z(G,Q,ce,Ee);case x:return Q=Q.get(ce.key===null?J:ce.key)||null,te(G,Q,ce,Ee);case I:var Ue=ce._init;return ce=Ue(ce._payload),re(Q,G,J,ce,Ee)}if(we(ce)||q(ce))return Q=Q.get(J)||null,le(G,Q,ce,Ee,null);if(typeof ce.then=="function")return re(Q,G,J,Yd(ce),Ee);if(ce.$$typeof===F)return re(Q,G,J,jd(G,ce),Ee);Xd(G,ce)}return null}function Ie(Q,G,J,ce){for(var Ee=null,Ue=null,xe=G,Ae=G=0,Qt=null;xe!==null&&Ae<J.length;Ae++){xe.index>Ae?(Qt=xe,xe=null):Qt=xe.sibling;var We=ne(Q,xe,J[Ae],ce);if(We===null){xe===null&&(xe=Qt);break}i&&xe&&We.alternate===null&&s(Q,xe),G=b(We,G,Ae),Ue===null?Ee=We:Ue.sibling=We,Ue=We,xe=Qt}if(Ae===J.length)return l(Q,xe),Ze&&Ta(Q,Ae),Ee;if(xe===null){for(;Ae<J.length;Ae++)xe=fe(Q,J[Ae],ce),xe!==null&&(G=b(xe,G,Ae),Ue===null?Ee=xe:Ue.sibling=xe,Ue=xe);return Ze&&Ta(Q,Ae),Ee}for(xe=c(xe);Ae<J.length;Ae++)Qt=re(xe,Q,Ae,J[Ae],ce),Qt!==null&&(i&&Qt.alternate!==null&&xe.delete(Qt.key===null?Ae:Qt.key),G=b(Qt,G,Ae),Ue===null?Ee=Qt:Ue.sibling=Qt,Ue=Qt);return i&&xe.forEach(function(Ss){return s(Q,Ss)}),Ze&&Ta(Q,Ae),Ee}function Re(Q,G,J,ce){if(J==null)throw Error(r(151));for(var Ee=null,Ue=null,xe=G,Ae=G=0,Qt=null,We=J.next();xe!==null&&!We.done;Ae++,We=J.next()){xe.index>Ae?(Qt=xe,xe=null):Qt=xe.sibling;var Ss=ne(Q,xe,We.value,ce);if(Ss===null){xe===null&&(xe=Qt);break}i&&xe&&Ss.alternate===null&&s(Q,xe),G=b(Ss,G,Ae),Ue===null?Ee=Ss:Ue.sibling=Ss,Ue=Ss,xe=Qt}if(We.done)return l(Q,xe),Ze&&Ta(Q,Ae),Ee;if(xe===null){for(;!We.done;Ae++,We=J.next())We=fe(Q,We.value,ce),We!==null&&(G=b(We,G,Ae),Ue===null?Ee=We:Ue.sibling=We,Ue=We);return Ze&&Ta(Q,Ae),Ee}for(xe=c(xe);!We.done;Ae++,We=J.next())We=re(xe,Q,Ae,We.value,ce),We!==null&&(i&&We.alternate!==null&&xe.delete(We.key===null?Ae:We.key),G=b(We,G,Ae),Ue===null?Ee=We:Ue.sibling=We,Ue=We);return i&&xe.forEach(function(PN){return s(Q,PN)}),Ze&&Ta(Q,Ae),Ee}function at(Q,G,J,ce){if(typeof J=="object"&&J!==null&&J.type===w&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case _:e:{for(var Ee=J.key;G!==null;){if(G.key===Ee){if(Ee=J.type,Ee===w){if(G.tag===7){l(Q,G.sibling),ce=g(G,J.props.children),ce.return=Q,Q=ce;break e}}else if(G.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===I&&Vb(Ee)===G.type){l(Q,G.sibling),ce=g(G,J.props),Cu(ce,J),ce.return=Q,Q=ce;break e}l(Q,G);break}else s(Q,G);G=G.sibling}J.type===w?(ce=Ea(J.props.children,Q.mode,ce,J.key),ce.return=Q,Q=ce):(ce=kd(J.type,J.key,J.props,null,Q.mode,ce),Cu(ce,J),ce.return=Q,Q=ce)}return R(Q);case x:e:{for(Ee=J.key;G!==null;){if(G.key===Ee)if(G.tag===4&&G.stateNode.containerInfo===J.containerInfo&&G.stateNode.implementation===J.implementation){l(Q,G.sibling),ce=g(G,J.children||[]),ce.return=Q,Q=ce;break e}else{l(Q,G);break}else s(Q,G);G=G.sibling}ce=jm(J,Q.mode,ce),ce.return=Q,Q=ce}return R(Q);case I:return Ee=J._init,J=Ee(J._payload),at(Q,G,J,ce)}if(we(J))return Ie(Q,G,J,ce);if(q(J)){if(Ee=q(J),typeof Ee!="function")throw Error(r(150));return J=Ee.call(J),Re(Q,G,J,ce)}if(typeof J.then=="function")return at(Q,G,Yd(J),ce);if(J.$$typeof===F)return at(Q,G,jd(Q,J),ce);Xd(Q,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,G!==null&&G.tag===6?(l(Q,G.sibling),ce=g(G,J),ce.return=Q,Q=ce):(l(Q,G),ce=Mm(J,Q.mode,ce),ce.return=Q,Q=ce),R(Q)):l(Q,G)}return function(Q,G,J,ce){try{Au=0;var Ee=at(Q,G,J,ce);return Vo=null,Ee}catch(xe){if(xe===vu||xe===Vd)throw xe;var Ue=Ln(29,xe,null,Q.mode);return Ue.lanes=ce,Ue.return=Q,Ue}finally{}}}var Uo=Ub(!0),Fb=Ub(!1),ir=$(null),qr=null;function cs(i){var s=i.alternate;K(Bt,Bt.current&1),K(ir,i),qr===null&&(s===null||Oo.current!==null||s.memoizedState!==null)&&(qr=i)}function $b(i){if(i.tag===22){if(K(Bt,Bt.current),K(ir,i),qr===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(qr=i)}}else ds()}function ds(){K(Bt,Bt.current),K(ir,ir.current)}function Ai(i){B(ir),qr===i&&(qr=null),B(Bt)}var Bt=$(0);function Wd(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||ig(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function pp(i,s,l,c){s=i.memoizedState,l=l(c,s),l=l==null?s:p({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var gp={enqueueSetState:function(i,s,l){i=i._reactInternals;var c=$n(),g=os(c);g.payload=s,l!=null&&(g.callback=l),s=ls(i,g,c),s!==null&&(Bn(s,i,c),_u(s,i,c))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var c=$n(),g=os(c);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=ls(i,g,c),s!==null&&(Bn(s,i,c),_u(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=$n(),c=os(l);c.tag=2,s!=null&&(c.callback=s),s=ls(i,c,l),s!==null&&(Bn(s,i,l),_u(s,i,l))}};function Bb(i,s,l,c,g,b,R){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,b,R):s.prototype&&s.prototype.isPureReactComponent?!cu(l,c)||!cu(g,b):!0}function zb(i,s,l,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==i&&gp.enqueueReplaceState(s,s.state,null)}function Pa(i,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(i=i.defaultProps){l===s&&(l=p({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}var Zd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function qb(i){Zd(i)}function Hb(i){console.error(i)}function Gb(i){Zd(i)}function Jd(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function Kb(i,s,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function yp(i,s,l){return l=os(l),l.tag=3,l.payload={element:null},l.callback=function(){Jd(i,s)},l}function Qb(i){return i=os(i),i.tag=3,i}function Yb(i,s,l,c){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var b=c.value;i.payload=function(){return g(b)},i.callback=function(){Kb(s,l,c)}}var R=l.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(i.callback=function(){Kb(s,l,c),typeof g!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var k=c.stack;this.componentDidCatch(c.value,{componentStack:k!==null?k:""})})}function PC(i,s,l,c,g){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&pu(s,l,g,!0),l=ir.current,l!==null){switch(l.tag){case 13:return qr===null?$p():l.alternate===null&&wt===0&&(wt=3),l.flags&=-257,l.flags|=65536,l.lanes=g,c===Gm?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),zp(i,c,g)),!1;case 22:return l.flags|=65536,c===Gm?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),zp(i,c,g)),!1}throw Error(r(435,l.tag))}return zp(i,c,g),$p(),!1}if(Ze)return s=ir.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,c!==Um&&(i=Error(r(422),{cause:c}),mu(er(i,l)))):(c!==Um&&(s=Error(r(423),{cause:c}),mu(er(s,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,c=er(c,l),g=yp(i.stateNode,c,g),Ym(i,g),wt!==4&&(wt=2)),!1;var b=Error(r(520),{cause:c});if(b=er(b,l),Mu===null?Mu=[b]:Mu.push(b),wt!==4&&(wt=2),s===null)return!0;c=er(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=yp(l.stateNode,c,i),Ym(l,i),!1;case 1:if(s=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ys===null||!ys.has(b))))return l.flags|=65536,g&=-g,l.lanes|=g,g=Qb(g),Yb(g,i,l,c),Ym(l,g),!1}l=l.return}while(l!==null);return!1}var Xb=Error(r(461)),Gt=!1;function nn(i,s,l,c){s.child=i===null?Fb(s,null,l,c):Uo(s,i.child,l,c)}function Wb(i,s,l,c,g){l=l.render;var b=s.ref;if("ref"in c){var R={};for(var k in c)k!=="ref"&&(R[k]=c[k])}else R=c;return Ca(s),c=ep(i,s,l,R,b,g),k=tp(),i!==null&&!Gt?(np(i,s,g),Ci(i,s,g)):(Ze&&k&&Lm(s),s.flags|=1,nn(i,s,c,g),s.child)}function Zb(i,s,l,c,g){if(i===null){var b=l.type;return typeof b=="function"&&!Om(b)&&b.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=b,Jb(i,s,b,c,g)):(i=kd(l.type,null,c,s,s.mode,g),i.ref=s.ref,i.return=s,s.child=i)}if(b=i.child,!Sp(i,g)){var R=b.memoizedProps;if(l=l.compare,l=l!==null?l:cu,l(R,c)&&i.ref===s.ref)return Ci(i,s,g)}return s.flags|=1,i=wi(b,c),i.ref=s.ref,i.return=s,s.child=i}function Jb(i,s,l,c,g){if(i!==null){var b=i.memoizedProps;if(cu(b,c)&&i.ref===s.ref)if(Gt=!1,s.pendingProps=c=b,Sp(i,g))(i.flags&131072)!==0&&(Gt=!0);else return s.lanes=i.lanes,Ci(i,s,g)}return vp(i,s,l,c,g)}function e_(i,s,l){var c=s.pendingProps,g=c.children,b=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=b!==null?b.baseLanes|l:l,i!==null){for(g=s.child=i.child,b=0;g!==null;)b=b|g.lanes|g.childLanes,g=g.sibling;s.childLanes=b&~c}else s.childLanes=0,s.child=null;return t_(i,s,c,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ld(s,b!==null?b.cachePool:null),b!==null?J0(s,b):Wm(),$b(s);else return s.lanes=s.childLanes=536870912,t_(i,s,b!==null?b.baseLanes|l:l,l)}else b!==null?(Ld(s,b.cachePool),J0(s,b),ds(),s.memoizedState=null):(i!==null&&Ld(s,null),Wm(),ds());return nn(i,s,g,l),s.child}function t_(i,s,l,c){var g=Hm();return g=g===null?null:{parent:$t._currentValue,pool:g},s.memoizedState={baseLanes:l,cachePool:g},i!==null&&Ld(s,null),Wm(),$b(s),i!==null&&pu(i,s,c,!0),null}function ef(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function vp(i,s,l,c,g){return Ca(s),l=ep(i,s,l,c,void 0,g),c=tp(),i!==null&&!Gt?(np(i,s,g),Ci(i,s,g)):(Ze&&c&&Lm(s),s.flags|=1,nn(i,s,l,g),s.child)}function n_(i,s,l,c,g,b){return Ca(s),s.updateQueue=null,l=tb(s,c,l,g),eb(i),c=tp(),i!==null&&!Gt?(np(i,s,b),Ci(i,s,b)):(Ze&&c&&Lm(s),s.flags|=1,nn(i,s,l,b),s.child)}function r_(i,s,l,c,g){if(Ca(s),s.stateNode===null){var b=No,R=l.contextType;typeof R=="object"&&R!==null&&(b=mn(R)),b=new l(c,b),s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=gp,s.stateNode=b,b._reactInternals=s,b=s.stateNode,b.props=c,b.state=s.memoizedState,b.refs={},Km(s),R=l.contextType,b.context=typeof R=="object"&&R!==null?mn(R):No,b.state=s.memoizedState,R=l.getDerivedStateFromProps,typeof R=="function"&&(pp(s,l,R,c),b.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(R=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),R!==b.state&&gp.enqueueReplaceState(b,b.state,null),Eu(s,c,b,g),wu(),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){b=s.stateNode;var k=s.memoizedProps,z=Pa(l,k);b.props=z;var te=b.context,le=l.contextType;R=No,typeof le=="object"&&le!==null&&(R=mn(le));var fe=l.getDerivedStateFromProps;le=typeof fe=="function"||typeof b.getSnapshotBeforeUpdate=="function",k=s.pendingProps!==k,le||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k||te!==R)&&zb(s,b,c,R),as=!1;var ne=s.memoizedState;b.state=ne,Eu(s,c,b,g),wu(),te=s.memoizedState,k||ne!==te||as?(typeof fe=="function"&&(pp(s,l,fe,c),te=s.memoizedState),(z=as||Bb(s,l,z,c,ne,te,R))?(le||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=te),b.props=c,b.state=te,b.context=R,c=z):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{b=s.stateNode,Qm(i,s),R=s.memoizedProps,le=Pa(l,R),b.props=le,fe=s.pendingProps,ne=b.context,te=l.contextType,z=No,typeof te=="object"&&te!==null&&(z=mn(te)),k=l.getDerivedStateFromProps,(te=typeof k=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(R!==fe||ne!==z)&&zb(s,b,c,z),as=!1,ne=s.memoizedState,b.state=ne,Eu(s,c,b,g),wu();var re=s.memoizedState;R!==fe||ne!==re||as||i!==null&&i.dependencies!==null&&Md(i.dependencies)?(typeof k=="function"&&(pp(s,l,k,c),re=s.memoizedState),(le=as||Bb(s,l,le,c,ne,re,z)||i!==null&&i.dependencies!==null&&Md(i.dependencies))?(te||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(c,re,z),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(c,re,z)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||R===i.memoizedProps&&ne===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&ne===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=re),b.props=c,b.state=re,b.context=z,c=le):(typeof b.componentDidUpdate!="function"||R===i.memoizedProps&&ne===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&ne===i.memoizedState||(s.flags|=1024),c=!1)}return b=c,ef(i,s),c=(s.flags&128)!==0,b||c?(b=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:b.render(),s.flags|=1,i!==null&&c?(s.child=Uo(s,i.child,null,g),s.child=Uo(s,null,l,g)):nn(i,s,l,g),s.memoizedState=b.state,i=s.child):i=Ci(i,s,g),i}function i_(i,s,l,c){return hu(),s.flags|=256,nn(i,s,l,c),s.child}var bp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _p(i){return{baseLanes:i,cachePool:H0()}}function wp(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=sr),i}function s_(i,s,l){var c=s.pendingProps,g=!1,b=(s.flags&128)!==0,R;if((R=b)||(R=i!==null&&i.memoizedState===null?!1:(Bt.current&2)!==0),R&&(g=!0,s.flags&=-129),R=(s.flags&32)!==0,s.flags&=-33,i===null){if(Ze){if(g?cs(s):ds(),Ze){var k=_t,z;if(z=k){e:{for(z=k,k=zr;z.nodeType!==8;){if(!k){k=null;break e}if(z=xr(z.nextSibling),z===null){k=null;break e}}k=z}k!==null?(s.memoizedState={dehydrated:k,treeContext:xa!==null?{id:Ei,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},z=Ln(18,null,null,0),z.stateNode=k,z.return=s,s.child=z,Tn=s,_t=null,z=!0):z=!1}z||Ra(s)}if(k=s.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return ig(k)?s.lanes=32:s.lanes=536870912,null;Ai(s)}return k=c.children,c=c.fallback,g?(ds(),g=s.mode,k=tf({mode:"hidden",children:k},g),c=Ea(c,g,l,null),k.return=s,c.return=s,k.sibling=c,s.child=k,g=s.child,g.memoizedState=_p(l),g.childLanes=wp(i,R,l),s.memoizedState=bp,c):(cs(s),Ep(s,k))}if(z=i.memoizedState,z!==null&&(k=z.dehydrated,k!==null)){if(b)s.flags&256?(cs(s),s.flags&=-257,s=xp(i,s,l)):s.memoizedState!==null?(ds(),s.child=i.child,s.flags|=128,s=null):(ds(),g=c.fallback,k=s.mode,c=tf({mode:"visible",children:c.children},k),g=Ea(g,k,l,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,Uo(s,i.child,null,l),c=s.child,c.memoizedState=_p(l),c.childLanes=wp(i,R,l),s.memoizedState=bp,s=g);else if(cs(s),ig(k)){if(R=k.nextSibling&&k.nextSibling.dataset,R)var te=R.dgst;R=te,c=Error(r(419)),c.stack="",c.digest=R,mu({value:c,source:null,stack:null}),s=xp(i,s,l)}else if(Gt||pu(i,s,l,!1),R=(l&i.childLanes)!==0,Gt||R){if(R=dt,R!==null&&(c=l&-l,c=(c&42)!==0?1:Zi(c),c=(c&(R.suspendedLanes|l))!==0?0:c,c!==0&&c!==z.retryLane))throw z.retryLane=c,Co(i,c),Bn(R,i,c),Xb;k.data==="$?"||$p(),s=xp(i,s,l)}else k.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=z.treeContext,_t=xr(k.nextSibling),Tn=s,Ze=!0,Sa=null,zr=!1,i!==null&&(nr[rr++]=Ei,nr[rr++]=xi,nr[rr++]=xa,Ei=i.id,xi=i.overflow,xa=s),s=Ep(s,c.children),s.flags|=4096);return s}return g?(ds(),g=c.fallback,k=s.mode,z=i.child,te=z.sibling,c=wi(z,{mode:"hidden",children:c.children}),c.subtreeFlags=z.subtreeFlags&65011712,te!==null?g=wi(te,g):(g=Ea(g,k,l,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,k=i.child.memoizedState,k===null?k=_p(l):(z=k.cachePool,z!==null?(te=$t._currentValue,z=z.parent!==te?{parent:te,pool:te}:z):z=H0(),k={baseLanes:k.baseLanes|l,cachePool:z}),g.memoizedState=k,g.childLanes=wp(i,R,l),s.memoizedState=bp,c):(cs(s),l=i.child,i=l.sibling,l=wi(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,i!==null&&(R=s.deletions,R===null?(s.deletions=[i],s.flags|=16):R.push(i)),s.child=l,s.memoizedState=null,l)}function Ep(i,s){return s=tf({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function tf(i,s){return i=Ln(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function xp(i,s,l){return Uo(s,i.child,null,l),i=Ep(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function a_(i,s,l){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),$m(i.return,s,l)}function Tp(i,s,l,c,g){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:g}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=l,b.tailMode=g)}function o_(i,s,l){var c=s.pendingProps,g=c.revealOrder,b=c.tail;if(nn(i,s,c.children,l),c=Bt.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&a_(i,l,s);else if(i.tag===19)a_(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(K(Bt,c),g){case"forwards":for(l=s.child,g=null;l!==null;)i=l.alternate,i!==null&&Wd(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),Tp(s,!1,g,l,b);break;case"backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(i=g.alternate,i!==null&&Wd(i)===null){s.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}Tp(s,!0,l,null,b);break;case"together":Tp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ci(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),gs|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(pu(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=wi(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=wi(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function Sp(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Md(i)))}function kC(i,s,l){switch(s.tag){case 3:ye(s,s.stateNode.containerInfo),ss(s,$t,i.memoizedState.cache),hu();break;case 27:case 5:lt(s);break;case 4:ye(s,s.stateNode.containerInfo);break;case 10:ss(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(cs(s),s.flags|=128,null):(l&s.child.childLanes)!==0?s_(i,s,l):(cs(s),i=Ci(i,s,l),i!==null?i.sibling:null);cs(s);break;case 19:var g=(i.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(pu(i,s,l,!1),c=(l&s.childLanes)!==0),g){if(c)return o_(i,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),K(Bt,Bt.current),c)break;return null;case 22:case 23:return s.lanes=0,e_(i,s,l);case 24:ss(s,$t,i.memoizedState.cache)}return Ci(i,s,l)}function l_(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)Gt=!0;else{if(!Sp(i,l)&&(s.flags&128)===0)return Gt=!1,kC(i,s,l);Gt=(i.flags&131072)!==0}else Gt=!1,Ze&&(s.flags&1048576)!==0&&V0(s,Od,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var c=s.elementType,g=c._init;if(c=g(c._payload),s.type=c,typeof c=="function")Om(c)?(i=Pa(c,i),s.tag=1,s=r_(null,s,c,i,l)):(s.tag=0,s=vp(null,s,c,i,l));else{if(c!=null){if(g=c.$$typeof,g===Y){s.tag=11,s=Wb(null,s,c,i,l);break e}else if(g===M){s.tag=14,s=Zb(null,s,c,i,l);break e}}throw s=be(c)||c,Error(r(306,s,""))}}return s;case 0:return vp(i,s,s.type,s.pendingProps,l);case 1:return c=s.type,g=Pa(c,s.pendingProps),r_(i,s,c,g,l);case 3:e:{if(ye(s,s.stateNode.containerInfo),i===null)throw Error(r(387));c=s.pendingProps;var b=s.memoizedState;g=b.element,Qm(i,s),Eu(s,c,null,l);var R=s.memoizedState;if(c=R.cache,ss(s,$t,c),c!==b.cache&&Bm(s,[$t],l,!0),wu(),c=R.element,b.isDehydrated)if(b={element:c,isDehydrated:!1,cache:R.cache},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){s=i_(i,s,c,l);break e}else if(c!==g){g=er(Error(r(424)),s),mu(g),s=i_(i,s,c,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(_t=xr(i.firstChild),Tn=s,Ze=!0,Sa=null,zr=!0,l=Fb(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(hu(),c===g){s=Ci(i,s,l);break e}nn(i,s,c,l)}s=s.child}return s;case 26:return ef(i,s),i===null?(l=fw(s.type,null,s.pendingProps,null))?s.memoizedState=l:Ze||(l=s.type,i=s.pendingProps,c=gf(ae.current).createElement(l),c[Vt]=s,c[It]=i,sn(c,l,i),Tt(c),s.stateNode=c):s.memoizedState=fw(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return lt(s),i===null&&Ze&&(c=s.stateNode=uw(s.type,s.pendingProps,ae.current),Tn=s,zr=!0,g=_t,_s(s.type)?(sg=g,_t=xr(c.firstChild)):_t=g),nn(i,s,s.pendingProps.children,l),ef(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Ze&&((g=c=_t)&&(c=aN(c,s.type,s.pendingProps,zr),c!==null?(s.stateNode=c,Tn=s,_t=xr(c.firstChild),zr=!1,g=!0):g=!1),g||Ra(s)),lt(s),g=s.type,b=s.pendingProps,R=i!==null?i.memoizedProps:null,c=b.children,tg(g,b)?c=null:R!==null&&tg(g,R)&&(s.flags|=32),s.memoizedState!==null&&(g=ep(i,s,TC,null,null,l),qu._currentValue=g),ef(i,s),nn(i,s,c,l),s.child;case 6:return i===null&&Ze&&((i=l=_t)&&(l=oN(l,s.pendingProps,zr),l!==null?(s.stateNode=l,Tn=s,_t=null,i=!0):i=!1),i||Ra(s)),null;case 13:return s_(i,s,l);case 4:return ye(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=Uo(s,null,c,l):nn(i,s,c,l),s.child;case 11:return Wb(i,s,s.type,s.pendingProps,l);case 7:return nn(i,s,s.pendingProps,l),s.child;case 8:return nn(i,s,s.pendingProps.children,l),s.child;case 12:return nn(i,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,ss(s,s.type,c.value),nn(i,s,c.children,l),s.child;case 9:return g=s.type._context,c=s.pendingProps.children,Ca(s),g=mn(g),c=c(g),s.flags|=1,nn(i,s,c,l),s.child;case 14:return Zb(i,s,s.type,s.pendingProps,l);case 15:return Jb(i,s,s.type,s.pendingProps,l);case 19:return o_(i,s,l);case 31:return c=s.pendingProps,l=s.mode,c={mode:c.mode,children:c.children},i===null?(l=tf(c,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=wi(i.child,c),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return e_(i,s,l);case 24:return Ca(s),c=mn($t),i===null?(g=Hm(),g===null&&(g=dt,b=zm(),g.pooledCache=b,b.refCount++,b!==null&&(g.pooledCacheLanes|=l),g=b),s.memoizedState={parent:c,cache:g},Km(s),ss(s,$t,g)):((i.lanes&l)!==0&&(Qm(i,s),Eu(s,null,null,l),wu()),g=i.memoizedState,b=s.memoizedState,g.parent!==c?(g={parent:c,cache:c},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),ss(s,$t,c)):(c=b.cache,ss(s,$t,c),c!==g.cache&&Bm(s,[$t],l,!0))),nn(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Ni(i){i.flags|=4}function u_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!yw(s)){if(s=ir.current,s!==null&&((Ke&4194048)===Ke?qr!==null:(Ke&62914560)!==Ke&&(Ke&536870912)===0||s!==qr))throw bu=Gm,G0;i.flags|=8192}}function nf(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Gl():536870912,i.lanes|=s,zo|=s)}function Nu(i,s){if(!Ze)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function gt(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(s)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=c,i.childLanes=l,s}function DC(i,s,l){var c=s.pendingProps;switch(Vm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(s),null;case 1:return gt(s),null;case 3:return l=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Si($t),Oe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(fu(s)?Ni(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,$0())),gt(s),null;case 26:return l=s.memoizedState,i===null?(Ni(s),l!==null?(gt(s),u_(s,l)):(gt(s),s.flags&=-16777217)):l?l!==i.memoizedState?(Ni(s),gt(s),u_(s,l)):(gt(s),s.flags&=-16777217):(i.memoizedProps!==c&&Ni(s),gt(s),s.flags&=-16777217),null;case 27:Zt(s),l=ae.current;var g=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Ni(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return gt(s),null}i=H.current,fu(s)?U0(s):(i=uw(g,c,l),s.stateNode=i,Ni(s))}return gt(s),null;case 5:if(Zt(s),l=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Ni(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return gt(s),null}if(i=H.current,fu(s))U0(s);else{switch(g=gf(ae.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?g.createElement("select",{is:c.is}):g.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?g.createElement(l,{is:c.is}):g.createElement(l)}}i[Vt]=s,i[It]=c;e:for(g=s.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===s)break e;for(;g.sibling===null;){if(g.return===null||g.return===s)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}s.stateNode=i;e:switch(sn(i,l,c),l){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Ni(s)}}return gt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&Ni(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=ae.current,fu(s)){if(i=s.stateNode,l=s.memoizedProps,c=null,g=Tn,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}i[Vt]=s,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||nw(i.nodeValue,l)),i||Ra(s)}else i=gf(i).createTextNode(c),i[Vt]=s,s.stateNode=i}return gt(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=fu(s),c!==null&&c.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Vt]=s}else hu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),g=!1}else g=$0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(Ai(s),s):(Ai(s),null)}if(Ai(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=c!==null,i=i!==null&&i.memoizedState!==null,l){c=s.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool);var b=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(b=c.memoizedState.cachePool.pool),b!==g&&(c.flags|=2048)}return l!==i&&l&&(s.child.flags|=8192),nf(s,s.updateQueue),gt(s),null;case 4:return Oe(),i===null&&Xp(s.stateNode.containerInfo),gt(s),null;case 10:return Si(s.type),gt(s),null;case 19:if(B(Bt),g=s.memoizedState,g===null)return gt(s),null;if(c=(s.flags&128)!==0,b=g.rendering,b===null)if(c)Nu(g,!1);else{if(wt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(b=Wd(i),b!==null){for(s.flags|=128,Nu(g,!1),i=b.updateQueue,s.updateQueue=i,nf(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)L0(l,i),l=l.sibling;return K(Bt,Bt.current&1|2),s.child}i=i.sibling}g.tail!==null&&Jt()>af&&(s.flags|=128,c=!0,Nu(g,!1),s.lanes=4194304)}else{if(!c)if(i=Wd(b),i!==null){if(s.flags|=128,c=!0,i=i.updateQueue,s.updateQueue=i,nf(s,i),Nu(g,!0),g.tail===null&&g.tailMode==="hidden"&&!b.alternate&&!Ze)return gt(s),null}else 2*Jt()-g.renderingStartTime>af&&l!==536870912&&(s.flags|=128,c=!0,Nu(g,!1),s.lanes=4194304);g.isBackwards?(b.sibling=s.child,s.child=b):(i=g.last,i!==null?i.sibling=b:s.child=b,g.last=b)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Jt(),s.sibling=null,i=Bt.current,K(Bt,c?i&1|2:i&1),s):(gt(s),null);case 22:case 23:return Ai(s),Zm(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(gt(s),s.subtreeFlags&6&&(s.flags|=8192)):gt(s),l=s.updateQueue,l!==null&&nf(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),i!==null&&B(Na),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Si($t),gt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function OC(i,s){switch(Vm(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Si($t),Oe(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Zt(s),null;case 13:if(Ai(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));hu()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return B(Bt),null;case 4:return Oe(),null;case 10:return Si(s.type),null;case 22:case 23:return Ai(s),Zm(),i!==null&&B(Na),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Si($t),null;case 25:return null;default:return null}}function c_(i,s){switch(Vm(s),s.tag){case 3:Si($t),Oe();break;case 26:case 27:case 5:Zt(s);break;case 4:Oe();break;case 13:Ai(s);break;case 19:B(Bt);break;case 10:Si(s.type);break;case 22:case 23:Ai(s),Zm(),i!==null&&B(Na);break;case 24:Si($t)}}function Iu(i,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var g=c.next;l=g;do{if((l.tag&i)===i){c=void 0;var b=l.create,R=l.inst;c=b(),R.destroy=c}l=l.next}while(l!==g)}}catch(k){ut(s,s.return,k)}}function fs(i,s,l){try{var c=s.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var b=g.next;c=b;do{if((c.tag&i)===i){var R=c.inst,k=R.destroy;if(k!==void 0){R.destroy=void 0,g=s;var z=l,te=k;try{te()}catch(le){ut(g,z,le)}}}c=c.next}while(c!==b)}}catch(le){ut(s,s.return,le)}}function d_(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{Z0(s,l)}catch(c){ut(i,i.return,c)}}}function f_(i,s,l){l.props=Pa(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){ut(i,s,c)}}function Pu(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(g){ut(i,s,g)}}function Hr(i,s){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(g){ut(i,s,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){ut(i,s,g)}else l.current=null}function h_(i){var s=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(g){ut(i,i.return,g)}}function Rp(i,s,l){try{var c=i.stateNode;tN(c,i.type,l,s),c[It]=s}catch(g){ut(i,i.return,g)}}function m_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&_s(i.type)||i.tag===4}function Ap(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||m_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&_s(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Cp(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=pf));else if(c!==4&&(c===27&&_s(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(Cp(i,s,l),i=i.sibling;i!==null;)Cp(i,s,l),i=i.sibling}function rf(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(c!==4&&(c===27&&_s(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(rf(i,s,l),i=i.sibling;i!==null;)rf(i,s,l),i=i.sibling}function p_(i){var s=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);sn(s,c,l),s[Vt]=i,s[It]=l}catch(b){ut(i,i.return,b)}}var Ii=!1,Rt=!1,Np=!1,g_=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function MC(i,s){if(i=i.containerInfo,Jp=Ef,i=A0(i),Am(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var g=c.anchorOffset,b=c.focusNode;c=c.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var R=0,k=-1,z=-1,te=0,le=0,fe=i,ne=null;t:for(;;){for(var re;fe!==l||g!==0&&fe.nodeType!==3||(k=R+g),fe!==b||c!==0&&fe.nodeType!==3||(z=R+c),fe.nodeType===3&&(R+=fe.nodeValue.length),(re=fe.firstChild)!==null;)ne=fe,fe=re;for(;;){if(fe===i)break t;if(ne===l&&++te===g&&(k=R),ne===b&&++le===c&&(z=R),(re=fe.nextSibling)!==null)break;fe=ne,ne=fe.parentNode}fe=re}l=k===-1||z===-1?null:{start:k,end:z}}else l=null}l=l||{start:0,end:0}}else l=null;for(eg={focusedElem:i,selectionRange:l},Ef=!1,Kt=s;Kt!==null;)if(s=Kt,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Kt=i;else for(;Kt!==null;){switch(s=Kt,b=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,l=s,g=b.memoizedProps,b=b.memoizedState,c=l.stateNode;try{var Ie=Pa(l.type,g,l.elementType===l.type);i=c.getSnapshotBeforeUpdate(Ie,b),c.__reactInternalSnapshotBeforeUpdate=i}catch(Re){ut(l,l.return,Re)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)rg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":rg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Kt=i;break}Kt=s.return}}function y_(i,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:hs(i,l),c&4&&Iu(5,l);break;case 1:if(hs(i,l),c&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(R){ut(l,l.return,R)}else{var g=Pa(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(g,s,i.__reactInternalSnapshotBeforeUpdate)}catch(R){ut(l,l.return,R)}}c&64&&d_(l),c&512&&Pu(l,l.return);break;case 3:if(hs(i,l),c&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Z0(i,s)}catch(R){ut(l,l.return,R)}}break;case 27:s===null&&c&4&&p_(l);case 26:case 5:hs(i,l),s===null&&c&4&&h_(l),c&512&&Pu(l,l.return);break;case 12:hs(i,l);break;case 13:hs(i,l),c&4&&__(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=qC.bind(null,l),lN(i,l))));break;case 22:if(c=l.memoizedState!==null||Ii,!c){s=s!==null&&s.memoizedState!==null||Rt,g=Ii;var b=Rt;Ii=c,(Rt=s)&&!b?ms(i,l,(l.subtreeFlags&8772)!==0):hs(i,l),Ii=g,Rt=b}break;case 30:break;default:hs(i,l)}}function v_(i){var s=i.alternate;s!==null&&(i.alternate=null,v_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&ts(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var mt=null,Pn=!1;function Pi(i,s,l){for(l=l.child;l!==null;)b_(i,s,l),l=l.sibling}function b_(i,s,l){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(bt,l)}catch{}switch(l.tag){case 26:Rt||Hr(l,s),Pi(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Rt||Hr(l,s);var c=mt,g=Pn;_s(l.type)&&(mt=l.stateNode,Pn=!1),Pi(i,s,l),Fu(l.stateNode),mt=c,Pn=g;break;case 5:Rt||Hr(l,s);case 6:if(c=mt,g=Pn,mt=null,Pi(i,s,l),mt=c,Pn=g,mt!==null)if(Pn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(l.stateNode)}catch(b){ut(l,s,b)}else try{mt.removeChild(l.stateNode)}catch(b){ut(l,s,b)}break;case 18:mt!==null&&(Pn?(i=mt,ow(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Qu(i)):ow(mt,l.stateNode));break;case 4:c=mt,g=Pn,mt=l.stateNode.containerInfo,Pn=!0,Pi(i,s,l),mt=c,Pn=g;break;case 0:case 11:case 14:case 15:Rt||fs(2,l,s),Rt||fs(4,l,s),Pi(i,s,l);break;case 1:Rt||(Hr(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&f_(l,s,c)),Pi(i,s,l);break;case 21:Pi(i,s,l);break;case 22:Rt=(c=Rt)||l.memoizedState!==null,Pi(i,s,l),Rt=c;break;default:Pi(i,s,l)}}function __(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Qu(i)}catch(l){ut(s,s.return,l)}}function jC(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new g_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new g_),s;default:throw Error(r(435,i.tag))}}function Ip(i,s){var l=jC(i);s.forEach(function(c){var g=HC.bind(null,i,c);l.has(c)||(l.add(c),c.then(g,g))})}function Vn(i,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var g=l[c],b=i,R=s,k=R;e:for(;k!==null;){switch(k.tag){case 27:if(_s(k.type)){mt=k.stateNode,Pn=!1;break e}break;case 5:mt=k.stateNode,Pn=!1;break e;case 3:case 4:mt=k.stateNode.containerInfo,Pn=!0;break e}k=k.return}if(mt===null)throw Error(r(160));b_(b,R,g),mt=null,Pn=!1,b=g.alternate,b!==null&&(b.return=null),g.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)w_(s,i),s=s.sibling}var Er=null;function w_(i,s){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Vn(s,i),Un(i),c&4&&(fs(3,i,i.return),Iu(3,i),fs(5,i,i.return));break;case 1:Vn(s,i),Un(i),c&512&&(Rt||l===null||Hr(l,l.return)),c&64&&Ii&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var g=Er;if(Vn(s,i),Un(i),c&512&&(Rt||l===null||Hr(l,l.return)),c&4){var b=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,g=g.ownerDocument||g;t:switch(c){case"title":b=g.getElementsByTagName("title")[0],(!b||b[aa]||b[Vt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=g.createElement(c),g.head.insertBefore(b,g.querySelector("head > title"))),sn(b,c,l),b[Vt]=i,Tt(b),c=b;break e;case"link":var R=pw("link","href",g).get(c+(l.href||""));if(R){for(var k=0;k<R.length;k++)if(b=R[k],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){R.splice(k,1);break t}}b=g.createElement(c),sn(b,c,l),g.head.appendChild(b);break;case"meta":if(R=pw("meta","content",g).get(c+(l.content||""))){for(k=0;k<R.length;k++)if(b=R[k],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){R.splice(k,1);break t}}b=g.createElement(c),sn(b,c,l),g.head.appendChild(b);break;default:throw Error(r(468,c))}b[Vt]=i,Tt(b),c=b}i.stateNode=c}else gw(g,i.type,i.stateNode);else i.stateNode=mw(g,c,i.memoizedProps);else b!==c?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,c===null?gw(g,i.type,i.stateNode):mw(g,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Rp(i,i.memoizedProps,l.memoizedProps)}break;case 27:Vn(s,i),Un(i),c&512&&(Rt||l===null||Hr(l,l.return)),l!==null&&c&4&&Rp(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Vn(s,i),Un(i),c&512&&(Rt||l===null||Hr(l,l.return)),i.flags&32){g=i.stateNode;try{Xn(g,"")}catch(re){ut(i,i.return,re)}}c&4&&i.stateNode!=null&&(g=i.memoizedProps,Rp(i,g,l!==null?l.memoizedProps:g)),c&1024&&(Np=!0);break;case 6:if(Vn(s,i),Un(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(re){ut(i,i.return,re)}}break;case 3:if(bf=null,g=Er,Er=yf(s.containerInfo),Vn(s,i),Er=g,Un(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Qu(s.containerInfo)}catch(re){ut(i,i.return,re)}Np&&(Np=!1,E_(i));break;case 4:c=Er,Er=yf(i.stateNode.containerInfo),Vn(s,i),Un(i),Er=c;break;case 12:Vn(s,i),Un(i);break;case 13:Vn(s,i),Un(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(jp=Jt()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Ip(i,c)));break;case 22:g=i.memoizedState!==null;var z=l!==null&&l.memoizedState!==null,te=Ii,le=Rt;if(Ii=te||g,Rt=le||z,Vn(s,i),Rt=le,Ii=te,Un(i),c&8192)e:for(s=i.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||z||Ii||Rt||ka(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){z=l=s;try{if(b=z.stateNode,g)R=b.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{k=z.stateNode;var fe=z.memoizedProps.style,ne=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;k.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(re){ut(z,z.return,re)}}}else if(s.tag===6){if(l===null){z=s;try{z.stateNode.nodeValue=g?"":z.memoizedProps}catch(re){ut(z,z.return,re)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Ip(i,l))));break;case 19:Vn(s,i),Un(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Ip(i,c)));break;case 30:break;case 21:break;default:Vn(s,i),Un(i)}}function Un(i){var s=i.flags;if(s&2){try{for(var l,c=i.return;c!==null;){if(m_(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,b=Ap(i);rf(i,b,g);break;case 5:var R=l.stateNode;l.flags&32&&(Xn(R,""),l.flags&=-33);var k=Ap(i);rf(i,k,R);break;case 3:case 4:var z=l.stateNode.containerInfo,te=Ap(i);Cp(i,te,z);break;default:throw Error(r(161))}}catch(le){ut(i,i.return,le)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function E_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;E_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function hs(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)y_(i,s.alternate,s),s=s.sibling}function ka(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:fs(4,s,s.return),ka(s);break;case 1:Hr(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&f_(s,s.return,l),ka(s);break;case 27:Fu(s.stateNode);case 26:case 5:Hr(s,s.return),ka(s);break;case 22:s.memoizedState===null&&ka(s);break;case 30:ka(s);break;default:ka(s)}i=i.sibling}}function ms(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,g=i,b=s,R=b.flags;switch(b.tag){case 0:case 11:case 15:ms(g,b,l),Iu(4,b);break;case 1:if(ms(g,b,l),c=b,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(te){ut(c,c.return,te)}if(c=b,g=c.updateQueue,g!==null){var k=c.stateNode;try{var z=g.shared.hiddenCallbacks;if(z!==null)for(g.shared.hiddenCallbacks=null,g=0;g<z.length;g++)W0(z[g],k)}catch(te){ut(c,c.return,te)}}l&&R&64&&d_(b),Pu(b,b.return);break;case 27:p_(b);case 26:case 5:ms(g,b,l),l&&c===null&&R&4&&h_(b),Pu(b,b.return);break;case 12:ms(g,b,l);break;case 13:ms(g,b,l),l&&R&4&&__(g,b);break;case 22:b.memoizedState===null&&ms(g,b,l),Pu(b,b.return);break;case 30:break;default:ms(g,b,l)}s=s.sibling}}function Pp(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&gu(l))}function kp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&gu(i))}function Gr(i,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)x_(i,s,l,c),s=s.sibling}function x_(i,s,l,c){var g=s.flags;switch(s.tag){case 0:case 11:case 15:Gr(i,s,l,c),g&2048&&Iu(9,s);break;case 1:Gr(i,s,l,c);break;case 3:Gr(i,s,l,c),g&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&gu(i)));break;case 12:if(g&2048){Gr(i,s,l,c),i=s.stateNode;try{var b=s.memoizedProps,R=b.id,k=b.onPostCommit;typeof k=="function"&&k(R,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(z){ut(s,s.return,z)}}else Gr(i,s,l,c);break;case 13:Gr(i,s,l,c);break;case 23:break;case 22:b=s.stateNode,R=s.alternate,s.memoizedState!==null?b._visibility&2?Gr(i,s,l,c):ku(i,s):b._visibility&2?Gr(i,s,l,c):(b._visibility|=2,Fo(i,s,l,c,(s.subtreeFlags&10256)!==0)),g&2048&&Pp(R,s);break;case 24:Gr(i,s,l,c),g&2048&&kp(s.alternate,s);break;default:Gr(i,s,l,c)}}function Fo(i,s,l,c,g){for(g=g&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var b=i,R=s,k=l,z=c,te=R.flags;switch(R.tag){case 0:case 11:case 15:Fo(b,R,k,z,g),Iu(8,R);break;case 23:break;case 22:var le=R.stateNode;R.memoizedState!==null?le._visibility&2?Fo(b,R,k,z,g):ku(b,R):(le._visibility|=2,Fo(b,R,k,z,g)),g&&te&2048&&Pp(R.alternate,R);break;case 24:Fo(b,R,k,z,g),g&&te&2048&&kp(R.alternate,R);break;default:Fo(b,R,k,z,g)}s=s.sibling}}function ku(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,c=s,g=c.flags;switch(c.tag){case 22:ku(l,c),g&2048&&Pp(c.alternate,c);break;case 24:ku(l,c),g&2048&&kp(c.alternate,c);break;default:ku(l,c)}s=s.sibling}}var Du=8192;function $o(i){if(i.subtreeFlags&Du)for(i=i.child;i!==null;)T_(i),i=i.sibling}function T_(i){switch(i.tag){case 26:$o(i),i.flags&Du&&i.memoizedState!==null&&wN(Er,i.memoizedState,i.memoizedProps);break;case 5:$o(i);break;case 3:case 4:var s=Er;Er=yf(i.stateNode.containerInfo),$o(i),Er=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Du,Du=16777216,$o(i),Du=s):$o(i));break;default:$o(i)}}function S_(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Ou(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Kt=c,A_(c,i)}S_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)R_(i),i=i.sibling}function R_(i){switch(i.tag){case 0:case 11:case 15:Ou(i),i.flags&2048&&fs(9,i,i.return);break;case 3:Ou(i);break;case 12:Ou(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,sf(i)):Ou(i);break;default:Ou(i)}}function sf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Kt=c,A_(c,i)}S_(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:fs(8,s,s.return),sf(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,sf(s));break;default:sf(s)}i=i.sibling}}function A_(i,s){for(;Kt!==null;){var l=Kt;switch(l.tag){case 0:case 11:case 15:fs(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:gu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Kt=c;else e:for(l=i;Kt!==null;){c=Kt;var g=c.sibling,b=c.return;if(v_(c),c===l){Kt=null;break e}if(g!==null){g.return=b,Kt=g;break e}Kt=b}}}var LC={getCacheForType:function(i){var s=mn($t),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l}},VC=typeof WeakMap=="function"?WeakMap:Map,tt=0,dt=null,Fe=null,Ke=0,nt=0,Fn=null,ps=!1,Bo=!1,Dp=!1,ki=0,wt=0,gs=0,Da=0,Op=0,sr=0,zo=0,Mu=null,kn=null,Mp=!1,jp=0,af=1/0,of=null,ys=null,rn=0,vs=null,qo=null,Ho=0,Lp=0,Vp=null,C_=null,ju=0,Up=null;function $n(){if((tt&2)!==0&&Ke!==0)return Ke&-Ke;if(W.T!==null){var i=ko;return i!==0?i:Gp()}return Ji()}function N_(){sr===0&&(sr=(Ke&536870912)===0||Ze?Hl():536870912);var i=ir.current;return i!==null&&(i.flags|=32),sr}function Bn(i,s,l){(i===dt&&(nt===2||nt===9)||i.cancelPendingCommit!==null)&&(Go(i,0),bs(i,Ke,sr,!1)),ci(i,l),((tt&2)===0||i!==dt)&&(i===dt&&((tt&2)===0&&(Da|=l),wt===4&&bs(i,Ke,sr,!1)),Kr(i))}function I_(i,s,l){if((tt&6)!==0)throw Error(r(327));var c=!l&&(s&124)===0&&(s&i.expiredLanes)===0||sa(i,s),g=c?$C(i,s):Bp(i,s,!0),b=c;do{if(g===0){Bo&&!c&&bs(i,s,0,!1);break}else{if(l=i.current.alternate,b&&!UC(l)){g=Bp(i,s,!1),b=!1;continue}if(g===2){if(b=s,i.errorRecoveryDisabledLanes&b)var R=0;else R=i.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){s=R;e:{var k=i;g=Mu;var z=k.current.memoizedState.isDehydrated;if(z&&(Go(k,R).flags|=256),R=Bp(k,R,!1),R!==2){if(Dp&&!z){k.errorRecoveryDisabledLanes|=b,Da|=b,g=4;break e}b=kn,kn=g,b!==null&&(kn===null?kn=b:kn.push.apply(kn,b))}g=R}if(b=!1,g!==2)continue}}if(g===1){Go(i,0),bs(i,s,0,!0);break}e:{switch(c=i,b=g,b){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:bs(c,s,sr,!ps);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(g=jp+300-Jt(),10<g)){if(bs(c,s,sr,!ps),lo(c,0,!0)!==0)break e;c.timeoutHandle=sw(P_.bind(null,c,l,kn,of,Mp,s,sr,Da,zo,ps,b,2,-0,0),g);break e}P_(c,l,kn,of,Mp,s,sr,Da,zo,ps,b,0,-0,0)}}break}while(!0);Kr(i)}function P_(i,s,l,c,g,b,R,k,z,te,le,fe,ne,re){if(i.timeoutHandle=-1,fe=s.subtreeFlags,(fe&8192||(fe&16785408)===16785408)&&(zu={stylesheets:null,count:0,unsuspend:_N},T_(s),fe=EN(),fe!==null)){i.cancelPendingCommit=fe(V_.bind(null,i,s,b,l,c,g,R,k,z,le,1,ne,re)),bs(i,b,R,!te);return}V_(i,s,b,l,c,g,R,k,z)}function UC(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var g=l[c],b=g.getSnapshot;g=g.value;try{if(!jn(b(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function bs(i,s,l,c){s&=~Op,s&=~Da,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var g=s;0<g;){var b=31-hn(g),R=1<<b;c[b]=-1,g&=~R}l!==0&&kr(i,l,s)}function lf(){return(tt&6)===0?(Lu(0),!1):!0}function Fp(){if(Fe!==null){if(nt===0)var i=Fe.return;else i=Fe,Ti=Aa=null,rp(i),Vo=null,Au=0,i=Fe;for(;i!==null;)c_(i.alternate,i),i=i.return;Fe=null}}function Go(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,rN(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Fp(),dt=i,Fe=l=wi(i.current,null),Ke=s,nt=0,Fn=null,ps=!1,Bo=sa(i,s),Dp=!1,zo=sr=Op=Da=gs=wt=0,kn=Mu=null,Mp=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var g=31-hn(c),b=1<<g;s|=i[g],c&=~b}return ki=s,Nd(),l}function k_(i,s){Le=null,W.H=Qd,s===vu||s===Vd?(s=Y0(),nt=3):s===G0?(s=Y0(),nt=4):nt=s===Xb?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Fn=s,Fe===null&&(wt=1,Jd(i,er(s,i.current)))}function D_(){var i=W.H;return W.H=Qd,i===null?Qd:i}function O_(){var i=W.A;return W.A=LC,i}function $p(){wt=4,ps||(Ke&4194048)!==Ke&&ir.current!==null||(Bo=!0),(gs&134217727)===0&&(Da&134217727)===0||dt===null||bs(dt,Ke,sr,!1)}function Bp(i,s,l){var c=tt;tt|=2;var g=D_(),b=O_();(dt!==i||Ke!==s)&&(of=null,Go(i,s)),s=!1;var R=wt;e:do try{if(nt!==0&&Fe!==null){var k=Fe,z=Fn;switch(nt){case 8:Fp(),R=6;break e;case 3:case 2:case 9:case 6:ir.current===null&&(s=!0);var te=nt;if(nt=0,Fn=null,Ko(i,k,z,te),l&&Bo){R=0;break e}break;default:te=nt,nt=0,Fn=null,Ko(i,k,z,te)}}FC(),R=wt;break}catch(le){k_(i,le)}while(!0);return s&&i.shellSuspendCounter++,Ti=Aa=null,tt=c,W.H=g,W.A=b,Fe===null&&(dt=null,Ke=0,Nd()),R}function FC(){for(;Fe!==null;)M_(Fe)}function $C(i,s){var l=tt;tt|=2;var c=D_(),g=O_();dt!==i||Ke!==s?(of=null,af=Jt()+500,Go(i,s)):Bo=sa(i,s);e:do try{if(nt!==0&&Fe!==null){s=Fe;var b=Fn;t:switch(nt){case 1:nt=0,Fn=null,Ko(i,s,b,1);break;case 2:case 9:if(K0(b)){nt=0,Fn=null,j_(s);break}s=function(){nt!==2&&nt!==9||dt!==i||(nt=7),Kr(i)},b.then(s,s);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:K0(b)?(nt=0,Fn=null,j_(s)):(nt=0,Fn=null,Ko(i,s,b,7));break;case 5:var R=null;switch(Fe.tag){case 26:R=Fe.memoizedState;case 5:case 27:var k=Fe;if(!R||yw(R)){nt=0,Fn=null;var z=k.sibling;if(z!==null)Fe=z;else{var te=k.return;te!==null?(Fe=te,uf(te)):Fe=null}break t}}nt=0,Fn=null,Ko(i,s,b,5);break;case 6:nt=0,Fn=null,Ko(i,s,b,6);break;case 8:Fp(),wt=6;break e;default:throw Error(r(462))}}BC();break}catch(le){k_(i,le)}while(!0);return Ti=Aa=null,W.H=c,W.A=g,tt=l,Fe!==null?0:(dt=null,Ke=0,Nd(),wt)}function BC(){for(;Fe!==null&&!Pr();)M_(Fe)}function M_(i){var s=l_(i.alternate,i,ki);i.memoizedProps=i.pendingProps,s===null?uf(i):Fe=s}function j_(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=n_(l,s,s.pendingProps,s.type,void 0,Ke);break;case 11:s=n_(l,s,s.pendingProps,s.type.render,s.ref,Ke);break;case 5:rp(s);default:c_(l,s),s=Fe=L0(s,ki),s=l_(l,s,ki)}i.memoizedProps=i.pendingProps,s===null?uf(i):Fe=s}function Ko(i,s,l,c){Ti=Aa=null,rp(s),Vo=null,Au=0;var g=s.return;try{if(PC(i,g,s,l,Ke)){wt=1,Jd(i,er(l,i.current)),Fe=null;return}}catch(b){if(g!==null)throw Fe=g,b;wt=1,Jd(i,er(l,i.current)),Fe=null;return}s.flags&32768?(Ze||c===1?i=!0:Bo||(Ke&536870912)!==0?i=!1:(ps=i=!0,(c===2||c===9||c===3||c===6)&&(c=ir.current,c!==null&&c.tag===13&&(c.flags|=16384))),L_(s,i)):uf(s)}function uf(i){var s=i;do{if((s.flags&32768)!==0){L_(s,ps);return}i=s.return;var l=DC(s.alternate,s,ki);if(l!==null){Fe=l;return}if(s=s.sibling,s!==null){Fe=s;return}Fe=s=i}while(s!==null);wt===0&&(wt=5)}function L_(i,s){do{var l=OC(i.alternate,i);if(l!==null){l.flags&=32767,Fe=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){Fe=i;return}Fe=i=l}while(i!==null);wt=6,Fe=null}function V_(i,s,l,c,g,b,R,k,z){i.cancelPendingCommit=null;do cf();while(rn!==0);if((tt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(b=s.lanes|s.childLanes,b|=km,Kl(i,l,b,R,k,z),i===dt&&(Fe=dt=null,Ke=0),qo=s,vs=i,Ho=l,Lp=b,Vp=g,C_=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,GC(li,function(){return z_(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=W.T,W.T=null,g=oe.p,oe.p=2,R=tt,tt|=4;try{MC(i,s,l)}finally{tt=R,oe.p=g,W.T=c}}rn=1,U_(),F_(),$_()}}function U_(){if(rn===1){rn=0;var i=vs,s=qo,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=W.T,W.T=null;var c=oe.p;oe.p=2;var g=tt;tt|=4;try{w_(s,i);var b=eg,R=A0(i.containerInfo),k=b.focusedElem,z=b.selectionRange;if(R!==k&&k&&k.ownerDocument&&R0(k.ownerDocument.documentElement,k)){if(z!==null&&Am(k)){var te=z.start,le=z.end;if(le===void 0&&(le=te),"selectionStart"in k)k.selectionStart=te,k.selectionEnd=Math.min(le,k.value.length);else{var fe=k.ownerDocument||document,ne=fe&&fe.defaultView||window;if(ne.getSelection){var re=ne.getSelection(),Ie=k.textContent.length,Re=Math.min(z.start,Ie),at=z.end===void 0?Re:Math.min(z.end,Ie);!re.extend&&Re>at&&(R=at,at=Re,Re=R);var Q=S0(k,Re),G=S0(k,at);if(Q&&G&&(re.rangeCount!==1||re.anchorNode!==Q.node||re.anchorOffset!==Q.offset||re.focusNode!==G.node||re.focusOffset!==G.offset)){var J=fe.createRange();J.setStart(Q.node,Q.offset),re.removeAllRanges(),Re>at?(re.addRange(J),re.extend(G.node,G.offset)):(J.setEnd(G.node,G.offset),re.addRange(J))}}}}for(fe=[],re=k;re=re.parentNode;)re.nodeType===1&&fe.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<fe.length;k++){var ce=fe[k];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Ef=!!Jp,eg=Jp=null}finally{tt=g,oe.p=c,W.T=l}}i.current=s,rn=2}}function F_(){if(rn===2){rn=0;var i=vs,s=qo,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=W.T,W.T=null;var c=oe.p;oe.p=2;var g=tt;tt|=4;try{y_(i,s.alternate,s)}finally{tt=g,oe.p=c,W.T=l}}rn=3}}function $_(){if(rn===4||rn===3){rn=0,Xi();var i=vs,s=qo,l=Ho,c=C_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?rn=5:(rn=0,qo=vs=null,B_(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(ys=null),uo(l),s=s.stateNode,et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(bt,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=W.T,g=oe.p,oe.p=2,W.T=null;try{for(var b=i.onRecoverableError,R=0;R<c.length;R++){var k=c[R];b(k.value,{componentStack:k.stack})}}finally{W.T=s,oe.p=g}}(Ho&3)!==0&&cf(),Kr(i),g=i.pendingLanes,(l&4194090)!==0&&(g&42)!==0?i===Up?ju++:(ju=0,Up=i):ju=0,Lu(0)}}function B_(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,gu(s)))}function cf(i){return U_(),F_(),$_(),z_()}function z_(){if(rn!==5)return!1;var i=vs,s=Lp;Lp=0;var l=uo(Ho),c=W.T,g=oe.p;try{oe.p=32>l?32:l,W.T=null,l=Vp,Vp=null;var b=vs,R=Ho;if(rn=0,qo=vs=null,Ho=0,(tt&6)!==0)throw Error(r(331));var k=tt;if(tt|=4,R_(b.current),x_(b,b.current,R,l),tt=k,Lu(0,!1),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(bt,b)}catch{}return!0}finally{oe.p=g,W.T=c,B_(i,s)}}function q_(i,s,l){s=er(l,s),s=yp(i.stateNode,s,2),i=ls(i,s,2),i!==null&&(ci(i,2),Kr(i))}function ut(i,s,l){if(i.tag===3)q_(i,i,l);else for(;s!==null;){if(s.tag===3){q_(s,i,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ys===null||!ys.has(c))){i=er(l,i),l=Qb(2),c=ls(s,l,2),c!==null&&(Yb(l,c,s,i),ci(c,2),Kr(c));break}}s=s.return}}function zp(i,s,l){var c=i.pingCache;if(c===null){c=i.pingCache=new VC;var g=new Set;c.set(s,g)}else g=c.get(s),g===void 0&&(g=new Set,c.set(s,g));g.has(l)||(Dp=!0,g.add(l),i=zC.bind(null,i,s,l),s.then(i,i))}function zC(i,s,l){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,dt===i&&(Ke&l)===l&&(wt===4||wt===3&&(Ke&62914560)===Ke&&300>Jt()-jp?(tt&2)===0&&Go(i,0):Op|=l,zo===Ke&&(zo=0)),Kr(i)}function H_(i,s){s===0&&(s=Gl()),i=Co(i,s),i!==null&&(ci(i,s),Kr(i))}function qC(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),H_(i,l)}function HC(i,s){var l=0;switch(i.tag){case 13:var c=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),H_(i,l)}function GC(i,s){return gr(i,s)}var df=null,Qo=null,qp=!1,ff=!1,Hp=!1,Oa=0;function Kr(i){i!==Qo&&i.next===null&&(Qo===null?df=Qo=i:Qo=Qo.next=i),ff=!0,qp||(qp=!0,QC())}function Lu(i,s){if(!Hp&&ff){Hp=!0;do for(var l=!1,c=df;c!==null;){if(i!==0){var g=c.pendingLanes;if(g===0)var b=0;else{var R=c.suspendedLanes,k=c.pingedLanes;b=(1<<31-hn(42|i)+1)-1,b&=g&~(R&~k),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,Y_(c,b))}else b=Ke,b=lo(c,c===dt?b:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(b&3)===0||sa(c,b)||(l=!0,Y_(c,b));c=c.next}while(l);Hp=!1}}function KC(){G_()}function G_(){ff=qp=!1;var i=0;Oa!==0&&(nN()&&(i=Oa),Oa=0);for(var s=Jt(),l=null,c=df;c!==null;){var g=c.next,b=K_(c,s);b===0?(c.next=null,l===null?df=g:l.next=g,g===null&&(Qo=l)):(l=c,(i!==0||(b&3)!==0)&&(ff=!0)),c=g}Lu(i)}function K_(i,s){for(var l=i.suspendedLanes,c=i.pingedLanes,g=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var R=31-hn(b),k=1<<R,z=g[R];z===-1?((k&l)===0||(k&c)!==0)&&(g[R]=ql(k,s)):z<=s&&(i.expiredLanes|=k),b&=~k}if(s=dt,l=Ke,l=lo(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===s&&(nt===2||nt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&yr(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||sa(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(c!==null&&yr(c),uo(l)){case 2:case 8:l=Qn;break;case 32:l=li;break;case 268435456:l=Wi;break;default:l=li}return c=Q_.bind(null,i),l=gr(l,c),i.callbackPriority=s,i.callbackNode=l,s}return c!==null&&c!==null&&yr(c),i.callbackPriority=2,i.callbackNode=null,2}function Q_(i,s){if(rn!==0&&rn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(cf()&&i.callbackNode!==l)return null;var c=Ke;return c=lo(i,i===dt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(I_(i,c,s),K_(i,Jt()),i.callbackNode!=null&&i.callbackNode===l?Q_.bind(null,i):null)}function Y_(i,s){if(cf())return null;I_(i,s,!0)}function QC(){iN(function(){(tt&6)!==0?gr(oi,KC):G_()})}function Gp(){return Oa===0&&(Oa=Hl()),Oa}function X_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:go(""+i)}function W_(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function YC(i,s,l,c,g){if(s==="submit"&&l&&l.stateNode===g){var b=X_((g[It]||null).action),R=c.submitter;R&&(s=(s=R[It]||null)?X_(s.formAction):R.getAttribute("formAction"),s!==null&&(b=s,R=null));var k=new yo("action","action",null,c,g);i.push({event:k,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Oa!==0){var z=R?W_(g,R):new FormData(g);fp(l,{pending:!0,data:z,method:g.method,action:b},null,z)}}else typeof b=="function"&&(k.preventDefault(),z=R?W_(g,R):new FormData(g),fp(l,{pending:!0,data:z,method:g.method,action:b},b,z))},currentTarget:g}]})}}for(var Kp=0;Kp<Pm.length;Kp++){var Qp=Pm[Kp],XC=Qp.toLowerCase(),WC=Qp[0].toUpperCase()+Qp.slice(1);wr(XC,"on"+WC)}wr(I0,"onAnimationEnd"),wr(P0,"onAnimationIteration"),wr(k0,"onAnimationStart"),wr("dblclick","onDoubleClick"),wr("focusin","onFocus"),wr("focusout","onBlur"),wr(mC,"onTransitionRun"),wr(pC,"onTransitionStart"),wr(gC,"onTransitionCancel"),wr(D0,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),br("onBeforeInput",["compositionend","keypress","textInput","paste"]),br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vu));function Z_(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],g=c.event;c=c.listeners;e:{var b=void 0;if(s)for(var R=c.length-1;0<=R;R--){var k=c[R],z=k.instance,te=k.currentTarget;if(k=k.listener,z!==b&&g.isPropagationStopped())break e;b=k,g.currentTarget=te;try{b(g)}catch(le){Zd(le)}g.currentTarget=null,b=z}else for(R=0;R<c.length;R++){if(k=c[R],z=k.instance,te=k.currentTarget,k=k.listener,z!==b&&g.isPropagationStopped())break e;b=k,g.currentTarget=te;try{b(g)}catch(le){Zd(le)}g.currentTarget=null,b=z}}}}function $e(i,s){var l=s[Yl];l===void 0&&(l=s[Yl]=new Set);var c=i+"__bubble";l.has(c)||(J_(s,i,2,!1),l.add(c))}function Yp(i,s,l){var c=0;s&&(c|=4),J_(l,i,c,s)}var hf="_reactListening"+Math.random().toString(36).slice(2);function Xp(i){if(!i[hf]){i[hf]=!0,Xl.forEach(function(l){l!=="selectionchange"&&(ZC.has(l)||Yp(l,!1,i),Yp(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[hf]||(s[hf]=!0,Yp("selectionchange",!1,s))}}function J_(i,s,l,c){switch(xw(s)){case 2:var g=SN;break;case 8:g=RN;break;default:g=cg}l=g.bind(null,s,l,i),g=void 0,!Zn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),c?g!==void 0?i.addEventListener(s,l,{capture:!0,passive:g}):i.addEventListener(s,l,!0):g!==void 0?i.addEventListener(s,l,{passive:g}):i.addEventListener(s,l,!1)}function Wp(i,s,l,c,g){var b=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var R=c.tag;if(R===3||R===4){var k=c.stateNode.containerInfo;if(k===g)break;if(R===4)for(R=c.return;R!==null;){var z=R.tag;if((z===3||z===4)&&R.stateNode.containerInfo===g)return;R=R.return}for(;k!==null;){if(R=di(k),R===null)return;if(z=R.tag,z===5||z===6||z===26||z===27){c=b=R;continue e}k=k.parentNode}}c=c.return}md(function(){var te=b,le=Wn(l),fe=[];e:{var ne=O0.get(i);if(ne!==void 0){var re=yo,Ie=i;switch(i){case"keypress":if(Vr(l)===0)break e;case"keydown":case"keyup":re=xo;break;case"focusin":Ie="focus",re=_o;break;case"focusout":Ie="blur",re=_o;break;case"beforeblur":case"afterblur":re=_o;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Jn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=xm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=Ed;break;case I0:case P0:case k0:re=wo;break;case D0:re=Td;break;case"scroll":case"scrollend":re=pd;break;case"wheel":re=To;break;case"copy":case"cut":case"paste":re=Eo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=lu;break;case"toggle":case"beforetoggle":re=Rd}var Re=(s&4)!==0,at=!Re&&(i==="scroll"||i==="scrollend"),Q=Re?ne!==null?ne+"Capture":null:ne;Re=[];for(var G=te,J;G!==null;){var ce=G;if(J=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||J===null||Q===null||(ce=ha(G,Q),ce!=null&&Re.push(Uu(G,ce,J))),at)break;G=G.return}0<Re.length&&(ne=new re(ne,Ie,null,l,le),fe.push({event:ne,listeners:Re}))}}if((s&7)===0){e:{if(ne=i==="mouseover"||i==="pointerover",re=i==="mouseout"||i==="pointerout",ne&&l!==pi&&(Ie=l.relatedTarget||l.fromElement)&&(di(Ie)||Ie[Yn]))break e;if((re||ne)&&(ne=le.window===le?le:(ne=le.ownerDocument)?ne.defaultView||ne.parentWindow:window,re?(Ie=l.relatedTarget||l.toElement,re=te,Ie=Ie?di(Ie):null,Ie!==null&&(at=o(Ie),Re=Ie.tag,Ie!==at||Re!==5&&Re!==27&&Re!==6)&&(Ie=null)):(re=null,Ie=te),re!==Ie)){if(Re=Jn,ce="onMouseLeave",Q="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(Re=lu,ce="onPointerLeave",Q="onPointerEnter",G="pointer"),at=re==null?ne:Or(re),J=Ie==null?ne:Or(Ie),ne=new Re(ce,G+"leave",re,l,le),ne.target=at,ne.relatedTarget=J,ce=null,di(le)===te&&(Re=new Re(Q,G+"enter",Ie,l,le),Re.target=J,Re.relatedTarget=at,ce=Re),at=ce,re&&Ie)t:{for(Re=re,Q=Ie,G=0,J=Re;J;J=Yo(J))G++;for(J=0,ce=Q;ce;ce=Yo(ce))J++;for(;0<G-J;)Re=Yo(Re),G--;for(;0<J-G;)Q=Yo(Q),J--;for(;G--;){if(Re===Q||Q!==null&&Re===Q.alternate)break t;Re=Yo(Re),Q=Yo(Q)}Re=null}else Re=null;re!==null&&ew(fe,ne,re,Re,!1),Ie!==null&&at!==null&&ew(fe,at,Ie,Re,!0)}}e:{if(ne=te?Or(te):window,re=ne.nodeName&&ne.nodeName.toLowerCase(),re==="select"||re==="input"&&ne.type==="file")var Ee=b0;else if(Ft(ne))if(_0)Ee=dC;else{Ee=uC;var Ue=lC}else re=ne.nodeName,!re||re.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?te&&tu(te.elementType)&&(Ee=b0):Ee=cC;if(Ee&&(Ee=Ee(i,te))){_i(fe,Ee,l,le);break e}Ue&&Ue(i,ne,te),i==="focusout"&&te&&ne.type==="number"&&te.memoizedProps.value!=null&&rs(ne,"number",ne.value)}switch(Ue=te?Or(te):window,i){case"focusin":(Ft(Ue)||Ue.contentEditable==="true")&&(So=Ue,Cm=te,du=null);break;case"focusout":du=Cm=So=null;break;case"mousedown":Nm=!0;break;case"contextmenu":case"mouseup":case"dragend":Nm=!1,C0(fe,l,le);break;case"selectionchange":if(hC)break;case"keydown":case"keyup":C0(fe,l,le)}var xe;if($r)e:{switch(i){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else He?se(i,l)&&(Ae="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ae="onCompositionStart");Ae&&(S&&l.locale!=="ko"&&(He||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&He&&(xe=ru()):(Lr=le,is="value"in Lr?Lr.value:Lr.textContent,He=!0)),Ue=mf(te,Ae),0<Ue.length&&(Ae=new au(Ae,i,null,l,le),fe.push({event:Ae,listeners:Ue}),xe?Ae.data=xe:(xe=pe(l),xe!==null&&(Ae.data=xe)))),(xe=E?Ut(i,l):Ge(i,l))&&(Ae=mf(te,"onBeforeInput"),0<Ae.length&&(Ue=new au("onBeforeInput","beforeinput",null,l,le),fe.push({event:Ue,listeners:Ae}),Ue.data=xe)),YC(fe,i,te,l,le)}Z_(fe,s)})}function Uu(i,s,l){return{instance:i,listener:s,currentTarget:l}}function mf(i,s){for(var l=s+"Capture",c=[];i!==null;){var g=i,b=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||b===null||(g=ha(i,l),g!=null&&c.unshift(Uu(i,g,b)),g=ha(i,s),g!=null&&c.push(Uu(i,g,b))),i.tag===3)return c;i=i.return}return[]}function Yo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function ew(i,s,l,c,g){for(var b=s._reactName,R=[];l!==null&&l!==c;){var k=l,z=k.alternate,te=k.stateNode;if(k=k.tag,z!==null&&z===c)break;k!==5&&k!==26&&k!==27||te===null||(z=te,g?(te=ha(l,b),te!=null&&R.unshift(Uu(l,te,z))):g||(te=ha(l,b),te!=null&&R.push(Uu(l,te,z)))),l=l.return}R.length!==0&&i.push({event:s,listeners:R})}var JC=/\r\n?/g,eN=/\u0000|\uFFFD/g;function tw(i){return(typeof i=="string"?i:""+i).replace(JC,`
`).replace(eN,"")}function nw(i,s){return s=tw(s),tw(i)===s}function pf(){}function st(i,s,l,c,g,b){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Xn(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Xn(i,""+c);break;case"className":Mr(i,"class",c);break;case"tabIndex":Mr(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Mr(i,l,c);break;case"style":eu(i,c,b);break;case"data":if(s!=="object"){Mr(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=go(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(s!=="input"&&st(i,s,"name",g.name,g,null),st(i,s,"formEncType",g.formEncType,g,null),st(i,s,"formMethod",g.formMethod,g,null),st(i,s,"formTarget",g.formTarget,g,null)):(st(i,s,"encType",g.encType,g,null),st(i,s,"method",g.method,g,null),st(i,s,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=go(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=pf);break;case"onScroll":c!=null&&$e("scroll",i);break;case"onScrollEnd":c!=null&&$e("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=go(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":$e("beforetoggle",i),$e("toggle",i),ns(i,"popover",c);break;case"xlinkActuate":en(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":en(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":en(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":en(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":en(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":en(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":en(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":en(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":en(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ns(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=wm.get(l)||l,ns(i,l,c))}}function Zp(i,s,l,c,g,b){switch(l){case"style":eu(i,c,b);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?Xn(i,c):(typeof c=="number"||typeof c=="bigint")&&Xn(i,""+c);break;case"onScroll":c!=null&&$e("scroll",i);break;case"onScrollEnd":c!=null&&$e("scrollend",i);break;case"onClick":c!=null&&(i.onclick=pf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!co.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),b=i[It]||null,b=b!=null?b[l]:null,typeof b=="function"&&i.removeEventListener(s,b,g),typeof c=="function")){typeof b!="function"&&b!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,c,g);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):ns(i,l,c)}}}function sn(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",i),$e("load",i);var c=!1,g=!1,b;for(b in l)if(l.hasOwnProperty(b)){var R=l[b];if(R!=null)switch(b){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:st(i,s,b,R,l,null)}}g&&st(i,s,"srcSet",l.srcSet,l,null),c&&st(i,s,"src",l.src,l,null);return;case"input":$e("invalid",i);var k=b=R=g=null,z=null,te=null;for(c in l)if(l.hasOwnProperty(c)){var le=l[c];if(le!=null)switch(c){case"name":g=le;break;case"type":R=le;break;case"checked":z=le;break;case"defaultChecked":te=le;break;case"value":b=le;break;case"defaultValue":k=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,s));break;default:st(i,s,c,le,l,null)}}ca(i,b,k,z,te,R,g,!1),po(i);return;case"select":$e("invalid",i),c=R=b=null;for(g in l)if(l.hasOwnProperty(g)&&(k=l[g],k!=null))switch(g){case"value":b=k;break;case"defaultValue":R=k;break;case"multiple":c=k;default:st(i,s,g,k,l,null)}s=b,l=R,i.multiple=!!c,s!=null?mi(i,!!c,s,!1):l!=null&&mi(i,!!c,l,!0);return;case"textarea":$e("invalid",i),b=g=c=null;for(R in l)if(l.hasOwnProperty(R)&&(k=l[R],k!=null))switch(R){case"value":c=k;break;case"defaultValue":g=k;break;case"children":b=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:st(i,s,R,k,l,null)}da(i,c,g,b),po(i);return;case"option":for(z in l)if(l.hasOwnProperty(z)&&(c=l[z],c!=null))switch(z){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:st(i,s,z,c,l,null)}return;case"dialog":$e("beforetoggle",i),$e("toggle",i),$e("cancel",i),$e("close",i);break;case"iframe":case"object":$e("load",i);break;case"video":case"audio":for(c=0;c<Vu.length;c++)$e(Vu[c],i);break;case"image":$e("error",i),$e("load",i);break;case"details":$e("toggle",i);break;case"embed":case"source":case"link":$e("error",i),$e("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in l)if(l.hasOwnProperty(te)&&(c=l[te],c!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:st(i,s,te,c,l,null)}return;default:if(tu(s)){for(le in l)l.hasOwnProperty(le)&&(c=l[le],c!==void 0&&Zp(i,s,le,c,l,void 0));return}}for(k in l)l.hasOwnProperty(k)&&(c=l[k],c!=null&&st(i,s,k,c,l,null))}function tN(i,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,b=null,R=null,k=null,z=null,te=null,le=null;for(re in l){var fe=l[re];if(l.hasOwnProperty(re)&&fe!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":z=fe;default:c.hasOwnProperty(re)||st(i,s,re,null,c,fe)}}for(var ne in c){var re=c[ne];if(fe=l[ne],c.hasOwnProperty(ne)&&(re!=null||fe!=null))switch(ne){case"type":b=re;break;case"name":g=re;break;case"checked":te=re;break;case"defaultChecked":le=re;break;case"value":R=re;break;case"defaultValue":k=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:re!==fe&&st(i,s,ne,re,c,fe)}}Mn(i,R,k,z,te,le,b,g);return;case"select":re=R=k=ne=null;for(b in l)if(z=l[b],l.hasOwnProperty(b)&&z!=null)switch(b){case"value":break;case"multiple":re=z;default:c.hasOwnProperty(b)||st(i,s,b,null,c,z)}for(g in c)if(b=c[g],z=l[g],c.hasOwnProperty(g)&&(b!=null||z!=null))switch(g){case"value":ne=b;break;case"defaultValue":k=b;break;case"multiple":R=b;default:b!==z&&st(i,s,g,b,c,z)}s=k,l=R,c=re,ne!=null?mi(i,!!l,ne,!1):!!c!=!!l&&(s!=null?mi(i,!!l,s,!0):mi(i,!!l,l?[]:"",!1));return;case"textarea":re=ne=null;for(k in l)if(g=l[k],l.hasOwnProperty(k)&&g!=null&&!c.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:st(i,s,k,null,c,g)}for(R in c)if(g=c[R],b=l[R],c.hasOwnProperty(R)&&(g!=null||b!=null))switch(R){case"value":ne=g;break;case"defaultValue":re=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==b&&st(i,s,R,g,c,b)}rt(i,ne,re);return;case"option":for(var Ie in l)if(ne=l[Ie],l.hasOwnProperty(Ie)&&ne!=null&&!c.hasOwnProperty(Ie))switch(Ie){case"selected":i.selected=!1;break;default:st(i,s,Ie,null,c,ne)}for(z in c)if(ne=c[z],re=l[z],c.hasOwnProperty(z)&&ne!==re&&(ne!=null||re!=null))switch(z){case"selected":i.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:st(i,s,z,ne,c,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in l)ne=l[Re],l.hasOwnProperty(Re)&&ne!=null&&!c.hasOwnProperty(Re)&&st(i,s,Re,null,c,ne);for(te in c)if(ne=c[te],re=l[te],c.hasOwnProperty(te)&&ne!==re&&(ne!=null||re!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,s));break;default:st(i,s,te,ne,c,re)}return;default:if(tu(s)){for(var at in l)ne=l[at],l.hasOwnProperty(at)&&ne!==void 0&&!c.hasOwnProperty(at)&&Zp(i,s,at,void 0,c,ne);for(le in c)ne=c[le],re=l[le],!c.hasOwnProperty(le)||ne===re||ne===void 0&&re===void 0||Zp(i,s,le,ne,c,re);return}}for(var Q in l)ne=l[Q],l.hasOwnProperty(Q)&&ne!=null&&!c.hasOwnProperty(Q)&&st(i,s,Q,null,c,ne);for(fe in c)ne=c[fe],re=l[fe],!c.hasOwnProperty(fe)||ne===re||ne==null&&re==null||st(i,s,fe,ne,c,re)}var Jp=null,eg=null;function gf(i){return i.nodeType===9?i:i.ownerDocument}function rw(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iw(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function tg(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ng=null;function nN(){var i=window.event;return i&&i.type==="popstate"?i===ng?!1:(ng=i,!0):(ng=null,!1)}var sw=typeof setTimeout=="function"?setTimeout:void 0,rN=typeof clearTimeout=="function"?clearTimeout:void 0,aw=typeof Promise=="function"?Promise:void 0,iN=typeof queueMicrotask=="function"?queueMicrotask:typeof aw<"u"?function(i){return aw.resolve(null).then(i).catch(sN)}:sw;function sN(i){setTimeout(function(){throw i})}function _s(i){return i==="head"}function ow(i,s){var l=s,c=0,g=0;do{var b=l.nextSibling;if(i.removeChild(l),b&&b.nodeType===8)if(l=b.data,l==="/$"){if(0<c&&8>c){l=c;var R=i.ownerDocument;if(l&1&&Fu(R.documentElement),l&2&&Fu(R.body),l&4)for(l=R.head,Fu(l),R=l.firstChild;R;){var k=R.nextSibling,z=R.nodeName;R[aa]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&R.rel.toLowerCase()==="stylesheet"||l.removeChild(R),R=k}}if(g===0){i.removeChild(b),Qu(s);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:c=l.charCodeAt(0)-48;else c=0;l=b}while(l);Qu(s)}function rg(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":rg(l),ts(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function aN(i,s,l,c){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[aa])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var b=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=xr(i.nextSibling),i===null)break}return null}function oN(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=xr(i.nextSibling),i===null))return null;return i}function ig(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function lN(i,s){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")s();else{var c=function(){s(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function xr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var sg=null;function lw(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}function uw(i,s,l){switch(s=gf(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Fu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);ts(i)}var ar=new Map,cw=new Set;function yf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Di=oe.d;oe.d={f:uN,r:cN,D:dN,C:fN,L:hN,m:mN,X:gN,S:pN,M:yN};function uN(){var i=Di.f(),s=lf();return i||s}function cN(i){var s=Dr(i);s!==null&&s.tag===5&&s.type==="form"?Ib(s):Di.r(i)}var Xo=typeof document>"u"?null:document;function dw(i,s,l){var c=Xo;if(c&&typeof s=="string"&&s){var g=Pt(s);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),cw.has(g)||(cw.add(g),i={rel:i,crossOrigin:l,href:s},c.querySelector(g)===null&&(s=c.createElement("link"),sn(s,"link",i),Tt(s),c.head.appendChild(s)))}}function dN(i){Di.D(i),dw("dns-prefetch",i,null)}function fN(i,s){Di.C(i,s),dw("preconnect",i,s)}function hN(i,s,l){Di.L(i,s,l);var c=Xo;if(c&&i&&s){var g='link[rel="preload"][as="'+Pt(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Pt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Pt(l.imageSizes)+'"]')):g+='[href="'+Pt(i)+'"]';var b=g;switch(s){case"style":b=Wo(i);break;case"script":b=Zo(i)}ar.has(b)||(i=p({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),ar.set(b,i),c.querySelector(g)!==null||s==="style"&&c.querySelector($u(b))||s==="script"&&c.querySelector(Bu(b))||(s=c.createElement("link"),sn(s,"link",i),Tt(s),c.head.appendChild(s)))}}function mN(i,s){Di.m(i,s);var l=Xo;if(l&&i){var c=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+Pt(c)+'"][href="'+Pt(i)+'"]',b=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Zo(i)}if(!ar.has(b)&&(i=p({rel:"modulepreload",href:i},s),ar.set(b,i),l.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Bu(b)))return}c=l.createElement("link"),sn(c,"link",i),Tt(c),l.head.appendChild(c)}}}function pN(i,s,l){Di.S(i,s,l);var c=Xo;if(c&&i){var g=wn(c).hoistableStyles,b=Wo(i);s=s||"default";var R=g.get(b);if(!R){var k={loading:0,preload:null};if(R=c.querySelector($u(b)))k.loading=5;else{i=p({rel:"stylesheet",href:i,"data-precedence":s},l),(l=ar.get(b))&&ag(i,l);var z=R=c.createElement("link");Tt(z),sn(z,"link",i),z._p=new Promise(function(te,le){z.onload=te,z.onerror=le}),z.addEventListener("load",function(){k.loading|=1}),z.addEventListener("error",function(){k.loading|=2}),k.loading|=4,vf(R,s,c)}R={type:"stylesheet",instance:R,count:1,state:k},g.set(b,R)}}}function gN(i,s){Di.X(i,s);var l=Xo;if(l&&i){var c=wn(l).hoistableScripts,g=Zo(i),b=c.get(g);b||(b=l.querySelector(Bu(g)),b||(i=p({src:i,async:!0},s),(s=ar.get(g))&&og(i,s),b=l.createElement("script"),Tt(b),sn(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(g,b))}}function yN(i,s){Di.M(i,s);var l=Xo;if(l&&i){var c=wn(l).hoistableScripts,g=Zo(i),b=c.get(g);b||(b=l.querySelector(Bu(g)),b||(i=p({src:i,async:!0,type:"module"},s),(s=ar.get(g))&&og(i,s),b=l.createElement("script"),Tt(b),sn(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(g,b))}}function fw(i,s,l,c){var g=(g=ae.current)?yf(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Wo(l.href),l=wn(g).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Wo(l.href);var b=wn(g).hoistableStyles,R=b.get(i);if(R||(g=g.ownerDocument||g,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,R),(b=g.querySelector($u(i)))&&!b._p&&(R.instance=b,R.state.loading=5),ar.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ar.set(i,l),b||vN(g,i,l,R.state))),s&&c===null)throw Error(r(528,""));return R}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Zo(l),l=wn(g).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Wo(i){return'href="'+Pt(i)+'"'}function $u(i){return'link[rel="stylesheet"]['+i+"]"}function hw(i){return p({},i,{"data-precedence":i.precedence,precedence:null})}function vN(i,s,l,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),sn(s,"link",l),Tt(s),i.head.appendChild(s))}function Zo(i){return'[src="'+Pt(i)+'"]'}function Bu(i){return"script[async]"+i}function mw(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+Pt(l.href)+'"]');if(c)return s.instance=c,Tt(c),c;var g=p({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Tt(c),sn(c,"style",g),vf(c,l.precedence,i),s.instance=c;case"stylesheet":g=Wo(l.href);var b=i.querySelector($u(g));if(b)return s.state.loading|=4,s.instance=b,Tt(b),b;c=hw(l),(g=ar.get(g))&&ag(c,g),b=(i.ownerDocument||i).createElement("link"),Tt(b);var R=b;return R._p=new Promise(function(k,z){R.onload=k,R.onerror=z}),sn(b,"link",c),s.state.loading|=4,vf(b,l.precedence,i),s.instance=b;case"script":return b=Zo(l.src),(g=i.querySelector(Bu(b)))?(s.instance=g,Tt(g),g):(c=l,(g=ar.get(b))&&(c=p({},l),og(c,g)),i=i.ownerDocument||i,g=i.createElement("script"),Tt(g),sn(g,"link",c),i.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,vf(c,l.precedence,i));return s.instance}function vf(i,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,b=g,R=0;R<c.length;R++){var k=c[R];if(k.dataset.precedence===s)b=k;else if(b!==g)break}b?b.parentNode.insertBefore(i,b.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function ag(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function og(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var bf=null;function pw(i,s,l){if(bf===null){var c=new Map,g=bf=new Map;g.set(l,c)}else g=bf,c=g.get(l),c||(c=new Map,g.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var b=l[g];if(!(b[aa]||b[Vt]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var R=b.getAttribute(s)||"";R=i+R;var k=c.get(R);k?k.push(b):c.set(R,[b])}}return c}function gw(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function bN(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function yw(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var zu=null;function _N(){}function wN(i,s,l){if(zu===null)throw Error(r(475));var c=zu;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var g=Wo(l.href),b=i.querySelector($u(g));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=_f.bind(c),i.then(c,c)),s.state.loading|=4,s.instance=b,Tt(b);return}b=i.ownerDocument||i,l=hw(l),(g=ar.get(g))&&ag(l,g),b=b.createElement("link"),Tt(b);var R=b;R._p=new Promise(function(k,z){R.onload=k,R.onerror=z}),sn(b,"link",l),s.instance=b}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=_f.bind(c),i.addEventListener("load",s),i.addEventListener("error",s))}}function EN(){if(zu===null)throw Error(r(475));var i=zu;return i.stylesheets&&i.count===0&&lg(i,i.stylesheets),0<i.count?function(s){var l=setTimeout(function(){if(i.stylesheets&&lg(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(l)}}:null}function _f(){if(this.count--,this.count===0){if(this.stylesheets)lg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var wf=null;function lg(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,wf=new Map,s.forEach(xN,i),wf=null,_f.call(i))}function xN(i,s){if(!(s.state.loading&4)){var l=wf.get(i);if(l)var c=l.get(null);else{l=new Map,wf.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<g.length;b++){var R=g[b];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(l.set(R.dataset.precedence,R),c=R)}c&&l.set(null,c)}g=s.instance,R=g.getAttribute("data-precedence"),b=l.get(R)||c,b===c&&l.set(null,g),l.set(R,g),this.count++,c=_f.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),b?b.parentNode.insertBefore(g,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),s.state.loading|=4}}var qu={$$typeof:F,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function TN(i,s,l,c,g,b,R,k){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=b,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function vw(i,s,l,c,g,b,R,k,z,te,le,fe){return i=new TN(i,s,l,R,k,z,te,fe),s=1,b===!0&&(s|=24),b=Ln(3,null,null,s),i.current=b,b.stateNode=i,s=zm(),s.refCount++,i.pooledCache=s,s.refCount++,b.memoizedState={element:c,isDehydrated:l,cache:s},Km(b),i}function bw(i){return i?(i=No,i):No}function _w(i,s,l,c,g,b){g=bw(g),c.context===null?c.context=g:c.pendingContext=g,c=os(s),c.payload={element:l},b=b===void 0?null:b,b!==null&&(c.callback=b),l=ls(i,c,s),l!==null&&(Bn(l,i,s),_u(l,i,s))}function ww(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function ug(i,s){ww(i,s),(i=i.alternate)&&ww(i,s)}function Ew(i){if(i.tag===13){var s=Co(i,67108864);s!==null&&Bn(s,i,67108864),ug(i,67108864)}}var Ef=!0;function SN(i,s,l,c){var g=W.T;W.T=null;var b=oe.p;try{oe.p=2,cg(i,s,l,c)}finally{oe.p=b,W.T=g}}function RN(i,s,l,c){var g=W.T;W.T=null;var b=oe.p;try{oe.p=8,cg(i,s,l,c)}finally{oe.p=b,W.T=g}}function cg(i,s,l,c){if(Ef){var g=dg(c);if(g===null)Wp(i,s,c,xf,l),Tw(i,c);else if(CN(g,i,s,l,c))c.stopPropagation();else if(Tw(i,c),s&4&&-1<AN.indexOf(i)){for(;g!==null;){var b=Dr(g);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var R=vr(b.pendingLanes);if(R!==0){var k=b;for(k.pendingLanes|=2,k.entangledLanes|=2;R;){var z=1<<31-hn(R);k.entanglements[1]|=z,R&=~z}Kr(b),(tt&6)===0&&(af=Jt()+500,Lu(0))}}break;case 13:k=Co(b,2),k!==null&&Bn(k,b,2),lf(),ug(b,2)}if(b=dg(c),b===null&&Wp(i,s,c,xf,l),b===g)break;g=b}g!==null&&c.stopPropagation()}else Wp(i,s,c,null,l)}}function dg(i){return i=Wn(i),fg(i)}var xf=null;function fg(i){if(xf=null,i=di(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=u(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return xf=i,null}function xw(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ea()){case oi:return 2;case Qn:return 8;case li:case ao:return 32;case Wi:return 268435456;default:return 32}default:return 32}}var hg=!1,ws=null,Es=null,xs=null,Hu=new Map,Gu=new Map,Ts=[],AN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tw(i,s){switch(i){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":Es=null;break;case"mouseover":case"mouseout":xs=null;break;case"pointerover":case"pointerout":Hu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gu.delete(s.pointerId)}}function Ku(i,s,l,c,g,b){return i===null||i.nativeEvent!==b?(i={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:b,targetContainers:[g]},s!==null&&(s=Dr(s),s!==null&&Ew(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),i)}function CN(i,s,l,c,g){switch(s){case"focusin":return ws=Ku(ws,i,s,l,c,g),!0;case"dragenter":return Es=Ku(Es,i,s,l,c,g),!0;case"mouseover":return xs=Ku(xs,i,s,l,c,g),!0;case"pointerover":var b=g.pointerId;return Hu.set(b,Ku(Hu.get(b)||null,i,s,l,c,g)),!0;case"gotpointercapture":return b=g.pointerId,Gu.set(b,Ku(Gu.get(b)||null,i,s,l,c,g)),!0}return!1}function Sw(i){var s=di(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){i.blockedOn=s,od(i.priority,function(){if(l.tag===13){var c=$n();c=Zi(c);var g=Co(l,c);g!==null&&Bn(g,l,c),ug(l,c)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Tf(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=dg(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);pi=c,l.target.dispatchEvent(c),pi=null}else return s=Dr(l),s!==null&&Ew(s),i.blockedOn=l,!1;s.shift()}return!0}function Rw(i,s,l){Tf(i)&&l.delete(s)}function NN(){hg=!1,ws!==null&&Tf(ws)&&(ws=null),Es!==null&&Tf(Es)&&(Es=null),xs!==null&&Tf(xs)&&(xs=null),Hu.forEach(Rw),Gu.forEach(Rw)}function Sf(i,s){i.blockedOn===s&&(i.blockedOn=null,hg||(hg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,NN)))}var Rf=null;function Aw(i){Rf!==i&&(Rf=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Rf===i&&(Rf=null);for(var s=0;s<i.length;s+=3){var l=i[s],c=i[s+1],g=i[s+2];if(typeof c!="function"){if(fg(c||l)===null)continue;break}var b=Dr(l);b!==null&&(i.splice(s,3),s-=3,fp(b,{pending:!0,data:g,method:l.method,action:c},c,g))}}))}function Qu(i){function s(z){return Sf(z,i)}ws!==null&&Sf(ws,i),Es!==null&&Sf(Es,i),xs!==null&&Sf(xs,i),Hu.forEach(s),Gu.forEach(s);for(var l=0;l<Ts.length;l++){var c=Ts[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Ts.length&&(l=Ts[0],l.blockedOn===null);)Sw(l),l.blockedOn===null&&Ts.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var g=l[c],b=l[c+1],R=g[It]||null;if(typeof b=="function")R||Aw(l);else if(R){var k=null;if(b&&b.hasAttribute("formAction")){if(g=b,R=b[It]||null)k=R.formAction;else if(fg(g)!==null)continue}else k=R.action;typeof k=="function"?l[c+1]=k:(l.splice(c,3),c-=3),Aw(l)}}}function mg(i){this._internalRoot=i}Af.prototype.render=mg.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,c=$n();_w(l,c,i,s,null,null)},Af.prototype.unmount=mg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;_w(i.current,2,null,i,null,null),lf(),s[Yn]=null}};function Af(i){this._internalRoot=i}Af.prototype.unstable_scheduleHydration=function(i){if(i){var s=Ji();i={blockedOn:null,target:i,priority:s};for(var l=0;l<Ts.length&&s!==0&&s<Ts[l].priority;l++);Ts.splice(l,0,i),l===0&&Sw(i)}};var Cw=e.version;if(Cw!=="19.1.0")throw Error(r(527,Cw,"19.1.0"));oe.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(s),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var IN={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cf.isDisabled&&Cf.supportsFiber)try{bt=Cf.inject(IN),et=Cf}catch{}}return Xu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,c="",g=qb,b=Hb,R=Gb,k=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(R=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(k=s.unstable_transitionCallbacks)),s=vw(i,1,!1,null,null,l,c,g,b,R,k,null),i[Yn]=s.current,Xp(i),new mg(s)},Xu.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var c=!1,g="",b=qb,R=Hb,k=Gb,z=null,te=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(R=l.onCaughtError),l.onRecoverableError!==void 0&&(k=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(z=l.unstable_transitionCallbacks),l.formState!==void 0&&(te=l.formState)),s=vw(i,1,!0,s,l??null,c,g,b,R,k,z,te),s.context=bw(null),l=s.current,c=$n(),c=Zi(c),g=os(c),g.callback=null,ls(l,g,c),l=c,s.current.lanes=l,ci(s,l),Kr(s),i[Yn]=s.current,Xp(i),new Af(s)},Xu.version="19.1.0",Xu}var Vw;function $N(){if(Vw)return yg.exports;Vw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),yg.exports=FN(),yg.exports}var BN=$N(),Wu={},Uw;function zN(){if(Uw)return Wu;Uw=1,Object.defineProperty(Wu,"__esModule",{value:!0}),Wu.parse=u,Wu.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function u(_,x){const w=new o,A=_.length;if(A<2)return w;const C=(x==null?void 0:x.decode)||p;let j=0;do{const U=_.indexOf("=",j);if(U===-1)break;const F=_.indexOf(";",j),Y=F===-1?A:F;if(U>Y){j=_.lastIndexOf(";",U-1)+1;continue}const X=d(_,j,U),de=f(_,U,X),M=_.slice(X,de);if(w[M]===void 0){let I=d(_,U+1,Y),P=f(_,Y,I);const D=C(_.slice(I,P));w[M]=D}j=Y+1}while(j<A);return w}function d(_,x,w){do{const A=_.charCodeAt(x);if(A!==32&&A!==9)return x}while(++x<w);return w}function f(_,x,w){for(;x>w;){const A=_.charCodeAt(--x);if(A!==32&&A!==9)return x+1}return w}function h(_,x,w){const A=(w==null?void 0:w.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const C=A(x);if(!e.test(C))throw new TypeError(`argument val is invalid: ${x}`);let j=_+"="+C;if(!w)return j;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);j+="; Max-Age="+w.maxAge}if(w.domain){if(!t.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);j+="; Domain="+w.domain}if(w.path){if(!r.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);j+="; Path="+w.path}if(w.expires){if(!v(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);j+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(j+="; HttpOnly"),w.secure&&(j+="; Secure"),w.partitioned&&(j+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return j}function p(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function v(_){return a.call(_)==="[object Date]"}return Wu}zN();var Fw="popstate";function qN(n={}){function e(r,a){let{pathname:o,search:u,hash:d}=r.location;return Kg("",{pathname:o,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:bc(a)}return GN(e,t,null,n)}function pt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Rr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HN(){return Math.random().toString(36).substring(2,10)}function $w(n,e){return{usr:n.state,key:n.key,idx:e}}function Kg(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Nl(e):e,state:t,key:e&&e.key||r||HN()}}function bc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Nl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function GN(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,u=a.history,d="POP",f=null,h=p();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function p(){return(u.state||{idx:null}).idx}function v(){d="POP";let C=p(),j=C==null?null:C-h;h=C,f&&f({action:d,location:A.location,delta:j})}function _(C,j){d="PUSH";let U=Kg(A.location,C,j);h=p()+1;let F=$w(U,h),Y=A.createHref(U);try{u.pushState(F,"",Y)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;a.location.assign(Y)}o&&f&&f({action:d,location:A.location,delta:1})}function x(C,j){d="REPLACE";let U=Kg(A.location,C,j);h=p();let F=$w(U,h),Y=A.createHref(U);u.replaceState(F,"",Y),o&&f&&f({action:d,location:A.location,delta:0})}function w(C){return KN(C)}let A={get action(){return d},get location(){return n(a,u)},listen(C){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(Fw,v),f=C,()=>{a.removeEventListener(Fw,v),f=null}},createHref(C){return e(a,C)},createURL:w,encodeLocation(C){let j=w(C);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:_,replace:x,go(C){return u.go(C)}};return A}function KN(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),pt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:bc(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function I1(n,e,t="/"){return QN(n,e,t,!1)}function QN(n,e,t,r){let a=typeof e=="string"?Nl(e):e,o=Ui(a.pathname||"/",t);if(o==null)return null;let u=P1(n);YN(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let h=aI(o);d=iI(u[f],h,r)}return d}function P1(n,e=[],t=[],r=""){let a=(o,u,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(pt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let h=Vi([r,f.relativePath]),p=t.concat(f);o.children&&o.children.length>0&&(pt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),P1(o.children,e,p,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:nI(h,o.index),routesMeta:p})};return n.forEach((o,u)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))a(o,u);else for(let f of k1(o.path))a(o,u,f)}),e}function k1(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let u=k1(r.join("/")),d=[];return d.push(...u.map(f=>f===""?o:[o,f].join("/"))),a&&d.push(...u),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function YN(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:rI(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var XN=/^:[\w-]+$/,WN=3,ZN=2,JN=1,eI=10,tI=-2,Bw=n=>n==="*";function nI(n,e){let t=n.split("/"),r=t.length;return t.some(Bw)&&(r+=tI),e&&(r+=ZN),t.filter(a=>!Bw(a)).reduce((a,o)=>a+(XN.test(o)?WN:o===""?JN:eI),r)}function rI(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function iI(n,e,t=!1){let{routesMeta:r}=n,a={},o="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],h=d===r.length-1,p=o==="/"?e:e.slice(o.length)||"/",v=nh({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),_=f.route;if(!v&&h&&t&&!r[r.length-1].route.index&&(v=nh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:Vi([o,v.pathname]),pathnameBase:cI(Vi([o,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(o=Vi([o,v.pathnameBase]))}return u}function nh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=sI(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:v},_)=>{if(p==="*"){let w=d[_]||"";u=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const x=d[_];return v&&!x?h[p]=void 0:h[p]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:u,pattern:n}}function sI(n,e=!1,t=!0){Rr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function aI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ui(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function oI(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?Nl(n):n;return{pathname:t?t.startsWith("/")?t:lI(t,e):e,search:dI(r),hash:fI(a)}}function lI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function wg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function By(n){let e=uI(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function zy(n,e,t,r=!1){let a;typeof n=="string"?a=Nl(n):(a={...n},pt(!a.pathname||!a.pathname.includes("?"),wg("?","pathname","search",a)),pt(!a.pathname||!a.pathname.includes("#"),wg("#","pathname","hash",a)),pt(!a.search||!a.search.includes("#"),wg("#","search","hash",a)));let o=n===""||a.pathname==="",u=o?"/":a.pathname,d;if(u==null)d=t;else{let v=e.length-1;if(!r&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),v-=1;a.pathname=_.join("/")}d=v>=0?e[v]:"/"}let f=oI(a,d),h=u&&u!=="/"&&u.endsWith("/"),p=(o||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var Vi=n=>n.join("/").replace(/\/\/+/g,"/"),cI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),dI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,fI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function hI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var D1=["POST","PUT","PATCH","DELETE"];new Set(D1);var mI=["GET",...D1];new Set(mI);var Il=T.createContext(null);Il.displayName="DataRouter";var Oh=T.createContext(null);Oh.displayName="DataRouterState";var O1=T.createContext({isTransitioning:!1});O1.displayName="ViewTransition";var pI=T.createContext(new Map);pI.displayName="Fetchers";var gI=T.createContext(null);gI.displayName="Await";var Nr=T.createContext(null);Nr.displayName="Navigation";var Uc=T.createContext(null);Uc.displayName="Location";var Ir=T.createContext({outlet:null,matches:[],isDataRoute:!1});Ir.displayName="Route";var qy=T.createContext(null);qy.displayName="RouteError";function yI(n,{relative:e}={}){pt(Pl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=T.useContext(Nr),{hash:a,pathname:o,search:u}=Fc(n,{relative:e}),d=o;return t!=="/"&&(d=o==="/"?t:Vi([t,o])),r.createHref({pathname:d,search:u,hash:a})}function Pl(){return T.useContext(Uc)!=null}function Qs(){return pt(Pl(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Uc).location}var M1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function j1(n){T.useContext(Nr).static||T.useLayoutEffect(n)}function hr(){let{isDataRoute:n}=T.useContext(Ir);return n?II():vI()}function vI(){pt(Pl(),"useNavigate() may be used only in the context of a <Router> component.");let n=T.useContext(Il),{basename:e,navigator:t}=T.useContext(Nr),{matches:r}=T.useContext(Ir),{pathname:a}=Qs(),o=JSON.stringify(By(r)),u=T.useRef(!1);return j1(()=>{u.current=!0}),T.useCallback((f,h={})=>{if(Rr(u.current,M1),!u.current)return;if(typeof f=="number"){t.go(f);return}let p=zy(f,JSON.parse(o),a,h.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Vi([e,p.pathname])),(h.replace?t.replace:t.push)(p,h.state,h)},[e,t,o,a,n])}T.createContext(null);function L1(){let{matches:n}=T.useContext(Ir),e=n[n.length-1];return e?e.params:{}}function Fc(n,{relative:e}={}){let{matches:t}=T.useContext(Ir),{pathname:r}=Qs(),a=JSON.stringify(By(t));return T.useMemo(()=>zy(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function bI(n,e){return V1(n,e)}function V1(n,e,t,r){var U;pt(Pl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=T.useContext(Nr),{matches:u}=T.useContext(Ir),d=u[u.length-1],f=d?d.params:{},h=d?d.pathname:"/",p=d?d.pathnameBase:"/",v=d&&d.route;{let F=v&&v.path||"";U1(h,!v||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let _=Qs(),x;if(e){let F=typeof e=="string"?Nl(e):e;pt(p==="/"||((U=F.pathname)==null?void 0:U.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${F.pathname}" was given in the \`location\` prop.`),x=F}else x=_;let w=x.pathname||"/",A=w;if(p!=="/"){let F=p.replace(/^\//,"").split("/");A="/"+w.replace(/^\//,"").split("/").slice(F.length).join("/")}let C=!o&&t&&t.matches&&t.matches.length>0?t.matches:I1(n,{pathname:A});Rr(v||C!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Rr(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=TI(C&&C.map(F=>Object.assign({},F,{params:Object.assign({},f,F.params),pathname:Vi([p,a.encodeLocation?a.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?p:Vi([p,a.encodeLocation?a.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),u,t,r);return e&&j?T.createElement(Uc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},j):j}function _I(){let n=NI(),e=hI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:o},"ErrorBoundary")," or"," ",T.createElement("code",{style:o},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),t?T.createElement("pre",{style:a},t):null,u)}var wI=T.createElement(_I,null),EI=class extends T.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?T.createElement(Ir.Provider,{value:this.props.routeContext},T.createElement(qy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xI({routeContext:n,match:e,children:t}){let r=T.useContext(Il);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(Ir.Provider,{value:n},t)}function TI(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=t==null?void 0:t.errors;if(o!=null){let f=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);pt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,d=-1;if(t)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){let{loaderData:p,errors:v}=t,_=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||_){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,h,p)=>{let v,_=!1,x=null,w=null;t&&(v=o&&h.route.id?o[h.route.id]:void 0,x=h.route.errorElement||wI,u&&(d<0&&p===0?(U1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,w=null):d===p&&(_=!0,w=h.route.hydrateFallbackElement||null)));let A=e.concat(a.slice(0,p+1)),C=()=>{let j;return v?j=x:_?j=w:h.route.Component?j=T.createElement(h.route.Component,null):h.route.element?j=h.route.element:j=f,T.createElement(xI,{match:h,routeContext:{outlet:f,matches:A,isDataRoute:t!=null},children:j})};return t&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?T.createElement(EI,{location:t.location,revalidation:t.revalidation,component:x,error:v,children:C(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):C()},null)}function Hy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SI(n){let e=T.useContext(Il);return pt(e,Hy(n)),e}function RI(n){let e=T.useContext(Oh);return pt(e,Hy(n)),e}function AI(n){let e=T.useContext(Ir);return pt(e,Hy(n)),e}function Gy(n){let e=AI(n),t=e.matches[e.matches.length-1];return pt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function CI(){return Gy("useRouteId")}function NI(){var r;let n=T.useContext(qy),e=RI("useRouteError"),t=Gy("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function II(){let{router:n}=SI("useNavigate"),e=Gy("useNavigate"),t=T.useRef(!1);return j1(()=>{t.current=!0}),T.useCallback(async(a,o={})=>{Rr(t.current,M1),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var zw={};function U1(n,e,t){!e&&!zw[n]&&(zw[n]=!0,Rr(!1,t))}T.memo(PI);function PI({routes:n,future:e,state:t}){return V1(n,void 0,t,e)}function F1({to:n,replace:e,state:t,relative:r}){pt(Pl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=T.useContext(Nr);Rr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=T.useContext(Ir),{pathname:u}=Qs(),d=hr(),f=zy(n,By(o),u,r==="path"),h=JSON.stringify(f);return T.useEffect(()=>{d(JSON.parse(h),{replace:e,state:t,relative:r})},[d,h,r,e,t]),null}function lr(n){pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kI({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:o=!1}){pt(!Pl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=T.useMemo(()=>({basename:u,navigator:a,static:o,future:{}}),[u,a,o]);typeof t=="string"&&(t=Nl(t));let{pathname:f="/",search:h="",hash:p="",state:v=null,key:_="default"}=t,x=T.useMemo(()=>{let w=Ui(f,u);return w==null?null:{location:{pathname:w,search:h,hash:p,state:v,key:_},navigationType:r}},[u,f,h,p,v,_,r]);return Rr(x!=null,`<Router basename="${u}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:T.createElement(Nr.Provider,{value:d},T.createElement(Uc.Provider,{children:e,value:x}))}function DI({children:n,location:e}){return bI(Qg(n),e)}function Qg(n,e=[]){let t=[];return T.Children.forEach(n,(r,a)=>{if(!T.isValidElement(r))return;let o=[...e,a];if(r.type===T.Fragment){t.push.apply(t,Qg(r.props.children,o));return}pt(r.type===lr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Qg(r.props.children,o)),t.push(u)}),t}var Bf="get",zf="application/x-www-form-urlencoded";function Mh(n){return n!=null&&typeof n.tagName=="string"}function OI(n){return Mh(n)&&n.tagName.toLowerCase()==="button"}function MI(n){return Mh(n)&&n.tagName.toLowerCase()==="form"}function jI(n){return Mh(n)&&n.tagName.toLowerCase()==="input"}function LI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function VI(n,e){return n.button===0&&(!e||e==="_self")&&!LI(n)}var Nf=null;function UI(){if(Nf===null)try{new FormData(document.createElement("form"),0),Nf=!1}catch{Nf=!0}return Nf}var FI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Eg(n){return n!=null&&!FI.has(n)?(Rr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zf}"`),null):n}function $I(n,e){let t,r,a,o,u;if(MI(n)){let d=n.getAttribute("action");r=d?Ui(d,e):null,t=n.getAttribute("method")||Bf,a=Eg(n.getAttribute("enctype"))||zf,o=new FormData(n)}else if(OI(n)||jI(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||d.getAttribute("action");if(r=f?Ui(f,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Bf,a=Eg(n.getAttribute("formenctype"))||Eg(d.getAttribute("enctype"))||zf,o=new FormData(d,n),!UI()){let{name:h,type:p,value:v}=n;if(p==="image"){let _=h?`${h}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else h&&o.append(h,v)}}else{if(Mh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Bf,r=null,a=zf,u=n}return o&&a==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:o,body:u}}function Ky(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function BI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function qI(n,e,t){let r=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await BI(o,t);return u.links?u.links():[]}return[]}));return QI(r.flat(1).filter(zI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function qw(n,e,t,r,a,o){let u=(f,h)=>t[h]?f.route.id!==t[h].route.id:!0,d=(f,h)=>{var p;return t[h].pathname!==f.pathname||((p=t[h].route.path)==null?void 0:p.endsWith("*"))&&t[h].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,h)=>u(f,h)||d(f,h)):o==="data"?e.filter((f,h)=>{var v;let p=r.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(u(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function HI(n,e,{includeHydrateFallback:t}={}){return GI(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function GI(n){return[...new Set(n)]}function KI(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function QI(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let o=JSON.stringify(KI(a));return t.has(o)||(t.add(o),r.push({key:o,link:a})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var YI=new Set([100,101,204,205]);function XI(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Ui(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function $1(){let n=T.useContext(Il);return Ky(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function WI(){let n=T.useContext(Oh);return Ky(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Qy=T.createContext(void 0);Qy.displayName="FrameworkContext";function B1(){let n=T.useContext(Qy);return Ky(n,"You must render this element inside a <HydratedRouter> element"),n}function ZI(n,e){let t=T.useContext(Qy),[r,a]=T.useState(!1),[o,u]=T.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:v}=e,_=T.useRef(null);T.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let A=j=>{j.forEach(U=>{u(U.isIntersecting)})},C=new IntersectionObserver(A,{threshold:.5});return _.current&&C.observe(_.current),()=>{C.disconnect()}}},[n]),T.useEffect(()=>{if(r){let A=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(A)}}},[r]);let x=()=>{a(!0)},w=()=>{a(!1),u(!1)};return t?n!=="intent"?[o,_,{}]:[o,_,{onFocus:Zu(d,x),onBlur:Zu(f,w),onMouseEnter:Zu(h,x),onMouseLeave:Zu(p,w),onTouchStart:Zu(v,x)}]:[!1,_,{}]}function Zu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function JI({page:n,...e}){let{router:t}=$1(),r=T.useMemo(()=>I1(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?T.createElement(t2,{page:n,matches:r,...e}):null}function e2(n){let{manifest:e,routeModules:t}=B1(),[r,a]=T.useState([]);return T.useEffect(()=>{let o=!1;return qI(n,e,t).then(u=>{o||a(u)}),()=>{o=!0}},[n,e,t]),r}function t2({page:n,matches:e,...t}){let r=Qs(),{manifest:a,routeModules:o}=B1(),{basename:u}=$1(),{loaderData:d,matches:f}=WI(),h=T.useMemo(()=>qw(n,e,f,a,r,"data"),[n,e,f,a,r]),p=T.useMemo(()=>qw(n,e,f,a,r,"assets"),[n,e,f,a,r]),v=T.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let w=new Set,A=!1;if(e.forEach(j=>{var F;let U=a.routes[j.route.id];!U||!U.hasLoader||(!h.some(Y=>Y.route.id===j.route.id)&&j.route.id in d&&((F=o[j.route.id])!=null&&F.shouldRevalidate)||U.hasClientLoader?A=!0:w.add(j.route.id))}),w.size===0)return[];let C=XI(n,u);return A&&w.size>0&&C.searchParams.set("_routes",e.filter(j=>w.has(j.route.id)).map(j=>j.route.id).join(",")),[C.pathname+C.search]},[u,d,r,a,h,e,n,o]),_=T.useMemo(()=>HI(p,a),[p,a]),x=e2(p);return T.createElement(T.Fragment,null,v.map(w=>T.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),_.map(w=>T.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),x.map(({key:w,link:A})=>T.createElement("link",{key:w,...A})))}function n2(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var z1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{z1&&(window.__reactRouterVersion="7.6.0")}catch{}function r2({basename:n,children:e,window:t}){let r=T.useRef();r.current==null&&(r.current=qN({window:t,v5Compat:!0}));let a=r.current,[o,u]=T.useState({action:a.action,location:a.location}),d=T.useCallback(f=>{T.startTransition(()=>u(f))},[u]);return T.useLayoutEffect(()=>a.listen(d),[a,d]),T.createElement(kI,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:a})}var q1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bl=T.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:o,replace:u,state:d,target:f,to:h,preventScrollReset:p,viewTransition:v,..._},x){let{basename:w}=T.useContext(Nr),A=typeof h=="string"&&q1.test(h),C,j=!1;if(typeof h=="string"&&A&&(C=h,z1))try{let P=new URL(window.location.href),D=h.startsWith("//")?new URL(P.protocol+h):new URL(h),L=Ui(D.pathname,w);D.origin===P.origin&&L!=null?h=L+D.search+D.hash:j=!0}catch{Rr(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=yI(h,{relative:a}),[F,Y,X]=ZI(r,_),de=o2(h,{replace:u,state:d,target:f,preventScrollReset:p,relative:a,viewTransition:v});function M(P){e&&e(P),P.defaultPrevented||de(P)}let I=T.createElement("a",{..._,...X,href:C||U,onClick:j||o?e:M,ref:n2(x,Y),target:f,"data-discover":!A&&t==="render"?"true":void 0});return F&&!A?T.createElement(T.Fragment,null,I,T.createElement(JI,{page:U})):I});bl.displayName="Link";var i2=T.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:o,to:u,viewTransition:d,children:f,...h},p){let v=Fc(u,{relative:h.relative}),_=Qs(),x=T.useContext(Oh),{navigator:w,basename:A}=T.useContext(Nr),C=x!=null&&f2(v)&&d===!0,j=w.encodeLocation?w.encodeLocation(v).pathname:v.pathname,U=_.pathname,F=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(U=U.toLowerCase(),F=F?F.toLowerCase():null,j=j.toLowerCase()),F&&A&&(F=Ui(F,A)||F);const Y=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let X=U===j||!a&&U.startsWith(j)&&U.charAt(Y)==="/",de=F!=null&&(F===j||!a&&F.startsWith(j)&&F.charAt(j.length)==="/"),M={isActive:X,isPending:de,isTransitioning:C},I=X?e:void 0,P;typeof r=="function"?P=r(M):P=[r,X?"active":null,de?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let D=typeof o=="function"?o(M):o;return T.createElement(bl,{...h,"aria-current":I,className:P,ref:p,style:D,to:u,viewTransition:d},typeof f=="function"?f(M):f)});i2.displayName="NavLink";var s2=T.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:o,method:u=Bf,action:d,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:v,..._},x)=>{let w=c2(),A=d2(d,{relative:h}),C=u.toLowerCase()==="get"?"get":"post",j=typeof d=="string"&&q1.test(d),U=F=>{if(f&&f(F),F.defaultPrevented)return;F.preventDefault();let Y=F.nativeEvent.submitter,X=(Y==null?void 0:Y.getAttribute("formmethod"))||u;w(Y||F.currentTarget,{fetcherKey:e,method:X,navigate:t,replace:a,state:o,relative:h,preventScrollReset:p,viewTransition:v})};return T.createElement("form",{ref:x,method:C,action:A,onSubmit:r?f:U,..._,"data-discover":!j&&n==="render"?"true":void 0})});s2.displayName="Form";function a2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H1(n){let e=T.useContext(Il);return pt(e,a2(n)),e}function o2(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:o,viewTransition:u}={}){let d=hr(),f=Qs(),h=Fc(n,{relative:o});return T.useCallback(p=>{if(VI(p,e)){p.preventDefault();let v=t!==void 0?t:bc(f)===bc(h);d(n,{replace:v,state:r,preventScrollReset:a,relative:o,viewTransition:u})}},[f,d,h,t,r,e,n,a,o,u])}var l2=0,u2=()=>`__${String(++l2)}__`;function c2(){let{router:n}=H1("useSubmit"),{basename:e}=T.useContext(Nr),t=CI();return T.useCallback(async(r,a={})=>{let{action:o,method:u,encType:d,formData:f,body:h}=$I(r,e);if(a.navigate===!1){let p=a.fetcherKey||u2();await n.fetch(p,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||u,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||u,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function d2(n,{relative:e}={}){let{basename:t}=T.useContext(Nr),r=T.useContext(Ir);pt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...Fc(n||".",{relative:e})},u=Qs();if(n==null){o.search=u.search;let d=new URLSearchParams(o.search),f=d.getAll("index");if(f.some(p=>p==="")){d.delete("index"),f.filter(v=>v).forEach(v=>d.append("index",v));let p=d.toString();o.search=p?`?${p}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Vi([t,o.pathname])),bc(o)}function f2(n,e={}){let t=T.useContext(O1);pt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=H1("useViewTransitionState"),a=Fc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Ui(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Ui(t.nextLocation.pathname,r)||t.nextLocation.pathname;return nh(a.pathname,u)!=null||nh(a.pathname,o)!=null}[...YI];var Us=N1();const h2=(n,e,t,r)=>{var o,u,d,f;const a=[t,{code:e,...r||{}}];if((u=(o=n==null?void 0:n.services)==null?void 0:o.logger)!=null&&u.forward)return n.services.logger.forward(a,"warn","react-i18next::",!0);za(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),(f=(d=n==null?void 0:n.services)==null?void 0:d.logger)!=null&&f.warn?n.services.logger.warn(...a):console!=null&&console.warn&&console.warn(...a)},Hw={},Yg=(n,e,t,r)=>{za(t)&&Hw[t]||(za(t)&&(Hw[t]=new Date),h2(n,e,t,r))},G1=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},Xg=(n,e,t)=>{n.loadNamespaces(e,G1(n,t))},Gw=(n,e,t,r)=>{if(za(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return Xg(n,t,r);t.forEach(a=>{n.options.ns.indexOf(a)<0&&n.options.ns.push(a)}),n.loadLanguages(e,G1(n,r))},m2=(n,e,t={})=>!e.languages||!e.languages.length?(Yg(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(r,a)=>{var o;if(((o=t.bindI18n)==null?void 0:o.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!a(r.isLanguageChangingTo,n))return!1}}),za=n=>typeof n=="string",p2=n=>typeof n=="object"&&n!==null,g2=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,y2={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},v2=n=>y2[n],b2=n=>n.replace(g2,v2);let Wg={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:b2};const _2=(n={})=>{Wg={...Wg,...n}},w2=()=>Wg;let K1;const E2=n=>{K1=n},x2=()=>K1,T2={type:"3rdParty",init(n){_2(n.options.react),E2(n)}},Q1=T.createContext();class S2{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const R2=(n,e)=>{const t=T.useRef();return T.useEffect(()=>{t.current=n},[n,e]),t.current},Y1=(n,e,t,r)=>n.getFixedT(e,t,r),A2=(n,e,t,r)=>T.useCallback(Y1(n,e,t,r),[n,e,t,r]),An=(n,e={})=>{var Y,X,de,M;const{i18n:t}=e,{i18n:r,defaultNS:a}=T.useContext(Q1)||{},o=t||r||x2();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new S2),!o){Yg(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const I=(D,L)=>za(L)?L:p2(L)&&za(L.defaultValue)?L.defaultValue:Array.isArray(D)?D[D.length-1]:D,P=[I,{},!1];return P.t=I,P.i18n={},P.ready=!1,P}(Y=o.options.react)!=null&&Y.wait&&Yg(o,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const u={...w2(),...o.options.react,...e},{useSuspense:d,keyPrefix:f}=u;let h=a||((X=o.options)==null?void 0:X.defaultNS);h=za(h)?[h]:h||["translation"],(M=(de=o.reportNamespaces).addUsedNamespaces)==null||M.call(de,h);const p=(o.isInitialized||o.initializedStoreOnce)&&h.every(I=>m2(I,o,u)),v=A2(o,e.lng||null,u.nsMode==="fallback"?h:h[0],f),_=()=>v,x=()=>Y1(o,e.lng||null,u.nsMode==="fallback"?h:h[0],f),[w,A]=T.useState(_);let C=h.join();e.lng&&(C=`${e.lng}${C}`);const j=R2(C),U=T.useRef(!0);T.useEffect(()=>{const{bindI18n:I,bindI18nStore:P}=u;U.current=!0,!p&&!d&&(e.lng?Gw(o,e.lng,h,()=>{U.current&&A(x)}):Xg(o,h,()=>{U.current&&A(x)})),p&&j&&j!==C&&U.current&&A(x);const D=()=>{U.current&&A(x)};return I&&(o==null||o.on(I,D)),P&&(o==null||o.store.on(P,D)),()=>{U.current=!1,o&&(I==null||I.split(" ").forEach(L=>o.off(L,D))),P&&o&&P.split(" ").forEach(L=>o.store.off(L,D))}},[o,C]),T.useEffect(()=>{U.current&&p&&A(_)},[o,f,p]);const F=[w,o,p];if(F.t=w,F.i18n=o,F.ready=p,p||!p&&!d)return F;throw new Promise(I=>{e.lng?Gw(o,e.lng,h,()=>I()):Xg(o,h,()=>I())})};function C2({i18n:n,defaultNS:e,children:t}){const r=T.useMemo(()=>({i18n:n,defaultNS:e}),[n,e]);return T.createElement(Q1.Provider,{value:r},t)}const Pe=n=>typeof n=="string",Ju=()=>{let n,e;const t=new Promise((r,a)=>{n=r,e=a});return t.resolve=n,t.reject=e,t},Kw=n=>n==null?"":""+n,N2=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},I2=/###/g,Qw=n=>n&&n.indexOf("###")>-1?n.replace(I2,"."):n,Yw=n=>!n||Pe(n),oc=(n,e,t)=>{const r=Pe(e)?e.split("."):e;let a=0;for(;a<r.length-1;){if(Yw(n))return{};const o=Qw(r[a]);!n[o]&&t&&(n[o]=new t),Object.prototype.hasOwnProperty.call(n,o)?n=n[o]:n={},++a}return Yw(n)?{}:{obj:n,k:Qw(r[a])}},Xw=(n,e,t)=>{const{obj:r,k:a}=oc(n,e,Object);if(r!==void 0||e.length===1){r[a]=t;return}let o=e[e.length-1],u=e.slice(0,e.length-1),d=oc(n,u,Object);for(;d.obj===void 0&&u.length;)o=`${u[u.length-1]}.${o}`,u=u.slice(0,u.length-1),d=oc(n,u,Object),d!=null&&d.obj&&typeof d.obj[`${d.k}.${o}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${o}`]=t},P2=(n,e,t,r)=>{const{obj:a,k:o}=oc(n,e,Object);a[o]=a[o]||[],a[o].push(t)},rh=(n,e)=>{const{obj:t,k:r}=oc(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},k2=(n,e,t)=>{const r=rh(n,t);return r!==void 0?r:rh(e,t)},X1=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?Pe(n[r])||n[r]instanceof String||Pe(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):X1(n[r],e[r],t):n[r]=e[r]);return n},Jo=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var D2={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const O2=n=>Pe(n)?n.replace(/[&<>"'\/]/g,e=>D2[e]):n;class M2{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const j2=[" ",",","?","!",";"],L2=new M2(20),V2=(n,e,t)=>{e=e||"",t=t||"";const r=j2.filter(u=>e.indexOf(u)<0&&t.indexOf(u)<0);if(r.length===0)return!0;const a=L2.getRegExp(`(${r.map(u=>u==="?"?"\\?":u).join("|")})`);let o=!a.test(n);if(!o){const u=n.indexOf(t);u>0&&!a.test(n.substring(0,u))&&(o=!0)}return o},Zg=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const r=e.split(t);let a=n;for(let o=0;o<r.length;){if(!a||typeof a!="object")return;let u,d="";for(let f=o;f<r.length;++f)if(f!==o&&(d+=t),d+=r[f],u=a[d],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&f<r.length-1)continue;o+=f-o+1;break}a=u}return a},_c=n=>n==null?void 0:n.replace("_","-"),U2={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){var t,r;(r=(t=console==null?void 0:console[n])==null?void 0:t.apply)==null||r.call(t,console,e)}};let F2=class Jg{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||U2,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,a){return a&&!this.debug?null:(Pe(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Jg(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Jg(this.logger,e)}};var Wr=new F2;class jh{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const a=this.observers[r].get(t)||0;this.observers[r].set(t,a+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([a,o])=>{for(let u=0;u<o;u++)a(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,o])=>{for(let u=0;u<o;u++)a.apply(a,[e,...t])})}}class Ww extends jh{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,a={}){var h,p;const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,t],r&&(Array.isArray(r)?d.push(...r):Pe(r)&&o?d.push(...r.split(o)):d.push(r)));const f=rh(this.data,d);return!f&&!t&&!r&&e.indexOf(".")>-1&&(e=d[0],t=d[1],r=d.slice(2).join(".")),f||!u||!Pe(r)?f:Zg((p=(h=this.data)==null?void 0:h[e])==null?void 0:p[t],r,o)}addResource(e,t,r,a,o={silent:!1}){const u=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let d=[e,t];r&&(d=d.concat(u?r.split(u):r)),e.indexOf(".")>-1&&(d=e.split("."),a=t,t=d[1]),this.addNamespaces(t),Xw(this.data,d,a),o.silent||this.emit("added",e,t,r,a)}addResources(e,t,r,a={silent:!1}){for(const o in r)(Pe(r[o])||Array.isArray(r[o]))&&this.addResource(e,t,o,r[o],{silent:!0});a.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,a,o,u={silent:!1,skipCopy:!1}){let d=[e,t];e.indexOf(".")>-1&&(d=e.split("."),a=r,r=t,t=d[1]),this.addNamespaces(t);let f=rh(this.data,d)||{};u.skipCopy||(r=JSON.parse(JSON.stringify(r))),a?X1(f,r,o):f={...f,...r},Xw(this.data,d,f),u.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(a=>t[a]&&Object.keys(t[a]).length>0)}toJSON(){return this.data}}var W1={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,a){return n.forEach(o=>{var u;e=((u=this.processors[o])==null?void 0:u.process(e,t,r,a))??e}),e}};const Zw={},Jw=n=>!Pe(n)&&typeof n!="boolean"&&typeof n!="number";class ih extends jh{constructor(e,t={}){super(),N2(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Wr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const r={...t};if(e==null)return!1;const a=this.resolve(e,r);return(a==null?void 0:a.res)!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const a=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let o=t.ns||this.options.defaultNS||[];const u=r&&e.indexOf(r)>-1,d=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!V2(e,r,a);if(u&&!d){const f=e.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:e,namespaces:Pe(o)?[o]:o};const h=e.split(r);(r!==a||r===a&&this.options.ns.indexOf(h[0])>-1)&&(o=h.shift()),e=h.join(a)}return{key:e,namespaces:Pe(o)?[o]:o}}translate(e,t,r){let a=typeof t=="object"?{...t}:t;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(a={...a}),a||(a={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const o=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,u=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:d,namespaces:f}=this.extractFromKey(e[e.length-1],a),h=f[f.length-1];let p=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;p===void 0&&(p=":");const v=a.lng||this.language,_=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((v==null?void 0:v.toLowerCase())==="cimode")return _?o?{res:`${h}${p}${d}`,usedKey:d,exactUsedKey:d,usedLng:v,usedNS:h,usedParams:this.getUsedParamsDetails(a)}:`${h}${p}${d}`:o?{res:d,usedKey:d,exactUsedKey:d,usedLng:v,usedNS:h,usedParams:this.getUsedParamsDetails(a)}:d;const x=this.resolve(e,a);let w=x==null?void 0:x.res;const A=(x==null?void 0:x.usedKey)||d,C=(x==null?void 0:x.exactUsedKey)||d,j=["[object Number]","[object Function]","[object RegExp]"],U=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,F=!this.i18nFormat||this.i18nFormat.handleAsObject,Y=a.count!==void 0&&!Pe(a.count),X=ih.hasDefaultValue(a),de=Y?this.pluralResolver.getSuffix(v,a.count,a):"",M=a.ordinal&&Y?this.pluralResolver.getSuffix(v,a.count,{ordinal:!1}):"",I=Y&&!a.ordinal&&a.count===0,P=I&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${de}`]||a[`defaultValue${M}`]||a.defaultValue;let D=w;F&&!w&&X&&(D=P);const L=Jw(D),q=Object.prototype.toString.apply(D);if(F&&D&&L&&j.indexOf(q)<0&&!(Pe(U)&&Array.isArray(D))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const V=this.options.returnedObjectHandler?this.options.returnedObjectHandler(A,D,{...a,ns:f}):`key '${d} (${this.language})' returned an object instead of string.`;return o?(x.res=V,x.usedParams=this.getUsedParamsDetails(a),x):V}if(u){const V=Array.isArray(D),be=V?[]:{},we=V?C:A;for(const W in D)if(Object.prototype.hasOwnProperty.call(D,W)){const oe=`${we}${u}${W}`;X&&!w?be[W]=this.translate(oe,{...a,defaultValue:Jw(P)?P[W]:void 0,joinArrays:!1,ns:f}):be[W]=this.translate(oe,{...a,joinArrays:!1,ns:f}),be[W]===oe&&(be[W]=D[W])}w=be}}else if(F&&Pe(U)&&Array.isArray(w))w=w.join(U),w&&(w=this.extendTranslation(w,e,a,r));else{let V=!1,be=!1;!this.isValidLookup(w)&&X&&(V=!0,w=P),this.isValidLookup(w)||(be=!0,w=d);const W=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&be?void 0:w,oe=X&&P!==w&&this.options.updateMissing;if(be||V||oe){if(this.logger.log(oe?"updateKey":"missingKey",v,h,d,oe?P:w),u){const $=this.resolve(d,{...a,keySeparator:!1});$&&$.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let me=[];const ee=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ee&&ee[0])for(let $=0;$<ee.length;$++)me.push(ee[$]);else this.options.saveMissingTo==="all"?me=this.languageUtils.toResolveHierarchy(a.lng||this.language):me.push(a.lng||this.language);const N=($,B,K)=>{var ie;const H=X&&K!==w?K:W;this.options.missingKeyHandler?this.options.missingKeyHandler($,h,B,H,oe,a):(ie=this.backendConnector)!=null&&ie.saveMissing&&this.backendConnector.saveMissing($,h,B,H,oe,a),this.emit("missingKey",$,h,B,w)};this.options.saveMissing&&(this.options.saveMissingPlurals&&Y?me.forEach($=>{const B=this.pluralResolver.getSuffixes($,a);I&&a[`defaultValue${this.options.pluralSeparator}zero`]&&B.indexOf(`${this.options.pluralSeparator}zero`)<0&&B.push(`${this.options.pluralSeparator}zero`),B.forEach(K=>{N([$],d+K,a[`defaultValue${K}`]||P)})}):N(me,d,P))}w=this.extendTranslation(w,e,a,x,r),be&&w===d&&this.options.appendNamespaceToMissingKey&&(w=`${h}${p}${d}`),(be||V)&&this.options.parseMissingKeyHandler&&(w=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${p}${d}`:d,V?w:void 0,a))}return o?(x.res=w,x.usedParams=this.getUsedParamsDetails(a),x):w}extendTranslation(e,t,r,a,o){var f,h;if((f=this.i18nFormat)!=null&&f.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const p=Pe(e)&&(((h=r==null?void 0:r.interpolation)==null?void 0:h.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let v;if(p){const x=e.match(this.interpolator.nestingRegexp);v=x&&x.length}let _=r.replace&&!Pe(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(_={...this.options.interpolation.defaultVariables,..._}),e=this.interpolator.interpolate(e,_,r.lng||this.language||a.usedLng,r),p){const x=e.match(this.interpolator.nestingRegexp),w=x&&x.length;v<w&&(r.nest=!1)}!r.lng&&a&&a.res&&(r.lng=this.language||a.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...x)=>(o==null?void 0:o[0])===x[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${x[0]} in key: ${t[0]}`),null):this.translate(...x,t),r)),r.interpolation&&this.interpolator.reset()}const u=r.postProcess||this.options.postProcess,d=Pe(u)?[u]:u;return e!=null&&(d!=null&&d.length)&&r.applyPostProcessor!==!1&&(e=W1.handle(d,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,a,o,u,d;return Pe(e)&&(e=[e]),e.forEach(f=>{if(this.isValidLookup(r))return;const h=this.extractFromKey(f,t),p=h.key;a=p;let v=h.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const _=t.count!==void 0&&!Pe(t.count),x=_&&!t.ordinal&&t.count===0,w=t.context!==void 0&&(Pe(t.context)||typeof t.context=="number")&&t.context!=="",A=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);v.forEach(C=>{var j,U;this.isValidLookup(r)||(d=C,!Zw[`${A[0]}-${C}`]&&((j=this.utils)!=null&&j.hasLoadedNamespace)&&!((U=this.utils)!=null&&U.hasLoadedNamespace(d))&&(Zw[`${A[0]}-${C}`]=!0,this.logger.warn(`key "${a}" for languages "${A.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),A.forEach(F=>{var de;if(this.isValidLookup(r))return;u=F;const Y=[p];if((de=this.i18nFormat)!=null&&de.addLookupKeys)this.i18nFormat.addLookupKeys(Y,p,F,C,t);else{let M;_&&(M=this.pluralResolver.getSuffix(F,t.count,t));const I=`${this.options.pluralSeparator}zero`,P=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(_&&(Y.push(p+M),t.ordinal&&M.indexOf(P)===0&&Y.push(p+M.replace(P,this.options.pluralSeparator)),x&&Y.push(p+I)),w){const D=`${p}${this.options.contextSeparator}${t.context}`;Y.push(D),_&&(Y.push(D+M),t.ordinal&&M.indexOf(P)===0&&Y.push(D+M.replace(P,this.options.pluralSeparator)),x&&Y.push(D+I))}}let X;for(;X=Y.pop();)this.isValidLookup(r)||(o=X,r=this.getResource(F,C,X,t))}))})}),{res:r,usedKey:a,exactUsedKey:o,usedLng:u,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r,a={}){var o;return(o=this.i18nFormat)!=null&&o.getResource?this.i18nFormat.getResource(e,t,r,a):this.resourceStore.getResource(e,t,r,a)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Pe(e.replace);let a=r?e.replace:e;if(r&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!r){a={...a};for(const o of t)delete a[o]}return a}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class eE{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Wr.create("languageUtils")}getScriptPartFromCode(e){if(e=_c(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=_c(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Pe(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const a=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(a))&&(t=a)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const a=this.getScriptPartFromCode(r);if(this.isSupportedCode(a))return t=a;const o=this.getLanguagePartFromCode(r);if(this.isSupportedCode(o))return t=o;t=this.options.supportedLngs.find(u=>{if(u===o)return u;if(!(u.indexOf("-")<0&&o.indexOf("-")<0)&&(u.indexOf("-")>0&&o.indexOf("-")<0&&u.substring(0,u.indexOf("-"))===o||u.indexOf(o)===0&&o.length>1))return u})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Pe(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),a=[],o=u=>{u&&(this.isSupportedCode(u)?a.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return Pe(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):Pe(e)&&o(this.formatLanguageCode(e)),r.forEach(u=>{a.indexOf(u)<0&&o(this.formatLanguageCode(u))}),a}}const tE={zero:0,one:1,two:2,few:3,many:4,other:5},nE={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class $2{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Wr.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const r=_c(e==="dev"?"en":e),a=t.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:a});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let u;try{u=new Intl.PluralRules(r,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),nE;if(!e.match(/-|_/))return nE;const f=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(f,t)}return this.pluralRulesCache[o]=u,u}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(a=>`${t}${a}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((a,o)=>tE[a]-tE[o]).map(a=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(e,t,r={}){const a=this.getRule(e,r);return a?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const rE=(n,e,t,r=".",a=!0)=>{let o=k2(n,e,t);return!o&&a&&Pe(t)&&(o=Zg(n,t,r),o===void 0&&(o=Zg(e,t,r))),o},xg=n=>n.replace(/\$/g,"$$$$");class B2{constructor(e={}){var t;this.logger=Wr.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:a,prefix:o,prefixEscaped:u,suffix:d,suffixEscaped:f,formatSeparator:h,unescapeSuffix:p,unescapePrefix:v,nestingPrefix:_,nestingPrefixEscaped:x,nestingSuffix:w,nestingSuffixEscaped:A,nestingOptionsSeparator:C,maxReplaces:j,alwaysFormat:U}=e.interpolation;this.escape=t!==void 0?t:O2,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=o?Jo(o):u||"{{",this.suffix=d?Jo(d):f||"}}",this.formatSeparator=h||",",this.unescapePrefix=p?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=_?Jo(_):x||Jo("$t("),this.nestingSuffix=w?Jo(w):A||Jo(")"),this.nestingOptionsSeparator=C||",",this.maxReplaces=j||1e3,this.alwaysFormat=U!==void 0?U:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>(t==null?void 0:t.source)===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,a){var x;let o,u,d;const f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=w=>{if(w.indexOf(this.formatSeparator)<0){const U=rE(t,f,w,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(U,void 0,r,{...a,...t,interpolationkey:w}):U}const A=w.split(this.formatSeparator),C=A.shift().trim(),j=A.join(this.formatSeparator).trim();return this.format(rE(t,f,C,this.options.keySeparator,this.options.ignoreJSONStructure),j,r,{...a,...t,interpolationkey:C})};this.resetRegExp();const p=(a==null?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,v=((x=a==null?void 0:a.interpolation)==null?void 0:x.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:w=>xg(w)},{regex:this.regexp,safeValue:w=>this.escapeValue?xg(this.escape(w)):xg(w)}].forEach(w=>{for(d=0;o=w.regex.exec(e);){const A=o[1].trim();if(u=h(A),u===void 0)if(typeof p=="function"){const j=p(e,o,a);u=Pe(j)?j:""}else if(a&&Object.prototype.hasOwnProperty.call(a,A))u="";else if(v){u=o[0];continue}else this.logger.warn(`missed to pass in variable ${A} for interpolating ${e}`),u="";else!Pe(u)&&!this.useRawValueToEscape&&(u=Kw(u));const C=w.safeValue(u);if(e=e.replace(o[0],C),v?(w.regex.lastIndex+=u.length,w.regex.lastIndex-=o[0].length):w.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,t,r={}){let a,o,u;const d=(f,h)=>{const p=this.nestingOptionsSeparator;if(f.indexOf(p)<0)return f;const v=f.split(new RegExp(`${p}[ ]*{`));let _=`{${v[1]}`;f=v[0],_=this.interpolate(_,u);const x=_.match(/'/g),w=_.match(/"/g);(((x==null?void 0:x.length)??0)%2===0&&!w||w.length%2!==0)&&(_=_.replace(/'/g,'"'));try{u=JSON.parse(_),h&&(u={...h,...u})}catch(A){return this.logger.warn(`failed parsing options string in nesting for key ${f}`,A),`${f}${p}${_}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,f};for(;a=this.nestingRegexp.exec(e);){let f=[];u={...r},u=u.replace&&!Pe(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;let h=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){const p=a[1].split(this.formatSeparator).map(v=>v.trim());a[1]=p.shift(),f=p,h=!0}if(o=t(d.call(this,a[1].trim(),u),u),o&&a[0]===e&&!Pe(o))return o;Pe(o)||(o=Kw(o)),o||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),o=""),h&&(o=f.reduce((p,v)=>this.format(p,v,r.lng,{...r,interpolationkey:a[1].trim()}),o.trim())),e=e.replace(a[0],o),this.regexp.lastIndex=0}return e}}const z2=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const a=r[1].substring(0,r[1].length-1);e==="currency"&&a.indexOf(":")<0?t.currency||(t.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?t.range||(t.range=a.trim()):a.split(";").forEach(u=>{if(u){const[d,...f]=u.split(":"),h=f.join(":").trim().replace(/^'+|'+$/g,""),p=d.trim();t[p]||(t[p]=h),h==="false"&&(t[p]=!1),h==="true"&&(t[p]=!0),isNaN(h)||(t[p]=parseInt(h,10))}})}return{formatName:e,formatOptions:t}},iE=n=>{const e={};return(t,r,a)=>{let o=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(o={...o,[a.interpolationkey]:void 0});const u=r+JSON.stringify(o);let d=e[u];return d||(d=n(_c(r),a),e[u]=d),d(t)}},q2=n=>(e,t,r)=>n(_c(t),r)(e);class H2{constructor(e={}){this.logger=Wr.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const r=t.cacheInBuiltFormats?iE:q2;this.formats={number:r((a,o)=>{const u=new Intl.NumberFormat(a,{...o});return d=>u.format(d)}),currency:r((a,o)=>{const u=new Intl.NumberFormat(a,{...o,style:"currency"});return d=>u.format(d)}),datetime:r((a,o)=>{const u=new Intl.DateTimeFormat(a,{...o});return d=>u.format(d)}),relativetime:r((a,o)=>{const u=new Intl.RelativeTimeFormat(a,{...o});return d=>u.format(d,o.range||"day")}),list:r((a,o)=>{const u=new Intl.ListFormat(a,{...o});return d=>u.format(d)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=iE(t)}format(e,t,r,a={}){const o=t.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(d=>d.indexOf(")")>-1)){const d=o.findIndex(f=>f.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,d)].join(this.formatSeparator)}return o.reduce((d,f)=>{var v;const{formatName:h,formatOptions:p}=z2(f);if(this.formats[h]){let _=d;try{const x=((v=a==null?void 0:a.formatParams)==null?void 0:v[a.interpolationkey])||{},w=x.locale||x.lng||a.locale||a.lng||r;_=this.formats[h](d,w,{...p,...a,...x})}catch(x){this.logger.warn(x)}return _}else this.logger.warn(`there was no format function for ${h}`);return d},e)}}const G2=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class K2 extends jh{constructor(e,t,r,a={}){var o,u;super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=a,this.logger=Wr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],(u=(o=this.backend)==null?void 0:o.init)==null||u.call(o,r,a.backend,a)}queueLoad(e,t,r,a){const o={},u={},d={},f={};return e.forEach(h=>{let p=!0;t.forEach(v=>{const _=`${h}|${v}`;!r.reload&&this.store.hasResourceBundle(h,v)?this.state[_]=2:this.state[_]<0||(this.state[_]===1?u[_]===void 0&&(u[_]=!0):(this.state[_]=1,p=!1,u[_]===void 0&&(u[_]=!0),o[_]===void 0&&(o[_]=!0),f[v]===void 0&&(f[v]=!0)))}),p||(d[h]=!0)}),(Object.keys(o).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(o),pending:Object.keys(u),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(f)}}loaded(e,t,r){const a=e.split("|"),o=a[0],u=a[1];t&&this.emit("failedLoading",o,u,t),!t&&r&&this.store.addResourceBundle(o,u,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const d={};this.queue.forEach(f=>{P2(f.loaded,[o],u),G2(f,e),t&&f.errors.push(t),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(h=>{d[h]||(d[h]={});const p=f.loaded[h];p.length&&p.forEach(v=>{d[h][v]===void 0&&(d[h][v]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(f=>!f.done)}read(e,t,r,a=0,o=this.retryTimeout,u){if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:a,wait:o,callback:u});return}this.readingCalls++;const d=(h,p)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(h&&p&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,a+1,o*2,u)},o);return}u(h,p)},f=this.backend[r].bind(this.backend);if(f.length===2){try{const h=f(e,t);h&&typeof h.then=="function"?h.then(p=>d(null,p)).catch(d):d(null,h)}catch(h){d(h)}return}return f(e,t,d)}prepareLoading(e,t,r={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();Pe(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Pe(t)&&(t=[t]);const o=this.queueLoad(e,t,r,a);if(!o.toLoad.length)return o.pending.length||a(),null;o.toLoad.forEach(u=>{this.loadOne(u)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){const r=e.split("|"),a=r[0],o=r[1];this.read(a,o,"read",void 0,void 0,(u,d)=>{u&&this.logger.warn(`${t}loading namespace ${o} for language ${a} failed`,u),!u&&d&&this.logger.log(`${t}loaded namespace ${o} for language ${a}`,d),this.loaded(e,u,d)})}saveMissing(e,t,r,a,o,u={},d=()=>{}){var f,h,p,v,_;if((h=(f=this.services)==null?void 0:f.utils)!=null&&h.hasLoadedNamespace&&!((v=(p=this.services)==null?void 0:p.utils)!=null&&v.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((_=this.backend)!=null&&_.create){const x={...u,isUpdate:o},w=this.backend.create.bind(this.backend);if(w.length<6)try{let A;w.length===5?A=w(e,t,r,a,x):A=w(e,t,r,a),A&&typeof A.then=="function"?A.then(C=>d(null,C)).catch(d):d(null,A)}catch(A){d(A)}else w(e,t,r,a,d,x)}!e||!e[0]||this.store.addResource(e[0],t,r,a)}}}const sE=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),Pe(n[1])&&(e.defaultValue=n[1]),Pe(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),aE=n=>{var e,t;return Pe(n.ns)&&(n.ns=[n.ns]),Pe(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),Pe(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((t=(e=n.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},If=()=>{},Q2=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class wc extends jh{constructor(e={},t){if(super(),this.options=aE(e),this.services={},this.logger=Wr,this.modules={external:[]},Q2(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(Pe(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=sE();this.options={...r,...this.options,...aE(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const a=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?Wr.init(a(this.modules.logger),this.options):Wr.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=H2;const p=new eE(this.options);this.store=new Ww(this.options.resources,this.options);const v=this.services;v.logger=Wr,v.resourceStore=this.store,v.languageUtils=p,v.pluralResolver=new $2(p,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),h&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(v.formatter=a(h),v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new B2(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new K2(a(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",(_,...x)=>{this.emit(_,...x)}),this.modules.languageDetector&&(v.languageDetector=a(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=a(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new ih(this.services,this.options),this.translator.on("*",(_,...x)=>{this.emit(_,...x)}),this.modules.external.forEach(_=>{_.init&&_.init(this)})}if(this.format=this.options.interpolation.format,t||(t=If),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...p)=>this.store[h](...p)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...p)=>(this.store[h](...p),this)});const d=Ju(),f=()=>{const h=(p,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(v),t(p,v)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?f():setTimeout(f,0),d}loadResources(e,t=If){var o,u;let r=t;const a=Pe(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((a==null?void 0:a.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const d=[],f=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(v=>{v!=="cimode"&&d.indexOf(v)<0&&d.push(v)})};a?f(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(p=>f(p)),(u=(o=this.options.preload)==null?void 0:o.forEach)==null||u.call(o,h=>f(h)),this.services.backendConnector.load(d,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(h)})}else r(null)}reloadResources(e,t,r){const a=Ju();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=If),this.services.backendConnector.reload(e,t,o=>{a.resolve(),r(o)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&W1.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const r=Ju();this.emit("languageChanging",e);const a=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},o=(d,f)=>{f?this.isLanguageChangingTo===e&&(a(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,r.resolve((...h)=>this.t(...h)),t&&t(d,(...h)=>this.t(...h))},u=d=>{var p,v;!e&&!d&&this.services.languageDetector&&(d=[]);const f=Pe(d)?d:d&&d[0],h=this.store.hasLanguageSomeTranslations(f)?f:this.services.languageUtils.getBestMatchFromCodes(Pe(d)?[d]:d);h&&(this.language||a(h),this.translator.language||this.translator.changeLanguage(h),(v=(p=this.services.languageDetector)==null?void 0:p.cacheUserLanguage)==null||v.call(p,h)),this.loadResources(h,_=>{o(_,h)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),r}getFixedT(e,t,r){const a=(o,u,...d)=>{let f;typeof u!="object"?f=this.options.overloadTranslationOptionHandler([o,u].concat(d)):f={...u},f.lng=f.lng||a.lng,f.lngs=f.lngs||a.lngs,f.ns=f.ns||a.ns,f.keyPrefix!==""&&(f.keyPrefix=f.keyPrefix||r||a.keyPrefix);const h=this.options.keySeparator||".";let p;return f.keyPrefix&&Array.isArray(o)?p=o.map(v=>`${f.keyPrefix}${h}${v}`):p=f.keyPrefix?`${f.keyPrefix}${h}${o}`:o,this.t(p,f)};return Pe(e)?a.lng=e:a.lngs=e,a.ns=t,a.keyPrefix=r,a}t(...e){var t;return(t=this.translator)==null?void 0:t.translate(...e)}exists(...e){var t;return(t=this.translator)==null?void 0:t.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const u=(d,f)=>{const h=this.services.backendConnector.state[`${d}|${f}`];return h===-1||h===0||h===2};if(t.precheck){const d=t.precheck(this,u);if(d!==void 0)return d}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(r,e)&&(!a||u(o,e)))}loadNamespaces(e,t){const r=Ju();return this.options.ns?(Pe(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{r.resolve(),t&&t(a)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=Ju();Pe(e)&&(e=[e]);const a=this.options.preload||[],o=e.filter(u=>a.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return o.length?(this.options.preload=a.concat(o),this.loadResources(u=>{r.resolve(),t&&t(u)}),r):(t&&t(),Promise.resolve())}dir(e){var a,o;if(e||(e=this.resolvedLanguage||(((a=this.languages)==null?void 0:a.length)>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((o=this.services)==null?void 0:o.languageUtils)||new eE(sE());return t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new wc(e,t)}cloneInstance(e={},t=If){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},o=new wc(a);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(d=>{o[d]=this[d]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r){const d=Object.keys(this.store.data).reduce((f,h)=>(f[h]={...this.store.data[h]},f[h]=Object.keys(f[h]).reduce((p,v)=>(p[v]={...f[h][v]},p),f[h]),f),{});o.store=new Ww(d,a),o.services.resourceStore=o.store}return o.translator=new ih(o.services,a),o.translator.on("*",(d,...f)=>{o.emit(d,...f)}),o.init(a,t),o.translator.options=a,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const dn=wc.createInstance();dn.createInstance=wc.createInstance;dn.createInstance;dn.dir;dn.init;dn.loadResources;dn.reloadResources;dn.use;dn.changeLanguage;dn.getFixedT;dn.t;dn.exists;dn.setDefaultNamespace;dn.hasLoadedNamespace;dn.loadNamespaces;dn.loadLanguages;const{slice:Y2,forEach:X2}=[];function W2(n){return X2.call(Y2.call(arguments,1),e=>{if(e)for(const t in e)n[t]===void 0&&(n[t]=e[t])}),n}function Z2(n){return typeof n!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(n))}const oE=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,J2=function(n,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(e);let o=`${n}=${a}`;if(r.maxAge>0){const u=r.maxAge-0;if(Number.isNaN(u))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(u)}`}if(r.domain){if(!oE.test(r.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${r.domain}`}if(r.path){if(!oE.test(r.path))throw new TypeError("option path is invalid");o+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(o+="; Partitioned"),o},lE={create(n,e,t,r){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+t*60*1e3)),r&&(a.domain=r),document.cookie=J2(n,encodeURIComponent(e),a)},read(n){const e=`${n}=`,t=document.cookie.split(";");for(let r=0;r<t.length;r++){let a=t[r];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(e)===0)return a.substring(e.length,a.length)}return null},remove(n){this.create(n,"",-1)}};var eP={name:"cookie",lookup(n){let{lookupCookie:e}=n;if(e&&typeof document<"u")return lE.read(e)||void 0},cacheUserLanguage(n,e){let{lookupCookie:t,cookieMinutes:r,cookieDomain:a,cookieOptions:o}=e;t&&typeof document<"u"&&lE.create(t,n,r,a,o)}},tP={name:"querystring",lookup(n){var r;let{lookupQuerystring:e}=n,t;if(typeof window<"u"){let{search:a}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(a=window.location.hash.substring(window.location.hash.indexOf("?")));const u=a.substring(1).split("&");for(let d=0;d<u.length;d++){const f=u[d].indexOf("=");f>0&&u[d].substring(0,f)===e&&(t=u[d].substring(f+1))}}return t}};let el=null;const uE=()=>{if(el!==null)return el;try{if(el=typeof window<"u"&&window.localStorage!==null,!el)return!1;const n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch{el=!1}return el};var nP={name:"localStorage",lookup(n){let{lookupLocalStorage:e}=n;if(e&&uE())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupLocalStorage:t}=e;t&&uE()&&window.localStorage.setItem(t,n)}};let tl=null;const cE=()=>{if(tl!==null)return tl;try{if(tl=typeof window<"u"&&window.sessionStorage!==null,!tl)return!1;const n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch{tl=!1}return tl};var rP={name:"sessionStorage",lookup(n){let{lookupSessionStorage:e}=n;if(e&&cE())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupSessionStorage:t}=e;t&&cE()&&window.sessionStorage.setItem(t,n)}},iP={name:"navigator",lookup(n){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:r,language:a}=navigator;if(t)for(let o=0;o<t.length;o++)e.push(t[o]);r&&e.push(r),a&&e.push(a)}return e.length>0?e:void 0}},sP={name:"htmlTag",lookup(n){let{htmlTag:e}=n,t;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(t=r.getAttribute("lang")),t}},aP={name:"path",lookup(n){var a;let{lookupFromPathIndex:e}=n;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?(a=t[typeof e=="number"?e:0])==null?void 0:a.replace("/",""):void 0}},oP={name:"subdomain",lookup(n){var a,o;let{lookupFromSubdomainIndex:e}=n;const t=typeof e=="number"?e+1:1,r=typeof window<"u"&&((o=(a=window.location)==null?void 0:a.hostname)==null?void 0:o.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[t]}};let Z1=!1;try{document.cookie,Z1=!0}catch{}const J1=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Z1||J1.splice(1,1);const lP=()=>({order:J1,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n});class eT{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=W2(t,this.options||{},lP()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(eP),this.addDetector(tP),this.addDetector(nP),this.addDetector(rP),this.addDetector(iP),this.addDetector(sP),this.addDetector(aP),this.addDetector(oP)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(r=>{if(this.detectors[r]){let a=this.detectors[r].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(t=t.concat(a))}}),t=t.filter(r=>r!=null&&!Z2(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}eT.type="languageDetector";const uP={guest:"Guest",loading:"Loading...",error:"Error",success:"Success",warning:"Warning",info:"Information",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",search:"Search",filter:"Filter",sort:"Sort",price:"Price",stock:"Stock",total:"Total",subtotal:"Subtotal",shipping:"Shipping",tax:"Tax",discount:"Discount",saving:"Saving...",saveChanges:"Save Changes",deleting:"Deleting..."},cP={login:"Login",logout:"Logout",signup:"Sign Up",email:"Email",password:"Password",forgotPassword:"Forgot Password?",loginWithGoogle:"Login with Google",noAccount:"Don't have an account?",haveAccount:"Already have an account?",signupNow:"Sign up now",loginNow:"Login now",welcome:"Welcome to TradeHub",signInToContinue:"Sign in to continue",register:"Register",confirmPassword:"Confirm Password",resetPassword:"Reset Password",resetPasswordDescription:"Enter your email address and we'll send you a link to reset your password.",sendResetLink:"Send Reset Link",sending:"Sending...",name:"Name",phoneNumber:"Phone",loginError:"Failed to login. Please try again.",welcomeBack:"Welcome Back",signInToAccount:"Sign in to your account",orContinueWith:"Or continue with",signInWithGoogle:"Sign in with Google",validation:{emailRequired:"Email is required",emailInvalid:"Please enter a valid email address",passwordRequired:"Password is required",passwordMinLength:"Password must be at least 6 characters",confirmPasswordRequired:"Please confirm your password",passwordsDoNotMatch:"Passwords do not match"},notifications:{loginSuccess:"Successfully logged in!",loginError:"Failed to login. Please try again.",logoutSuccess:"Successfully logged out!",resetPasswordSent:"Password reset email sent!",resetPasswordError:"Failed to send password reset email",resetEmailSent:"Password reset email sent. Please check your inbox.",resetEmailError:"Failed to send reset email. Please try again.",userNotFound:"No account found with this email address.",invalidEmail:"Please enter a valid email address.",mustLogin:"You must be logged in to access this page."}},dP={title:"Checkout",quantity:"Quantity",shippingInfo:"Shipping Information",paymentMethod:"Payment Method",orderSummary:"Order Summary",placeOrder:"Place Order",processing:"Processing...",creditCard:"Credit Card",pix:"PIX",bankTransfer:"Bank Transfer",cardNumber:"Card Number",cardName:"Name on Card",expiryDate:"Expiry Date",cvv:"CVV",address:"Address",city:"City",state:"State",zipCode:"ZIP Code",pixInstructions:"Scan the QR code with your banking app or copy the PIX key",pixExpiration:"Expires in",pixStatus:{pending:"Waiting for payment",paid:"Payment confirmed",expired:"Time expired"},shippingTaxes:"Shipping and taxes calculated at checkout",validation:{fullNameRequired:"Full name is required",emailRequired:"Email is required",emailInvalid:"Please enter a valid email address",phoneRequired:"Phone number is required",phoneInvalid:"Invalid phone number",phoneNumberFormat:"Please use the format: +5511999999999",addressRequired:"Address is required",cityRequired:"City is required",stateRequired:"State is required",zipCodeRequired:"ZIP code is required",zipCodeInvalid:"Invalid ZIP code",zipCodeFormat:"Please use the format: 12345-678",cardNumberRequired:"Card number is required",cardNumberInvalid:"Invalid card number (16 digits required)",cardNameRequired:"Name on card is required",expiryDateRequired:"Expiry date is required",expiryDateInvalid:"Invalid date format (MM/YY required)",cvvRequired:"CVV is required",cvvInvalid:"Invalid CVV (3-4 digits required)",bankNameRequired:"Bank name is required",accountNumberRequired:"Account number is required",accountHolderRequired:"Account holder name is required",pixKeyRequired:"PIX key is required"},notifications:{formErrors:"Please correct the errors in the form",emptyCart:"Your cart is empty",orderSuccess:"Order placed successfully!",orderError:"Error placing order",paymentSuccess:"Payment processed successfully",paymentError:"Error processing payment",pixGenerated:"PIX payment generated successfully",pixError:"Error generating PIX payment",processing:"Processing your order..."},summary:{title:"Order Summary",items:"Items",stock:"Stock",price:"Price",subtotal:"Subtotal",shipping:"Shipping",tax:"Tax",total:"Total"}},fP={title:"Products",addToCart:"Add to Cart",outOfStock:"Out of Stock",description:"Description",specifications:"Specifications",relatedProducts:"Related Products",categories:"Categories",priceRange:"Price Range",sortBy:"Sort by",filterBy:"Filter by",addNew:"Add New Product",myProducts:"My Products",listed:"Listed Products",sell:"Sell Product",favorites:"My Favorite Products",newProduct:{title:"Add New Product",name:"Product Name",description:"Product Description",price:"Price",stock:"Stock",category:"Category",condition:"Condition",brand:"Brand",weight:"Weight",dimensions:"Dimensions",shippingCost:"Shipping Cost",freeShipping:"Free Shipping",status:"Status",uploadImages:"Upload Images",uploadProgress:"Uploading image {{id}}: {{progress}}%",loading:"Loading...",loadingTimeout:"Taking longer than expected...",captureFromCamera:"Capture from Camera",selectPhotos:"Select Photo(s)",youtubeUrlPlaceholder:"Paste YouTube URL here",addVideo:"Add Video",selectedMedia:"Selected Media",youtubeVideo:"YouTube Video",videoId:"Video ID",type:"Type",size:"Size",pixels:"pixels",estimatedChunks:"Estimated Chunks",validation:{nameRequired:"Product name is required",descriptionRequired:"Description is required",priceRequired:"Price is required",priceInvalid:"Please enter a valid price",stockRequired:"Stock is required",stockInvalid:"Please enter a valid stock stock",categoryRequired:"Category is required",conditionRequired:"Condition is required",imageRequired:"At least one image is required"}},editProduct:"Edit Product",deleteProduct:"Delete Product",deleteConfirmation:"Are you sure you want to delete this product?",deleteSuccess:"Product deleted successfully",deleteError:"Error deleting product",saveSuccess:"Product saved successfully",saveError:"Error saving product",name:"Name",category:"Category",condition:"Condition",images:"Images",addImages:"Add Images",removeImage:"Remove Image",maxImages:"Maximum 5 images allowed",invalidImage:"Invalid image format",imageTooLarge:"Image is too large",noProducts:"No products found",noFavorites:"No favorite products yet",noMyProducts:"You haven't listed any products yet",search:"Search products...",sortOptions:{newest:"Newest",oldest:"Oldest",priceAsc:"Price: Low to High",priceDesc:"Price: High to Low"},thumbnail:"Thumbnail",highlightedImage:"Highlighted Image",addToBasket:"Add to Basket",addToFavorites:"Add to Favorites",currency:"$",management:{newProduct:"New Product",editProduct:"Edit Product",myProducts:"My Products",productDetails:"Product Details",basicInfo:"Basic Information",pricing:"Pricing",inventory:"Inventory",images:"Images",description:"Description",specifications:"Specifications",category:"Category",condition:"Condition",price:"Price",stock:"Stock",sku:"SKU",brand:"Brand",weight:"Weight",dimensions:"Dimensions",shipping:"Shipping",freeShipping:"Free Shipping",shippingCost:"Shipping Cost",status:"Status",active:"Active",inactive:"Inactive",draft:"Draft",validation:{nameRequired:"Product name is required",priceRequired:"Price is required",priceInvalid:"Please enter a valid price",stockRequired:"Stock quantity is required",stockInvalid:"Please enter a valid stock quantity",categoryRequired:"Category is required",conditionRequired:"Condition is required",descriptionRequired:"Description is required",imageRequired:"At least one image is required"}},currentImages:"Current Images",uploadFile:"Upload File",orDragAndDrop:"or drag and drop",imageTypes:"PNG, JPG, GIF up to 10MB",imageAlt:"Product image {{number}}",selectCategory:"Select a category",selectCondition:"Select a condition",selectStatus:"Select a status",statusActive:"Active",statusInactive:"Inactive",statusDraft:"Draft",validation:{nameRequired:"Product name is required",descriptionRequired:"Description is required",priceRequired:"Price is required",priceInvalid:"Please enter a valid price",stockRequired:"Stock is required",stockInvalid:"Please enter a valid stock quantity",categoryRequired:"Category is required",conditionRequired:"Condition is required",imageRequired:"At least one image is required"},sellingProducts:"Selling Products",addedToCart:"Product added to cart successfully",addToCartError:"Failed to add product to cart",questionsAndAnswers:"Questions & Answers",askQuestion:"Ask a question",questionPlaceholder:"Type your question here...",submitQuestion:"Submit Question",submitAnswer:"Submit Answer",answer:"Answer",answerPlaceholder:"Type your answer here...",noQuestions:"No questions yet. Be the first to ask!",questionSubmitted:"Question submitted successfully",answerSubmitted:"Answer submitted successfully",errors:{fetchQuestionsFailed:"Failed to fetch questions",submitQuestionFailed:"Failed to submit question",submitAnswerFailed:"Failed to submit answer",ownerEmailNotFound:"Unable to submit question: Product owner information not found",deleteQuestionFailed:"Failed to delete question"},deleteQuestion:"Delete Question",deleteQuestionConfirmation:"Are you sure you want to delete this question?",questionDeleted:"Question deleted successfully",uploadingImages:"Uploading images",removeFromFavorites:"Remove from Favorites",favoriteRemoved:"Product removed from favorites",favoriteRemoveError:"Failed to remove product from favorites"},hP={title:"Shopping Cart",empty:"Your cart is empty",continueShopping:"Continue Shopping",checkout:"Checkout",remove:"Remove",update:"Update",items:"items",subtotal:"Subtotal",shippingAndTaxes:"Shipping and taxes calculated at checkout",or:"or",removeItem:"Remove item",updateStock:"Update stock",stock:"Stock",cannotBeNegative:"Quantity cannot be negative",insufficientStock:"Not enough stock available",updateFailed:"Failed to update quantity"},mP={title:"Orders",orderHistory:"Order History",orderDetails:"Order Details",orderNumber:"Order Number",orderDate:"Order Date",orderStatus:"Status",tracking:"Tracking",myPurchases:"My Purchases",noPurchases:"No purchases yet",orderTotal:"Total",orderItems:"Items",shippingAddress:"Shipping Address",items:"Items",total:"Total",fetchError:"Error fetching purchases",status:{pending:"Pending",paid:"Paid",shipped:"Shipped",delivered:"Delivered",cancelled:"Cancelled"}},pP={title:"Profile",editProfile:"Edit Profile",displayName:"Display Name",email:"Email",phoneNumber:"Phone",address:"Address",saveChanges:"Save Changes",changesSaved:"Changes saved successfully",errorSaving:"Error saving changes",personalInfo:"Personal Information",addresses:"Addresses",paymentMethods:"Payment Methods",orders:"Orders",settings:"Settings",changePassword:"Change Password",management:{editProfile:"Edit Profile",personalInfo:"Personal Information",contactInfo:"Contact Information",addresses:"Addresses",paymentMethods:"Payment Methods",preferences:"Preferences",notifications:"Notifications",security:"Security",validation:{nameRequired:"Name is required",emailRequired:"Email is required",emailInvalid:"Please enter a valid email",phoneRequired:"Phone is required",phoneInvalid:"Please enter a valid phone number",addressRequired:"Address is required",cityRequired:"City is required",stateRequired:"State is required",zipCodeRequired:"ZIP code is required",zipCodeInvalid:"Please enter a valid ZIP code"}}},gP={productAdded:"Product added to basket!",productOutOfStock:"This product is out of stock.",addToBasketError:"Failed to add product to basket.",favoritesComingSoon:"Favorites functionality coming soon!",loading:"Loading...",error:"Error",success:"Success",info:"Information"},yP={title:"Order Confirmed!",thankYou:"Thank you for your purchase. Your order has been received and is being processed.",nextSteps:"Next Steps",emailDetails:"You will receive an email with your order details",preparingOrder:"Our team will start preparing your order",orderUpdates:"You will receive updates about your order status",continueShopping:"Continue Shopping",viewOrders:"View My Orders"},vP={title:"Welcome to TradeHub",subtitle:"Your marketplace for buying and selling",featuredProducts:"Featured Products",newArrivals:"New Arrivals",popularCategories:"Popular Categories",browseAll:"Browse All Products",sellNow:"Start Selling",searchPlaceholder:"Search for products...",noProducts:"No products available at the moment",viewMore:"View More",hero:{title:"Buy and Sell with Confidence",subtitle:"Join our community of buyers and sellers",cta:"Get Started"},features:{secure:"Secure Transactions",secureDesc:"Safe and secure payment processing",global:"Global Marketplace",globalDesc:"Connect with buyers and sellers worldwide",support:"24/7 Support",supportDesc:"Always here to help you"}},bP={title:"My Favorites",empty:"You haven't added any products to your favorites yet.",browseProducts:"Browse Products"},_P={sellingProducts:"Selling Products",myProducts:"My Products",myFavorites:"My Favorites",myPurchases:"My Purchases"},wP={common:uP,auth:cP,checkout:dP,products:fP,cart:hP,orders:mP,profile:pP,notifications:gP,orderConfirmation:yP,home:vP,favorites:bP,nav:_P},EP={guest:"Convidado",loading:"Carregando...",error:"Erro",success:"Sucesso",warning:"Aviso",info:"Informao",save:"Salvar",cancel:"Cancelar",delete:"Excluir",edit:"Editar",search:"Buscar",filter:"Filtrar",sort:"Ordenar",price:"Preo",stock:"Estoque",total:"Total",subtotal:"Subtotal",shipping:"Frete",tax:"Imposto",discount:"Desconto",saving:"Salvando...",saveChanges:"Salvar Alteraes",deleting:"Excluindo..."},xP={login:"Entrar",logout:"Sair",signup:"Cadastrar",email:"E-mail",password:"Senha",forgotPassword:"Esqueceu a senha?",loginWithGoogle:"Entrar com Google",noAccount:"No tem uma conta?",haveAccount:"J tem uma conta?",signupNow:"Cadastre-se agora",loginNow:"Entre agora",welcome:"Bem-vindo ao TradeHub",signInToContinue:"Entre para continuar",register:"Registrar",confirmPassword:"Confirmar Senha",resetPassword:"Redefinir Senha",resetPasswordDescription:"Digite seu endereo de e-mail e enviaremos um link para redefinir sua senha.",sendResetLink:"Enviar Link de Redefinio",sending:"Enviando...",name:"Nome",phoneNumber:"Telefone",loginError:"Falha ao entrar. Por favor, tente novamente.",welcomeBack:"Bem-vindo de volta",signInToAccount:"Entre na sua conta",orContinueWith:"Ou continue com",signInWithGoogle:"Entrar com Google",validation:{emailRequired:"E-mail  obrigatrio",emailInvalid:"Por favor, insira um e-mail vlido",passwordRequired:"Senha  obrigatria",passwordMinLength:"A senha deve ter pelo menos 6 caracteres",confirmPasswordRequired:"Por favor, confirme sua senha",passwordsDoNotMatch:"As senhas no coincidem"},notifications:{loginSuccess:"Login realizado com sucesso!",loginError:"Falha ao fazer login. Por favor, tente novamente.",logoutSuccess:"Logout realizado com sucesso!",resetPasswordSent:"E-mail de redefinio de senha enviado!",resetPasswordError:"Falha ao enviar e-mail de redefinio de senha",resetEmailSent:"E-mail de redefinio de senha enviado. Por favor, verifique sua caixa de entrada.",resetEmailError:"Falha ao enviar e-mail de redefinio. Por favor, tente novamente.",userNotFound:"Nenhuma conta encontrada com este endereo de e-mail.",invalidEmail:"Por favor, insira um endereo de e-mail vlido."}},TP={title:"Finalizar Compra",shippingInfo:"Informaes de Entrega",quantity:"Quantidade",paymentMethod:"Forma de Pagamento",orderSummary:"Resumo do Pedido",placeOrder:"Fazer Pedido",processing:"Processando...",creditCard:"Carto de Crdito",pix:"PIX",bankTransfer:"Transferncia Bancria",cardNumber:"Nmero do Carto",cardName:"Nome no Carto",expiryDate:"Data de Expirao",cvv:"CVV",address:"Endereo",city:"Cidade",state:"Estado",zipCode:"CEP",pixInstructions:"Escaneie o QR code com seu aplicativo bancrio ou copie a chave PIX",pixExpiration:"Expira em",pixStatus:{pending:"Aguardando pagamento",paid:"Pagamento confirmado",expired:"Tempo expirado"},shippingTaxes:"Frete e impostos calculados no checkout",validation:{fullNameRequired:"Nome completo  obrigatrio",emailRequired:"Email  obrigatrio",emailInvalid:"Por favor, insira um email vlido",phoneRequired:"Telefone  obrigatrio",phoneInvalid:"Telefone invlido",phoneNumberFormat:"Por favor, use o formato: +5511999999999",addressRequired:"Endereo  obrigatrio",cityRequired:"Cidade  obrigatria",stateRequired:"Estado  obrigatrio",zipCodeRequired:"CEP  obrigatrio",zipCodeInvalid:"CEP invlido",zipCodeFormat:"Por favor, use o formato: 12345-678",cardNumberRequired:"Nmero do carto  obrigatrio",cardNumberInvalid:"Nmero do carto invlido (16 dgitos necessrios)",cardNameRequired:"Nome no carto  obrigatrio",expiryDateRequired:"Data de expirao  obrigatria",expiryDateInvalid:"Formato de data invlido (MM/AA necessrio)",cvvRequired:"CVV  obrigatrio",cvvInvalid:"CVV invlido (3-4 dgitos necessrios)",bankNameRequired:"Nome do banco  obrigatrio",accountNumberRequired:"Nmero da conta  obrigatrio",accountHolderRequired:"Nome do titular  obrigatrio",pixKeyRequired:"Chave PIX  obrigatria"},notifications:{formErrors:"Por favor, corrija os erros no formulrio",emptyCart:"Seu carrinho est vazio",orderSuccess:"Pedido realizado com sucesso!",orderError:"Erro ao realizar pedido",paymentSuccess:"Pagamento processado com sucesso",paymentError:"Erro ao processar pagamento",pixGenerated:"Pagamento PIX gerado com sucesso",pixError:"Erro ao gerar pagamento PIX",processing:"Processando seu pedido..."},summary:{title:"Resumo do Pedido",items:"Itens",stock:"Quantidade",price:"Preo",subtotal:"Subtotal",shipping:"Frete",tax:"Imposto",total:"Total"}},SP={title:"Produtos",addToCart:"Adicionar ao Carrinho",outOfStock:"Fora de Estoque",description:"Descrio",specifications:"Especificaes",relatedProducts:"Produtos Relacionados",categories:"Categorias",priceRange:"Faixa de Preo",sortBy:"Ordenar por",filterBy:"Filtrar por",addNew:"Adicionar Novo Produto",myProducts:"Meus Produtos",listed:"Produtos Anunciados",sell:"Vender Produto",favorites:"Meus Produtos Favoritos",newProduct:{title:"Adicionar Novo Produto",name:"Nome do Produto",description:"Descrio do Produto",price:"Preo",stock:"Estoque",category:"Categoria",condition:"Condio",brand:"Marca",weight:"Peso",dimensions:"Dimenses",shippingCost:"Custo do Frete",freeShipping:"Frete Grtis",status:"Status",uploadImages:"Enviar Imagens",uploadProgress:"Enviando imagem {{id}}: {{progress}}%",loading:"Carregando...",loadingTimeout:"Demorando mais do que o esperado...",validation:{nameRequired:"Nome do produto  obrigatrio",descriptionRequired:"Descrio  obrigatria",priceRequired:"Preo  obrigatrio",priceInvalid:"Por favor, insira um preo vlido",stockRequired:"Estoque  obrigatrio",stockInvalid:"Por favor, insira uma quantidade vlida",categoryRequired:"Categoria  obrigatria",conditionRequired:"Condio  obrigatria",imageRequired:"Pelo menos uma imagem  obrigatria"},captureFromCamera:"Capturar da Cmera",selectPhotos:"Selecionar Foto(s)",youtubeUrlPlaceholder:"Cole a URL do YouTube aqui",addVideo:"Adicionar Vdeo",selectedMedia:"Mdia Selecionada",youtubeVideo:"Vdeo do YouTube",videoId:"ID do Vdeo",type:"Tipo",size:"Tamanho",pixels:"pixels",estimatedChunks:"Chunks Estimados"},editProduct:"Editar Produto",deleteProduct:"Excluir Produto",deleteConfirmation:"Tem certeza que deseja excluir este produto?",deleteSuccess:"Produto excludo com sucesso",deleteError:"Erro ao excluir produto",saveSuccess:"Produto salvo com sucesso",saveError:"Erro ao salvar produto",name:"Nome",category:"Categoria",condition:"Condio",images:"Imagens",addImages:"Adicionar Imagens",removeImage:"Remover Imagem",maxImages:"Mximo de 5 imagens permitidas",invalidImage:"Formato de imagem invlido",imageTooLarge:"Imagem muito grande",noProducts:"Nenhum produto encontrado",noFavorites:"Nenhum produto favorito ainda",noMyProducts:"Voc ainda no anunciou nenhum produto",search:"Buscar produtos...",sortOptions:{newest:"Mais recentes",oldest:"Mais antigos",priceAsc:"Preo: Menor para Maior",priceDesc:"Preo: Maior para Menor"},thumbnail:"Miniatura",highlightedImage:"Imagem Destacada",addToBasket:"Adicionar ao Carrinho",addToFavorites:"Adicionar aos Favoritos",currency:"R$",management:{newProduct:"Novo Produto",editProduct:"Editar Produto",myProducts:"Meus Produtos",productDetails:"Detalhes do Produto",basicInfo:"Informaes Bsicas",pricing:"Preos",inventory:"Estoque",images:"Imagens",description:"Descrio",specifications:"Especificaes",category:"Categoria",condition:"Condio",price:"Preo",stock:"Estoque",sku:"SKU",brand:"Marca",weight:"Peso",dimensions:"Dimenses",shipping:"Frete",freeShipping:"Frete Grtis",shippingCost:"Custo do Frete",status:"Status",active:"Ativo",inactive:"Inativo",draft:"Rascunho",validation:{nameRequired:"Nome do produto  obrigatrio",priceRequired:"Preo  obrigatrio",priceInvalid:"Por favor, insira um preo vlido",stockRequired:"Quantidade em estoque  obrigatria",stockInvalid:"Por favor, insira uma quantidade vlida",categoryRequired:"Categoria  obrigatria",conditionRequired:"Condio  obrigatria",descriptionRequired:"Descrio  obrigatria",imageRequired:"Pelo menos uma imagem  obrigatria"}},currentImages:"Imagens Atuais",uploadFile:"Enviar Arquivo",orDragAndDrop:"ou arraste e solte",imageTypes:"PNG, JPG, GIF at 10MB",imageAlt:"Imagem do produto {{number}}",selectCategory:"Selecione uma categoria",selectCondition:"Selecione uma condio",selectStatus:"Selecione um status",statusActive:"Ativo",statusInactive:"Inativo",statusDraft:"Rascunho",validation:{nameRequired:"Nome do produto  obrigatrio",descriptionRequired:"Descrio  obrigatria",priceRequired:"Preo  obrigatrio",priceInvalid:"Por favor, insira um preo vlido",stockRequired:"Estoque  obrigatrio",stockInvalid:"Por favor, insira uma quantidade vlida",categoryRequired:"Categoria  obrigatria",conditionRequired:"Condio  obrigatria",imageRequired:"Pelo menos uma imagem  obrigatria"},sellingProducts:"Produtos  Venda",addedToCart:"Produto adicionado ao carrinho com sucesso",addToCartError:"Falha ao adicionar produto ao carrinho",questionsAndAnswers:"Perguntas e Respostas",askQuestion:"Faa uma pergunta",questionPlaceholder:"Digite sua pergunta aqui...",submitQuestion:"Enviar Pergunta",submitAnswer:"Enviar Resposta",answer:"Resposta",answerPlaceholder:"Digite sua resposta aqui...",noQuestions:"Nenhuma pergunta ainda. Seja o primeiro a perguntar!",questionSubmitted:"Pergunta enviada com sucesso",answerSubmitted:"Resposta enviada com sucesso",errors:{fetchQuestionsFailed:"Falha ao buscar perguntas",submitQuestionFailed:"Falha ao enviar pergunta",submitAnswerFailed:"Falha ao enviar resposta",ownerEmailNotFound:"No foi possvel enviar a pergunta: Informaes do proprietrio do produto no encontradas",deleteQuestionFailed:"Falha ao excluir pergunta"},deleteQuestion:"Excluir Pergunta",deleteQuestionConfirmation:"Tem certeza que deseja excluir esta pergunta?",questionDeleted:"Pergunta excluda com sucesso",uploadingImages:"Enviando imagens",removeFromFavorites:"Remover dos Favoritos",favoriteRemoved:"Produto removido dos favoritos",favoriteRemoveError:"Falha ao remover produto dos favoritos"},RP={title:"Carrinho de Compras",empty:"Seu carrinho est vazio",continueShopping:"Continuar Comprando",checkout:"Finalizar Compra",remove:"Remover",update:"Atualizar",items:"itens",subtotal:"Subtotal",shippingAndTaxes:"Frete e impostos calculados no checkout",or:"ou",removeItem:"Remover item",updateQuantity:"Atualizar quantidade",quantity:"Quantidade",updateEstoque:"Atualizar quantidade",stock:"Estoque",cannotBeNegative:"A quantidade no pode ser negativa",insufficientStock:"Estoque insuficiente disponvel",updateFailed:"Falha ao atualizar quantidade"},AP={title:"Pedidos",orderHistory:"Histrico de Pedidos",orderDetails:"Detalhes do Pedido",orderNumber:"Nmero do Pedido",orderDate:"Data do Pedido",orderStatus:"Status",tracking:"Rastreamento",myPurchases:"Minhas Compras",noPurchases:"Nenhuma compra ainda",orderTotal:"Total",orderItems:"Itens",shippingAddress:"Endereo de Entrega",items:"Itens",total:"Total",fetchError:"Erro ao buscar compras",status:{pending:"Pendente",paid:"Pago",shipped:"Enviado",delivered:"Entregue",cancelled:"Cancelado"}},CP={title:"Perfil",editProfile:"Editar Perfil",displayName:"Nome de Exibio",email:"E-mail",phoneNumber:"Telefone",address:"Endereo",saveChanges:"Salvar Alteraes",changesSaved:"Alteraes salvas com sucesso",errorSaving:"Erro ao salvar alteraes",personalInfo:"Informaes Pessoais",addresses:"Endereos",paymentMethods:"Formas de Pagamento",orders:"Pedidos",settings:"Configuraes",changePassword:"Alterar Senha",management:{editProfile:"Editar Perfil",personalInfo:"Informaes Pessoais",contactInfo:"Informaes de Contato",addresses:"Endereos",paymentMethods:"Formas de Pagamento",preferences:"Preferncias",notifications:"Notificaes",security:"Segurana",validation:{nameRequired:"Nome  obrigatrio",emailRequired:"Email  obrigatrio",emailInvalid:"Por favor, insira um email vlido",phoneRequired:"Telefone  obrigatrio",phoneInvalid:"Por favor, insira um telefone vlido",addressRequired:"Endereo  obrigatrio",cityRequired:"Cidade  obrigatria",stateRequired:"Estado  obrigatrio",zipCodeRequired:"CEP  obrigatrio",zipCodeInvalid:"Por favor, insira um CEP vlido"}}},NP={productAdded:"Produto adicionado ao carrinho!",productOutOfStock:"Este produto est fora de estoque.",addToBasketError:"Falha ao adicionar produto ao carrinho.",favoritesComingSoon:"Funcionalidade de favoritos em breve!",loading:"Carregando...",error:"Erro",success:"Sucesso",info:"Informao"},IP={title:"Pedido Confirmado!",thankYou:"Obrigado por sua compra. Seu pedido foi recebido e est sendo processado.",nextSteps:"Prximos Passos",emailDetails:"Voc receber um email com os detalhes do seu pedido",preparingOrder:"Nossa equipe comear a preparar seu pedido",orderUpdates:"Voc receber atualizaes sobre o status do seu pedido",continueShopping:"Continuar Comprando",viewOrders:"Ver Meus Pedidos"},PP={title:"Bem-vindo ao TradeHub",subtitle:"Seu marketplace para comprar e vender",featuredProducts:"Produtos em Destaque",newArrivals:"Novidades",popularCategories:"Categorias Populares",browseAll:"Ver Todos os Produtos",sellNow:"Comear a Vender",searchPlaceholder:"Buscar produtos...",noProducts:"Nenhum produto disponvel no momento",viewMore:"Ver Mais",hero:{title:"Compre e Venda com Confiana",subtitle:"Junte-se  nossa comunidade de compradores e vendedores",cta:"Comear Agora"},features:{secure:"Transaes Seguras",secureDesc:"Processamento de pagamentos seguro",global:"Marketplace Global",globalDesc:"Conecte-se com compradores e vendedores do mundo todo",support:"Suporte 24/7",supportDesc:"Sempre aqui para ajudar voc"}},kP={title:"Meus Favoritos",empty:"Voc ainda no adicionou nenhum produto aos favoritos.",browseProducts:"Procurar Produtos"},DP={sellingProducts:"Productos  Venda",myProducts:"Meus Produtos",myFavorites:"Meus Favoritos",myPurchases:"Minhas Compras"},OP={common:EP,auth:xP,checkout:TP,products:SP,cart:RP,orders:AP,profile:CP,notifications:NP,orderConfirmation:IP,home:PP,favorites:kP,nav:DP};dn.use(eT).use(T2).init({resources:{en:{translation:wP},pt:{translation:OP}},fallbackLng:"en",interpolation:{escapeValue:!1}});const tT=typeof document<"u"?ke.useLayoutEffect:()=>{};function MP(n){const e=T.useRef(null);return tT(()=>{e.current=n},[n]),T.useCallback((...t)=>{const r=e.current;return r==null?void 0:r(...t)},[])}const Ys=n=>{var e;return(e=n==null?void 0:n.ownerDocument)!==null&&e!==void 0?e:document},ja=n=>n&&"window"in n&&n.window===n?n:Ys(n).defaultView||window;function jP(n){return n!==null&&typeof n=="object"&&"nodeType"in n&&typeof n.nodeType=="number"}function LP(n){return jP(n)&&n.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in n}let VP=!1;function Yy(){return VP}function nT(n,e){if(!Yy())return e&&n?n.contains(e):!1;if(!n||!e)return!1;let t=e;for(;t!==null;){if(t===n)return!0;t.tagName==="SLOT"&&t.assignedSlot?t=t.assignedSlot.parentNode:LP(t)?t=t.host:t=t.parentNode}return!1}const ey=(n=document)=>{var e;if(!Yy())return n.activeElement;let t=n.activeElement;for(;t&&"shadowRoot"in t&&(!((e=t.shadowRoot)===null||e===void 0)&&e.activeElement);)t=t.shadowRoot.activeElement;return t};function rT(n){return Yy()&&n.target.shadowRoot&&n.composedPath?n.composedPath()[0]:n.target}function UP(n){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(t=>n.test(t.brand)))||n.test(window.navigator.userAgent)}function FP(n){var e;return typeof window<"u"&&window.navigator!=null?n.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function iT(n){let e=null;return()=>(e==null&&(e=n()),e)}const $P=iT(function(){return FP(/^Mac/i)}),BP=iT(function(){return UP(/Android/i)});function sT(){let n=T.useRef(new Map),e=T.useCallback((a,o,u,d)=>{let f=d!=null&&d.once?(...h)=>{n.current.delete(u),u(...h)}:u;n.current.set(u,{type:o,eventTarget:a,fn:f,options:d}),a.addEventListener(o,f,d)},[]),t=T.useCallback((a,o,u,d)=>{var f;let h=((f=n.current.get(u))===null||f===void 0?void 0:f.fn)||u;a.removeEventListener(o,h,d),n.current.delete(u)},[]),r=T.useCallback(()=>{n.current.forEach((a,o)=>{t(a.eventTarget,a.type,o,a.options)})},[t]);return T.useEffect(()=>r,[r]),{addGlobalListener:e,removeGlobalListener:t,removeAllGlobalListeners:r}}function zP(n){return n.mozInputSource===0&&n.isTrusted?!0:BP()&&n.pointerType?n.type==="click"&&n.buttons===1:n.detail===0&&!n.pointerType}function aT(n){let e=n;return e.nativeEvent=n,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function qP(n,e){Object.defineProperty(n,"target",{value:e}),Object.defineProperty(n,"currentTarget",{value:e})}function oT(n){let e=T.useRef({isFocused:!1,observer:null});tT(()=>{const r=e.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let t=MP(r=>{n==null||n(r)});return T.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){e.current.isFocused=!0;let a=r.target,o=u=>{if(e.current.isFocused=!1,a.disabled){let d=aT(u);t(d)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};a.addEventListener("focusout",o,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&a.disabled){var u;(u=e.current.observer)===null||u===void 0||u.disconnect();let d=a===document.activeElement?null:document.activeElement;a.dispatchEvent(new FocusEvent("blur",{relatedTarget:d})),a.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:d}))}}),e.current.observer.observe(a,{attributes:!0,attributeFilter:["disabled"]})}},[t])}let HP=!1,$c=null,ty=new Set,lc=new Map,Ha=!1,ny=!1;const GP={Tab:!0,Escape:!0};function Xy(n,e){for(let t of ty)t(n,e)}function KP(n){return!(n.metaKey||!$P()&&n.altKey||n.ctrlKey||n.key==="Control"||n.key==="Shift"||n.key==="Meta")}function sh(n){Ha=!0,KP(n)&&($c="keyboard",Xy("keyboard",n))}function hl(n){$c="pointer",(n.type==="mousedown"||n.type==="pointerdown")&&(Ha=!0,Xy("pointer",n))}function lT(n){zP(n)&&(Ha=!0,$c="virtual")}function uT(n){n.target===window||n.target===document||HP||!n.isTrusted||(!Ha&&!ny&&($c="virtual",Xy("virtual",n)),Ha=!1,ny=!1)}function cT(){Ha=!1,ny=!0}function ry(n){if(typeof window>"u"||lc.get(ja(n)))return;const e=ja(n),t=Ys(n);let r=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){Ha=!0,r.apply(this,arguments)},t.addEventListener("keydown",sh,!0),t.addEventListener("keyup",sh,!0),t.addEventListener("click",lT,!0),e.addEventListener("focus",uT,!0),e.addEventListener("blur",cT,!1),typeof PointerEvent<"u"&&(t.addEventListener("pointerdown",hl,!0),t.addEventListener("pointermove",hl,!0),t.addEventListener("pointerup",hl,!0)),e.addEventListener("beforeunload",()=>{dT(n)},{once:!0}),lc.set(e,{focus:r})}const dT=(n,e)=>{const t=ja(n),r=Ys(n);e&&r.removeEventListener("DOMContentLoaded",e),lc.has(t)&&(t.HTMLElement.prototype.focus=lc.get(t).focus,r.removeEventListener("keydown",sh,!0),r.removeEventListener("keyup",sh,!0),r.removeEventListener("click",lT,!0),t.removeEventListener("focus",uT,!0),t.removeEventListener("blur",cT,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",hl,!0),r.removeEventListener("pointermove",hl,!0),r.removeEventListener("pointerup",hl,!0)),lc.delete(t))};function QP(n){const e=Ys(n);let t;return e.readyState!=="loading"?ry(n):(t=()=>{ry(n)},e.addEventListener("DOMContentLoaded",t)),()=>dT(n,t)}typeof document<"u"&&QP();function fT(){return $c!=="pointer"}const YP=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function XP(n,e,t){let r=Ys(t==null?void 0:t.target);const a=typeof window<"u"?ja(t==null?void 0:t.target).HTMLInputElement:HTMLInputElement,o=typeof window<"u"?ja(t==null?void 0:t.target).HTMLTextAreaElement:HTMLTextAreaElement,u=typeof window<"u"?ja(t==null?void 0:t.target).HTMLElement:HTMLElement,d=typeof window<"u"?ja(t==null?void 0:t.target).KeyboardEvent:KeyboardEvent;return n=n||r.activeElement instanceof a&&!YP.has(r.activeElement.type)||r.activeElement instanceof o||r.activeElement instanceof u&&r.activeElement.isContentEditable,!(n&&e==="keyboard"&&t instanceof d&&!GP[t.key])}function WP(n,e,t){ry(),T.useEffect(()=>{let r=(a,o)=>{XP(!!(t!=null&&t.isTextInput),a,o)&&n(fT())};return ty.add(r),()=>{ty.delete(r)}},e)}function ZP(n){let{isDisabled:e,onFocus:t,onBlur:r,onFocusChange:a}=n;const o=T.useCallback(f=>{if(f.target===f.currentTarget)return r&&r(f),a&&a(!1),!0},[r,a]),u=oT(o),d=T.useCallback(f=>{const h=Ys(f.target),p=h?ey(h):ey();f.target===f.currentTarget&&p===rT(f.nativeEvent)&&(t&&t(f),a&&a(!0),u(f))},[a,t,u]);return{focusProps:{onFocus:!e&&(t||a||r)?d:void 0,onBlur:!e&&(r||a)?o:void 0}}}function JP(n){let{isDisabled:e,onBlurWithin:t,onFocusWithin:r,onFocusWithinChange:a}=n,o=T.useRef({isFocusWithin:!1}),{addGlobalListener:u,removeAllGlobalListeners:d}=sT(),f=T.useCallback(v=>{v.currentTarget.contains(v.target)&&o.current.isFocusWithin&&!v.currentTarget.contains(v.relatedTarget)&&(o.current.isFocusWithin=!1,d(),t&&t(v),a&&a(!1))},[t,a,o,d]),h=oT(f),p=T.useCallback(v=>{if(!v.currentTarget.contains(v.target))return;const _=Ys(v.target),x=ey(_);if(!o.current.isFocusWithin&&x===rT(v.nativeEvent)){r&&r(v),a&&a(!0),o.current.isFocusWithin=!0,h(v);let w=v.currentTarget;u(_,"focus",A=>{if(o.current.isFocusWithin&&!nT(w,A.target)){let C=new _.defaultView.FocusEvent("blur",{relatedTarget:A.target});qP(C,w);let j=aT(C);f(j)}},{capture:!0})}},[r,a,h,u,f]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:p,onBlur:f}}}let iy=!1,Tg=0;function ek(){iy=!0,setTimeout(()=>{iy=!1},50)}function dE(n){n.pointerType==="touch"&&ek()}function tk(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",dE),Tg++,()=>{Tg--,!(Tg>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",dE)}}function hT(n){let{onHoverStart:e,onHoverChange:t,onHoverEnd:r,isDisabled:a}=n,[o,u]=T.useState(!1),d=T.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;T.useEffect(tk,[]);let{addGlobalListener:f,removeAllGlobalListeners:h}=sT(),{hoverProps:p,triggerHoverEnd:v}=T.useMemo(()=>{let _=(A,C)=>{if(d.pointerType=C,a||C==="touch"||d.isHovered||!A.currentTarget.contains(A.target))return;d.isHovered=!0;let j=A.currentTarget;d.target=j,f(Ys(A.target),"pointerover",U=>{d.isHovered&&d.target&&!nT(d.target,U.target)&&x(U,U.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:j,pointerType:C}),t&&t(!0),u(!0)},x=(A,C)=>{let j=d.target;d.pointerType="",d.target=null,!(C==="touch"||!d.isHovered||!j)&&(d.isHovered=!1,h(),r&&r({type:"hoverend",target:j,pointerType:C}),t&&t(!1),u(!1))},w={};return typeof PointerEvent<"u"&&(w.onPointerEnter=A=>{iy&&A.pointerType==="mouse"||_(A,A.pointerType)},w.onPointerLeave=A=>{!a&&A.currentTarget.contains(A.target)&&x(A,A.pointerType)}),{hoverProps:w,triggerHoverEnd:x}},[e,t,r,a,d,f,h]);return T.useEffect(()=>{a&&v({currentTarget:d.target},d.pointerType)},[a]),{hoverProps:p,isHovered:o}}function mT(n={}){let{autoFocus:e=!1,isTextInput:t,within:r}=n,a=T.useRef({isFocused:!1,isFocusVisible:e||fT()}),[o,u]=T.useState(!1),[d,f]=T.useState(()=>a.current.isFocused&&a.current.isFocusVisible),h=T.useCallback(()=>f(a.current.isFocused&&a.current.isFocusVisible),[]),p=T.useCallback(x=>{a.current.isFocused=x,u(x),h()},[h]);WP(x=>{a.current.isFocusVisible=x,h()},[],{isTextInput:t});let{focusProps:v}=ZP({isDisabled:r,onFocusChange:p}),{focusWithinProps:_}=JP({isDisabled:!r,onFocusWithinChange:p});return{isFocused:o,isFocusVisible:d,focusProps:r?_:v}}var nk=Object.defineProperty,rk=(n,e,t)=>e in n?nk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Sg=(n,e,t)=>(rk(n,typeof e!="symbol"?e+"":e,t),t);let ik=class{constructor(){Sg(this,"current",this.detect()),Sg(this,"handoffState","pending"),Sg(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},qa=new ik;function no(n){var e,t;return qa.isServer?null:n?"ownerDocument"in n?n.ownerDocument:"current"in n?(t=(e=n.current)==null?void 0:e.ownerDocument)!=null?t:document:null:document}function pT(n){typeof queueMicrotask=="function"?queueMicrotask(n):Promise.resolve().then(n).catch(e=>setTimeout(()=>{throw e}))}function mr(){let n=[],e={addEventListener(t,r,a,o){return t.addEventListener(r,a,o),e.add(()=>t.removeEventListener(r,a,o))},requestAnimationFrame(...t){let r=requestAnimationFrame(...t);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...t){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...t))},setTimeout(...t){let r=setTimeout(...t);return e.add(()=>clearTimeout(r))},microTask(...t){let r={current:!0};return pT(()=>{r.current&&t[0]()}),e.add(()=>{r.current=!1})},style(t,r,a){let o=t.style.getPropertyValue(r);return Object.assign(t.style,{[r]:a}),this.add(()=>{Object.assign(t.style,{[r]:o})})},group(t){let r=mr();return t(r),this.add(()=>r.dispose())},add(t){return n.includes(t)||n.push(t),()=>{let r=n.indexOf(t);if(r>=0)for(let a of n.splice(r,1))a()}},dispose(){for(let t of n.splice(0))t()}};return e}function Lh(){let[n]=T.useState(mr);return T.useEffect(()=>()=>n.dispose(),[n]),n}let Lt=(n,e)=>{qa.isServer?T.useEffect(n,e):T.useLayoutEffect(n,e)};function Bc(n){let e=T.useRef(n);return Lt(()=>{e.current=n},[n]),e}let Ye=function(n){let e=Bc(n);return ke.useCallback((...t)=>e.current(...t),[e])};function sk(n){let e=n.width/2,t=n.height/2;return{top:n.clientY-t,right:n.clientX+e,bottom:n.clientY+t,left:n.clientX-e}}function ak(n,e){return!(!n||!e||n.right<e.left||n.left>e.right||n.bottom<e.top||n.top>e.bottom)}function gT({disabled:n=!1}={}){let e=T.useRef(null),[t,r]=T.useState(!1),a=Lh(),o=Ye(()=>{e.current=null,r(!1),a.dispose()}),u=Ye(d=>{if(a.dispose(),e.current===null){e.current=d.currentTarget,r(!0);{let f=no(d.currentTarget);a.addEventListener(f,"pointerup",o,!1),a.addEventListener(f,"pointermove",h=>{if(e.current){let p=sk(h);r(ak(p,e.current.getBoundingClientRect()))}},!1),a.addEventListener(f,"pointercancel",o,!1)}}});return{pressed:t,pressProps:n?{}:{onPointerDown:u,onPointerUp:o,onClick:o}}}let ok=T.createContext(void 0);function yT(){return T.useContext(ok)}function fE(...n){return Array.from(new Set(n.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Hi(n,e,...t){if(n in e){let a=e[n];return typeof a=="function"?a(...t):a}let r=new Error(`Tried to handle "${n}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Hi),r}var Ec=(n=>(n[n.None=0]="None",n[n.RenderStrategy=1]="RenderStrategy",n[n.Static=2]="Static",n))(Ec||{}),lk=(n=>(n[n.Unmount=0]="Unmount",n[n.Hidden=1]="Hidden",n))(lk||{});function Cn(){let n=ck();return T.useCallback(e=>uk({mergeRefs:n,...e}),[n])}function uk({ourProps:n,theirProps:e,slot:t,defaultTag:r,features:a,visible:o=!0,name:u,mergeRefs:d}){d=d??dk;let f=vT(e,n);if(o)return Pf(f,t,r,u,d);let h=a??0;if(h&2){let{static:p=!1,...v}=f;if(p)return Pf(v,t,r,u,d)}if(h&1){let{unmount:p=!0,...v}=f;return Hi(p?0:1,{0(){return null},1(){return Pf({...v,hidden:!0,style:{display:"none"}},t,r,u,d)}})}return Pf(f,t,r,u,d)}function Pf(n,e={},t,r,a){let{as:o=t,children:u,refName:d="ref",...f}=Rg(n,["unmount","static"]),h=n.ref!==void 0?{[d]:n.ref}:{},p=typeof u=="function"?u(e):u;"className"in f&&f.className&&typeof f.className=="function"&&(f.className=f.className(e)),f["aria-labelledby"]&&f["aria-labelledby"]===f.id&&(f["aria-labelledby"]=void 0);let v={};if(e){let _=!1,x=[];for(let[w,A]of Object.entries(e))typeof A=="boolean"&&(_=!0),A===!0&&x.push(w.replace(/([A-Z])/g,C=>`-${C.toLowerCase()}`));if(_){v["data-headlessui-state"]=x.join(" ");for(let w of x)v[`data-${w}`]=""}}if(o===T.Fragment&&(Object.keys(nl(f)).length>0||Object.keys(nl(v)).length>0))if(!T.isValidElement(p)||Array.isArray(p)&&p.length>1){if(Object.keys(nl(f)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(nl(f)).concat(Object.keys(nl(v))).map(_=>`  - ${_}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(_=>`  - ${_}`).join(`
`)].join(`
`))}else{let _=p.props,x=_==null?void 0:_.className,w=typeof x=="function"?(...j)=>fE(x(...j),f.className):fE(x,f.className),A=w?{className:w}:{},C=vT(p.props,nl(Rg(f,["ref"])));for(let j in v)j in C&&delete v[j];return T.cloneElement(p,Object.assign({},C,v,h,{ref:a(fk(p),h.ref)},A))}return T.createElement(o,Object.assign({},Rg(f,["ref"]),o!==T.Fragment&&h,o!==T.Fragment&&v),p)}function ck(){let n=T.useRef([]),e=T.useCallback(t=>{for(let r of n.current)r!=null&&(typeof r=="function"?r(t):r.current=t)},[]);return(...t)=>{if(!t.every(r=>r==null))return n.current=t,e}}function dk(...n){return n.every(e=>e==null)?void 0:e=>{for(let t of n)t!=null&&(typeof t=="function"?t(e):t.current=e)}}function vT(...n){if(n.length===0)return{};if(n.length===1)return n[0];let e={},t={};for(let r of n)for(let a in r)a.startsWith("on")&&typeof r[a]=="function"?(t[a]!=null||(t[a]=[]),t[a].push(r[a])):e[a]=r[a];if(e.disabled||e["aria-disabled"])for(let r in t)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(t[r]=[a=>{var o;return(o=a==null?void 0:a.preventDefault)==null?void 0:o.call(a)}]);for(let r in t)Object.assign(e,{[r](a,...o){let u=t[r];for(let d of u){if((a instanceof Event||(a==null?void 0:a.nativeEvent)instanceof Event)&&a.defaultPrevented)return;d(a,...o)}}});return e}function ah(...n){if(n.length===0)return{};if(n.length===1)return n[0];let e={},t={};for(let r of n)for(let a in r)a.startsWith("on")&&typeof r[a]=="function"?(t[a]!=null||(t[a]=[]),t[a].push(r[a])):e[a]=r[a];for(let r in t)Object.assign(e,{[r](...a){let o=t[r];for(let u of o)u==null||u(...a)}});return e}function Nn(n){var e;return Object.assign(T.forwardRef(n),{displayName:(e=n.displayName)!=null?e:n.name})}function nl(n){let e=Object.assign({},n);for(let t in e)e[t]===void 0&&delete e[t];return e}function Rg(n,e=[]){let t=Object.assign({},n);for(let r of e)r in t&&delete t[r];return t}function fk(n){return ke.version.split(".")[0]>="19"?n.props.ref:n.ref}let hk=T.createContext(void 0);function mk(){return T.useContext(hk)}function Wy(n){return typeof n!="object"||n===null?!1:"nodeType"in n}function Vh(n){return Wy(n)&&"tagName"in n}function Gi(n){return Vh(n)&&"accessKey"in n}function Mi(n){return Vh(n)&&"tabIndex"in n}function pk(n){return Vh(n)&&"style"in n}function gk(n){return Gi(n)&&n.nodeName==="IFRAME"}function bT(n){return Gi(n)&&n.nodeName==="INPUT"}function hE(n){return Gi(n)&&n.nodeName==="LABEL"}function yk(n){return Gi(n)&&n.nodeName==="FIELDSET"}function _T(n){return Gi(n)&&n.nodeName==="LEGEND"}function vk(n){return Vh(n)?n.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function wT(n){let e=n.parentElement,t=null;for(;e&&!yk(e);)_T(e)&&(t=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&bk(t)?!1:r}function bk(n){if(!n)return!1;let e=n.previousElementSibling;for(;e!==null;){if(_T(e))return!1;e=e.previousElementSibling}return!0}let ET=Symbol();function xT(n,e=!0){return Object.assign(n,{[ET]:e})}function pr(...n){let e=T.useRef(n);T.useEffect(()=>{e.current=n},[n]);let t=Ye(r=>{for(let a of e.current)a!=null&&(typeof a=="function"?a(r):a.current=r)});return n.every(r=>r==null||(r==null?void 0:r[ET]))?void 0:t}let Zy=T.createContext(null);Zy.displayName="DescriptionContext";function TT(){let n=T.useContext(Zy);if(n===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,TT),e}return n}function _k(){let[n,e]=T.useState([]);return[n.length>0?n.join(" "):void 0,T.useMemo(()=>function(t){let r=Ye(o=>(e(u=>[...u,o]),()=>e(u=>{let d=u.slice(),f=d.indexOf(o);return f!==-1&&d.splice(f,1),d}))),a=T.useMemo(()=>({register:r,slot:t.slot,name:t.name,props:t.props,value:t.value}),[r,t.slot,t.name,t.props,t.value]);return ke.createElement(Zy.Provider,{value:a},t.children)},[e])]}let wk="p";function Ek(n,e){let t=T.useId(),r=yT(),{id:a=`headlessui-description-${t}`,...o}=n,u=TT(),d=pr(e);Lt(()=>u.register(a),[a,u.register]);let f=r||!1,h=T.useMemo(()=>({...u.slot,disabled:f}),[u.slot,f]),p={ref:d,...u.props,id:a};return Cn()({ourProps:p,theirProps:o,slot:h,defaultTag:wk,name:u.name||"Description"})}let xk=Nn(Ek);Object.assign(xk,{});var xt=(n=>(n.Space=" ",n.Enter="Enter",n.Escape="Escape",n.Backspace="Backspace",n.Delete="Delete",n.ArrowLeft="ArrowLeft",n.ArrowUp="ArrowUp",n.ArrowRight="ArrowRight",n.ArrowDown="ArrowDown",n.Home="Home",n.End="End",n.PageUp="PageUp",n.PageDown="PageDown",n.Tab="Tab",n))(xt||{});let Uh=T.createContext(null);Uh.displayName="LabelContext";function Jy(){let n=T.useContext(Uh);if(n===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,Jy),e}return n}function Tk(n){var e,t,r;let a=(t=(e=T.useContext(Uh))==null?void 0:e.value)!=null?t:void 0;return((r=void 0)!=null?r:0)>0?[a,...n].filter(Boolean).join(" "):a}function ST({inherit:n=!1}={}){let e=Tk(),[t,r]=T.useState([]),a=n?[e,...t].filter(Boolean):t;return[a.length>0?a.join(" "):void 0,T.useMemo(()=>function(o){let u=Ye(f=>(r(h=>[...h,f]),()=>r(h=>{let p=h.slice(),v=p.indexOf(f);return v!==-1&&p.splice(v,1),p}))),d=T.useMemo(()=>({register:u,slot:o.slot,name:o.name,props:o.props,value:o.value}),[u,o.slot,o.name,o.props,o.value]);return ke.createElement(Uh.Provider,{value:d},o.children)},[r])]}let Sk="label";function Rk(n,e){var t;let r=T.useId(),a=Jy(),o=mk(),u=yT(),{id:d=`headlessui-label-${r}`,htmlFor:f=o??((t=a.props)==null?void 0:t.htmlFor),passive:h=!1,...p}=n,v=pr(e);Lt(()=>a.register(d),[d,a.register]);let _=Ye(C=>{let j=C.currentTarget;if(!(C.target!==C.currentTarget&&vk(C.target))&&(hE(j)&&C.preventDefault(),a.props&&"onClick"in a.props&&typeof a.props.onClick=="function"&&a.props.onClick(C),hE(j))){let U=document.getElementById(j.htmlFor);if(U){let F=U.getAttribute("disabled");if(F==="true"||F==="")return;let Y=U.getAttribute("aria-disabled");if(Y==="true"||Y==="")return;(bT(U)&&(U.type==="file"||U.type==="radio"||U.type==="checkbox")||U.role==="radio"||U.role==="checkbox"||U.role==="switch")&&U.click(),U.focus({preventScroll:!0})}}}),x=u||!1,w=T.useMemo(()=>({...a.slot,disabled:x}),[a.slot,x]),A={ref:v,...a.props,id:d,htmlFor:f,onClick:_};return h&&("onClick"in A&&(delete A.htmlFor,delete A.onClick),"onClick"in p&&delete p.onClick),Cn()({ourProps:A,theirProps:p,slot:w,defaultTag:f?Sk:"div",name:a.name||"Label"})}let Ak=Nn(Rk);Object.assign(Ak,{});let Ck=T.createContext(()=>{});function Nk({value:n,children:e}){return ke.createElement(Ck.Provider,{value:n},e)}function Ik(n){if(n===null)return{width:0,height:0};let{width:e,height:t}=n.getBoundingClientRect();return{width:e,height:t}}function Pk(n,e=!1){let[t,r]=T.useReducer(()=>({}),{}),a=T.useMemo(()=>Ik(n),[n,t]);return Lt(()=>{if(!n)return;let o=new ResizeObserver(r);return o.observe(n),()=>{o.disconnect()}},[n]),e?{width:`${a.width}px`,height:`${a.height}px`}:a}let RT=class extends Map{constructor(e){super(),this.factory=e}get(e){let t=super.get(e);return t===void 0&&(t=this.factory(e),this.set(e,t)),t}};var kk=Object.defineProperty,Dk=(n,e,t)=>e in n?kk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ok=(n,e,t)=>(Dk(n,e+"",t),t),AT=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},or=(n,e,t)=>(AT(n,e,"read from private field"),t?t.call(n):e.get(n)),Ag=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},mE=(n,e,t,r)=>(AT(n,e,"write to private field"),e.set(n,t),t),Qr,ec,tc;let CT=class{constructor(e){Ag(this,Qr,{}),Ag(this,ec,new RT(()=>new Set)),Ag(this,tc,new Set),Ok(this,"disposables",mr()),mE(this,Qr,e)}dispose(){this.disposables.dispose()}get state(){return or(this,Qr)}subscribe(e,t){let r={selector:e,callback:t,current:e(or(this,Qr))};return or(this,tc).add(r),this.disposables.add(()=>{or(this,tc).delete(r)})}on(e,t){return or(this,ec).get(e).add(t),this.disposables.add(()=>{or(this,ec).get(e).delete(t)})}send(e){let t=this.reduce(or(this,Qr),e);if(t!==or(this,Qr)){mE(this,Qr,t);for(let r of or(this,tc)){let a=r.selector(or(this,Qr));NT(r.current,a)||(r.current=a,r.callback(a))}for(let r of or(this,ec).get(e.type))r(or(this,Qr),e)}}};Qr=new WeakMap,ec=new WeakMap,tc=new WeakMap;function NT(n,e){return Object.is(n,e)?!0:typeof n!="object"||n===null||typeof e!="object"||e===null?!1:Array.isArray(n)&&Array.isArray(e)?n.length!==e.length?!1:Cg(n[Symbol.iterator](),e[Symbol.iterator]()):n instanceof Map&&e instanceof Map||n instanceof Set&&e instanceof Set?n.size!==e.size?!1:Cg(n.entries(),e.entries()):pE(n)&&pE(e)?Cg(Object.entries(n)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function Cg(n,e){do{let t=n.next(),r=e.next();if(t.done&&r.done)return!0;if(t.done||r.done||!Object.is(t.value,r.value))return!1}while(!0)}function pE(n){if(Object.prototype.toString.call(n)!=="[object Object]")return!1;let e=Object.getPrototypeOf(n);return e===null||Object.getPrototypeOf(e)===null}function gE(n){let[e,t]=n(),r=mr();return(...a)=>{e(...a),r.dispose(),r.microTask(t)}}var Mk=Object.defineProperty,jk=(n,e,t)=>e in n?Mk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,yE=(n,e,t)=>(jk(n,typeof e!="symbol"?e+"":e,t),t),IT=(n=>(n[n.Push=0]="Push",n[n.Pop=1]="Pop",n))(IT||{});let Lk={0(n,e){let t=e.id,r=n.stack,a=n.stack.indexOf(t);if(a!==-1){let o=n.stack.slice();return o.splice(a,1),o.push(t),r=o,{...n,stack:r}}return{...n,stack:[...n.stack,t]}},1(n,e){let t=e.id,r=n.stack.indexOf(t);if(r===-1)return n;let a=n.stack.slice();return a.splice(r,1),{...n,stack:a}}},Vk=class PT extends CT{constructor(){super(...arguments),yE(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),yE(this,"selectors",{isTop:(e,t)=>e.stack[e.stack.length-1]===t,inStack:(e,t)=>e.stack.includes(t)})}static new(){return new PT({stack:[]})}reduce(e,t){return Hi(t.type,Lk,e,t)}};const ev=new RT(()=>Vk.new());var Ng={exports:{}},Ig={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function Uk(){if(vE)return Ig;vE=1;var n=Dh();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var t=typeof Object.is=="function"?Object.is:e,r=n.useSyncExternalStore,a=n.useRef,o=n.useEffect,u=n.useMemo,d=n.useDebugValue;return Ig.useSyncExternalStoreWithSelector=function(f,h,p,v,_){var x=a(null);if(x.current===null){var w={hasValue:!1,value:null};x.current=w}else w=x.current;x=u(function(){function C(X){if(!j){if(j=!0,U=X,X=v(X),_!==void 0&&w.hasValue){var de=w.value;if(_(de,X))return F=de}return F=X}if(de=F,t(U,X))return de;var M=v(X);return _!==void 0&&_(de,M)?(U=X,de):(U=X,F=M)}var j=!1,U,F,Y=p===void 0?null:p;return[function(){return C(h())},Y===null?void 0:function(){return C(Y())}]},[h,p,v,_]);var A=r(f,x[0],x[1]);return o(function(){w.hasValue=!0,w.value=A},[A]),d(A),A},Ig}var bE;function Fk(){return bE||(bE=1,Ng.exports=Uk()),Ng.exports}var $k=Fk();function Zr(n,e,t=NT){return $k.useSyncExternalStoreWithSelector(Ye(r=>n.subscribe(Bk,r)),Ye(()=>n.state),Ye(()=>n.state),Ye(e),t)}function Bk(n){return n}function kT(n,e){let t=T.useId(),r=ev.get(e),[a,o]=Zr(r,T.useCallback(u=>[r.selectors.isTop(u,t),r.selectors.inStack(u,t)],[r,t]));return Lt(()=>{if(n)return r.actions.push(t),()=>r.actions.pop(t)},[r,n,t]),n?o?a:!0:!1}let sy=new Map,uc=new Map;function _E(n){var e;let t=(e=uc.get(n))!=null?e:0;return uc.set(n,t+1),t!==0?()=>wE(n):(sy.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0,()=>wE(n))}function wE(n){var e;let t=(e=uc.get(n))!=null?e:1;if(t===1?uc.delete(n):uc.set(n,t-1),t!==1)return;let r=sy.get(n);r&&(r["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",r["aria-hidden"]),n.inert=r.inert,sy.delete(n))}function zk(n,{allowed:e,disallowed:t}={}){let r=kT(n,"inert-others");Lt(()=>{var a,o;if(!r)return;let u=mr();for(let f of(a=t==null?void 0:t())!=null?a:[])f&&u.add(_E(f));let d=(o=e==null?void 0:e())!=null?o:[];for(let f of d){if(!f)continue;let h=no(f);if(!h)continue;let p=f.parentElement;for(;p&&p!==h.body;){for(let v of p.children)d.some(_=>v.contains(_))||u.add(_E(v));p=p.parentElement}}return u.dispose},[r,e,t])}function qk(n,e,t){let r=Bc(a=>{let o=a.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&t()});T.useEffect(()=>{if(!n)return;let a=e===null?null:Gi(e)?e:e.current;if(!a)return;let o=mr();if(typeof ResizeObserver<"u"){let u=new ResizeObserver(()=>r.current(a));u.observe(a),o.add(()=>u.disconnect())}if(typeof IntersectionObserver<"u"){let u=new IntersectionObserver(()=>r.current(a));u.observe(a),o.add(()=>u.disconnect())}return()=>o.dispose()},[e,r,n])}let ay=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(n=>`${n}:not([tabindex='-1'])`).join(","),Hk=["[data-autofocus]"].map(n=>`${n}:not([tabindex='-1'])`).join(",");var oy=(n=>(n[n.First=1]="First",n[n.Previous=2]="Previous",n[n.Next=4]="Next",n[n.Last=8]="Last",n[n.WrapAround=16]="WrapAround",n[n.NoScroll=32]="NoScroll",n[n.AutoFocus=64]="AutoFocus",n))(oy||{}),Gk=(n=>(n[n.Error=0]="Error",n[n.Overflow=1]="Overflow",n[n.Success=2]="Success",n[n.Underflow=3]="Underflow",n))(Gk||{}),Kk=(n=>(n[n.Previous=-1]="Previous",n[n.Next=1]="Next",n))(Kk||{});function DT(n=document.body){return n==null?[]:Array.from(n.querySelectorAll(ay)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}function Qk(n=document.body){return n==null?[]:Array.from(n.querySelectorAll(Hk)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var tv=(n=>(n[n.Strict=0]="Strict",n[n.Loose=1]="Loose",n))(tv||{});function nv(n,e=0){var t;return n===((t=no(n))==null?void 0:t.body)?!1:Hi(e,{0(){return n.matches(ay)},1(){let r=n;for(;r!==null;){if(r.matches(ay))return!0;r=r.parentElement}return!1}})}function OT(n){let e=no(n);mr().nextFrame(()=>{e&&Mi(e.activeElement)&&!nv(e.activeElement,0)&&Xk(n)})}var Yk=(n=>(n[n.Keyboard=0]="Keyboard",n[n.Mouse=1]="Mouse",n))(Yk||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",n=>{n.metaKey||n.altKey||n.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",n=>{n.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:n.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Xk(n){n==null||n.focus({preventScroll:!0})}let Wk=["textarea","input"].join(",");function Zk(n){var e,t;return(t=(e=n==null?void 0:n.matches)==null?void 0:e.call(n,Wk))!=null?t:!1}function MT(n,e=t=>t){return n.slice().sort((t,r)=>{let a=e(t),o=e(r);if(a===null||o===null)return 0;let u=a.compareDocumentPosition(o);return u&Node.DOCUMENT_POSITION_FOLLOWING?-1:u&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Jk(n,e){return eD(DT(),e,{relativeTo:n})}function eD(n,e,{sorted:t=!0,relativeTo:r=null,skipElements:a=[]}={}){let o=Array.isArray(n)?n.length>0?n[0].ownerDocument:document:n.ownerDocument,u=Array.isArray(n)?t?MT(n):n:e&64?Qk(n):DT(n);a.length>0&&u.length>1&&(u=u.filter(x=>!a.some(w=>w!=null&&"current"in w?(w==null?void 0:w.current)===x:w===x))),r=r??o.activeElement;let d=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,u.indexOf(r))-1;if(e&4)return Math.max(0,u.indexOf(r))+1;if(e&8)return u.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),h=e&32?{preventScroll:!0}:{},p=0,v=u.length,_;do{if(p>=v||p+v<=0)return 0;let x=f+p;if(e&16)x=(x+v)%v;else{if(x<0)return 3;if(x>=v)return 1}_=u[x],_==null||_.focus(h),p+=d}while(_!==o.activeElement);return e&6&&Zk(_)&&_.select(),2}function jT(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function tD(){return/Android/gi.test(window.navigator.userAgent)}function EE(){return jT()||tD()}function ll(n,e,t,r){let a=Bc(t);T.useEffect(()=>{if(!n)return;function o(u){a.current(u)}return document.addEventListener(e,o,r),()=>document.removeEventListener(e,o,r)},[n,e,r])}function nD(n,e,t,r){let a=Bc(t);T.useEffect(()=>{if(!n)return;function o(u){a.current(u)}return window.addEventListener(e,o,r),()=>window.removeEventListener(e,o,r)},[n,e,r])}const xE=30;function rD(n,e,t){let r=Bc(t),a=T.useCallback(function(d,f){if(d.defaultPrevented)return;let h=f(d);if(h===null||!h.getRootNode().contains(h)||!h.isConnected)return;let p=function v(_){return typeof _=="function"?v(_()):Array.isArray(_)||_ instanceof Set?_:[_]}(e);for(let v of p)if(v!==null&&(v.contains(h)||d.composed&&d.composedPath().includes(v)))return;return!nv(h,tv.Loose)&&h.tabIndex!==-1&&d.preventDefault(),r.current(d,h)},[r,e]),o=T.useRef(null);ll(n,"pointerdown",d=>{var f,h;EE()||(o.current=((h=(f=d.composedPath)==null?void 0:f.call(d))==null?void 0:h[0])||d.target)},!0),ll(n,"pointerup",d=>{if(EE()||!o.current)return;let f=o.current;return o.current=null,a(d,()=>f)},!0);let u=T.useRef({x:0,y:0});ll(n,"touchstart",d=>{u.current.x=d.touches[0].clientX,u.current.y=d.touches[0].clientY},!0),ll(n,"touchend",d=>{let f={x:d.changedTouches[0].clientX,y:d.changedTouches[0].clientY};if(!(Math.abs(f.x-u.current.x)>=xE||Math.abs(f.y-u.current.y)>=xE))return a(d,()=>Mi(d.target)?d.target:null)},!0),nD(n,"blur",d=>a(d,()=>gk(window.document.activeElement)?window.document.activeElement:null),!0)}function ly(...n){return T.useMemo(()=>no(...n),[...n])}var iD=(n=>(n[n.Ignore=0]="Ignore",n[n.Select=1]="Select",n[n.Close=2]="Close",n))(iD||{});const kf={Ignore:{kind:0},Select:n=>({kind:1,target:n}),Close:{kind:2}},sD=200;function aD(n,{trigger:e,action:t,close:r,select:a}){let o=T.useRef(null);ll(n&&e!==null,"pointerdown",u=>{Wy(u==null?void 0:u.target)&&e!=null&&e.contains(u.target)&&(o.current=new Date)}),ll(n&&e!==null,"pointerup",u=>{if(o.current===null||!Mi(u.target))return;let d=t(u),f=new Date().getTime()-o.current.getTime();switch(o.current=null,d.kind){case 0:return;case 1:{f>sD&&(a(d.target),r());break}case 2:{r();break}}},{capture:!0})}function LT(n,e){return T.useMemo(()=>{var t;if(n.type)return n.type;let r=(t=n.as)!=null?t:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[n.type,n.as,e])}function oD(n){return T.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getSnapshot)}function lD(n,e){let t=n(),r=new Set;return{getSnapshot(){return t},subscribe(a){return r.add(a),()=>r.delete(a)},dispatch(a,...o){let u=e[a].call(t,...o);u&&(t=u,r.forEach(d=>d()))}}}function uD(){let n;return{before({doc:e}){var t;let r=e.documentElement,a=(t=e.defaultView)!=null?t:window;n=Math.max(0,a.innerWidth-r.clientWidth)},after({doc:e,d:t}){let r=e.documentElement,a=Math.max(0,r.clientWidth-r.offsetWidth),o=Math.max(0,n-a);t.style(r,"paddingRight",`${o}px`)}}}function cD(){return jT()?{before({doc:n,d:e,meta:t}){function r(a){return t.containers.flatMap(o=>o()).some(o=>o.contains(a))}e.microTask(()=>{var a;if(window.getComputedStyle(n.documentElement).scrollBehavior!=="auto"){let d=mr();d.style(n.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>d.dispose()))}let o=(a=window.scrollY)!=null?a:window.pageYOffset,u=null;e.addEventListener(n,"click",d=>{if(Mi(d.target))try{let f=d.target.closest("a");if(!f)return;let{hash:h}=new URL(f.href),p=n.querySelector(h);Mi(p)&&!r(p)&&(u=p)}catch{}},!0),e.addEventListener(n,"touchstart",d=>{if(Mi(d.target)&&pk(d.target))if(r(d.target)){let f=d.target;for(;f.parentElement&&r(f.parentElement);)f=f.parentElement;e.style(f,"overscrollBehavior","contain")}else e.style(d.target,"touchAction","none")}),e.addEventListener(n,"touchmove",d=>{if(Mi(d.target)){if(bT(d.target))return;if(r(d.target)){let f=d.target;for(;f.parentElement&&f.dataset.headlessuiPortal!==""&&!(f.scrollHeight>f.clientHeight||f.scrollWidth>f.clientWidth);)f=f.parentElement;f.dataset.headlessuiPortal===""&&d.preventDefault()}else d.preventDefault()}},{passive:!1}),e.add(()=>{var d;let f=(d=window.scrollY)!=null?d:window.pageYOffset;o!==f&&window.scrollTo(0,o),u&&u.isConnected&&(u.scrollIntoView({block:"nearest"}),u=null)})})}}:{}}function dD(){return{before({doc:n,d:e}){e.style(n.documentElement,"overflow","hidden")}}}function fD(n){let e={};for(let t of n)Object.assign(e,t(e));return e}let La=lD(()=>new Map,{PUSH(n,e){var t;let r=(t=this.get(n))!=null?t:{doc:n,count:0,d:mr(),meta:new Set};return r.count++,r.meta.add(e),this.set(n,r),this},POP(n,e){let t=this.get(n);return t&&(t.count--,t.meta.delete(e)),this},SCROLL_PREVENT({doc:n,d:e,meta:t}){let r={doc:n,d:e,meta:fD(t)},a=[cD(),uD(),dD()];a.forEach(({before:o})=>o==null?void 0:o(r)),a.forEach(({after:o})=>o==null?void 0:o(r))},SCROLL_ALLOW({d:n}){n.dispose()},TEARDOWN({doc:n}){this.delete(n)}});La.subscribe(()=>{let n=La.getSnapshot(),e=new Map;for(let[t]of n)e.set(t,t.documentElement.style.overflow);for(let t of n.values()){let r=e.get(t.doc)==="hidden",a=t.count!==0;(a&&!r||!a&&r)&&La.dispatch(t.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",t),t.count===0&&La.dispatch("TEARDOWN",t)}});function hD(n,e,t=()=>({containers:[]})){let r=oD(La),a=e?r.get(e):void 0,o=a?a.count>0:!1;return Lt(()=>{if(!(!e||!n))return La.dispatch("PUSH",e,t),()=>La.dispatch("POP",e,t)},[n,e]),o}function mD(n,e,t=()=>[document.body]){let r=kT(n,"scroll-lock");hD(r,e,a=>{var o;return{containers:[...(o=a.containers)!=null?o:[],t]}})}function TE(n){return[n.screenX,n.screenY]}function pD(){let n=T.useRef([-1,-1]);return{wasMoved(e){let t=TE(e);return n.current[0]===t[0]&&n.current[1]===t[1]?!1:(n.current=t,!0)},update(e){n.current=TE(e)}}}function gD(n=0){let[e,t]=T.useState(n),r=T.useCallback(f=>t(f),[e]),a=T.useCallback(f=>t(h=>h|f),[e]),o=T.useCallback(f=>(e&f)===f,[e]),u=T.useCallback(f=>t(h=>h&~f),[t]),d=T.useCallback(f=>t(h=>h^f),[t]);return{flags:e,setFlag:r,addFlag:a,hasFlag:o,removeFlag:u,toggleFlag:d}}var yD={},SE,RE;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((SE=process==null?void 0:yD)==null?void 0:SE.NODE_ENV)==="test"&&typeof((RE=Element==null?void 0:Element.prototype)==null?void 0:RE.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var vD=(n=>(n[n.None=0]="None",n[n.Closed=1]="Closed",n[n.Enter=2]="Enter",n[n.Leave=4]="Leave",n))(vD||{});function VT(n){let e={};for(let t in n)n[t]===!0&&(e[`data-${t}`]="");return e}function UT(n,e,t,r){let[a,o]=T.useState(t),{hasFlag:u,addFlag:d,removeFlag:f}=gD(n&&a?3:0),h=T.useRef(!1),p=T.useRef(!1),v=Lh();return Lt(()=>{var _;if(n){if(t&&o(!0),!e){t&&d(3);return}return(_=void 0)==null||_.call(r,t),bD(e,{inFlight:h,prepare(){p.current?p.current=!1:p.current=h.current,h.current=!0,!p.current&&(t?(d(3),f(4)):(d(4),f(2)))},run(){p.current?t?(f(3),d(4)):(f(4),d(3)):t?f(1):d(1)},done(){var x;p.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(h.current=!1,f(7),t||o(!1),(x=void 0)==null||x.call(r,t))}})}},[n,t,e,v]),n?[a,{closed:u(1),enter:u(2),leave:u(4),transition:u(2)||u(4)}]:[t,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function bD(n,{prepare:e,run:t,done:r,inFlight:a}){let o=mr();return wD(n,{prepare:e,inFlight:a}),o.nextFrame(()=>{t(),o.requestAnimationFrame(()=>{o.add(_D(n,r))})}),o.dispose}function _D(n,e){var t,r;let a=mr();if(!n)return a.dispose;let o=!1;a.add(()=>{o=!0});let u=(r=(t=n.getAnimations)==null?void 0:t.call(n).filter(d=>d instanceof CSSTransition))!=null?r:[];return u.length===0?(e(),a.dispose):(Promise.allSettled(u.map(d=>d.finished)).then(()=>{o||e()}),a.dispose)}function wD(n,{inFlight:e,prepare:t}){if(e!=null&&e.current){t();return}let r=n.style.transition;n.style.transition="none",t(),n.offsetHeight,n.style.transition=r}function ED(n,{container:e,accept:t,walk:r}){let a=T.useRef(t),o=T.useRef(r);T.useEffect(()=>{a.current=t,o.current=r},[t,r]),Lt(()=>{if(!e||!n)return;let u=no(e);if(!u)return;let d=a.current,f=o.current,h=Object.assign(v=>d(v),{acceptNode:d}),p=u.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,h,!1);for(;p.nextNode();)f(p.currentNode)},[e,n,a,o])}function Fh(){return typeof window<"u"}function kl(n){return FT(n)?(n.nodeName||"").toLowerCase():"#document"}function qn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function ai(n){var e;return(e=(FT(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function FT(n){return Fh()?n instanceof Node||n instanceof qn(n).Node:!1}function Rn(n){return Fh()?n instanceof Element||n instanceof qn(n).Element:!1}function ri(n){return Fh()?n instanceof HTMLElement||n instanceof qn(n).HTMLElement:!1}function AE(n){return!Fh()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof qn(n).ShadowRoot}function zc(n){const{overflow:e,overflowX:t,overflowY:r,display:a}=Ar(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(a)}function xD(n){return["table","td","th"].includes(kl(n))}function $h(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function rv(n){const e=iv(),t=Rn(n)?Ar(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function TD(n){let e=Fs(n);for(;ri(e)&&!_l(e);){if(rv(e))return e;if($h(e))return null;e=Fs(e)}return null}function iv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function _l(n){return["html","body","#document"].includes(kl(n))}function Ar(n){return qn(n).getComputedStyle(n)}function Bh(n){return Rn(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Fs(n){if(kl(n)==="html")return n;const e=n.assignedSlot||n.parentNode||AE(n)&&n.host||ai(n);return AE(e)?e.host:e}function $T(n){const e=Fs(n);return _l(e)?n.ownerDocument?n.ownerDocument.body:n.body:ri(e)&&zc(e)?e:$T(e)}function xc(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=$T(n),o=a===((r=n.ownerDocument)==null?void 0:r.body),u=qn(a);if(o){const d=uy(u);return e.concat(u,u.visualViewport||[],zc(a)?a:[],d&&t?xc(d):[])}return e.concat(a,xc(a,[],t))}function uy(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function SD(){const n=navigator.userAgentData;return n&&Array.isArray(n.brands)?n.brands.map(e=>{let{brand:t,version:r}=e;return t+"/"+r}).join(" "):navigator.userAgent}const Ga=Math.min,vn=Math.max,Tc=Math.round,Df=Math.floor,Jr=n=>({x:n,y:n}),RD={left:"right",right:"left",bottom:"top",top:"bottom"},AD={start:"end",end:"start"};function CE(n,e,t){return vn(n,Ga(e,t))}function Dl(n,e){return typeof n=="function"?n(e):n}function $s(n){return n.split("-")[0]}function qc(n){return n.split("-")[1]}function BT(n){return n==="x"?"y":"x"}function zT(n){return n==="y"?"height":"width"}function ks(n){return["top","bottom"].includes($s(n))?"y":"x"}function qT(n){return BT(ks(n))}function CD(n,e,t){t===void 0&&(t=!1);const r=qc(n),a=qT(n),o=zT(a);let u=a==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(u=oh(u)),[u,oh(u)]}function ND(n){const e=oh(n);return[cy(n),e,cy(e)]}function cy(n){return n.replace(/start|end/g,e=>AD[e])}function ID(n,e,t){const r=["left","right"],a=["right","left"],o=["top","bottom"],u=["bottom","top"];switch(n){case"top":case"bottom":return t?e?a:r:e?r:a;case"left":case"right":return e?o:u;default:return[]}}function PD(n,e,t,r){const a=qc(n);let o=ID($s(n),t==="start",r);return a&&(o=o.map(u=>u+"-"+a),e&&(o=o.concat(o.map(cy)))),o}function oh(n){return n.replace(/left|right|bottom|top/g,e=>RD[e])}function kD(n){return{top:0,right:0,bottom:0,left:0,...n}}function DD(n){return typeof n!="number"?kD(n):{top:n,right:n,bottom:n,left:n}}function lh(n){const{x:e,y:t,width:r,height:a}=n;return{width:r,height:a,top:t,left:e,right:e+r,bottom:t+a,x:e,y:t}}function NE(n,e,t){let{reference:r,floating:a}=n;const o=ks(e),u=qT(e),d=zT(u),f=$s(e),h=o==="y",p=r.x+r.width/2-a.width/2,v=r.y+r.height/2-a.height/2,_=r[d]/2-a[d]/2;let x;switch(f){case"top":x={x:p,y:r.y-a.height};break;case"bottom":x={x:p,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:v};break;case"left":x={x:r.x-a.width,y:v};break;default:x={x:r.x,y:r.y}}switch(qc(e)){case"start":x[u]-=_*(t&&h?-1:1);break;case"end":x[u]+=_*(t&&h?-1:1);break}return x}const OD=async(n,e,t)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:u}=t,d=o.filter(Boolean),f=await(u.isRTL==null?void 0:u.isRTL(e));let h=await u.getElementRects({reference:n,floating:e,strategy:a}),{x:p,y:v}=NE(h,r,f),_=r,x={},w=0;for(let A=0;A<d.length;A++){const{name:C,fn:j}=d[A],{x:U,y:F,data:Y,reset:X}=await j({x:p,y:v,initialPlacement:r,placement:_,strategy:a,middlewareData:x,rects:h,platform:u,elements:{reference:n,floating:e}});p=U??p,v=F??v,x={...x,[C]:{...x[C],...Y}},X&&w<=50&&(w++,typeof X=="object"&&(X.placement&&(_=X.placement),X.rects&&(h=X.rects===!0?await u.getElementRects({reference:n,floating:e,strategy:a}):X.rects),{x:p,y:v}=NE(h,_,f)),A=-1)}return{x:p,y:v,placement:_,strategy:a,middlewareData:x}};async function zh(n,e){var t;e===void 0&&(e={});const{x:r,y:a,platform:o,rects:u,elements:d,strategy:f}=n,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:v="floating",altBoundary:_=!1,padding:x=0}=Dl(e,n),w=DD(x),C=d[_?v==="floating"?"reference":"floating":v],j=lh(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(C)))==null||t?C:C.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:h,rootBoundary:p,strategy:f})),U=v==="floating"?{x:r,y:a,width:u.floating.width,height:u.floating.height}:u.reference,F=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating)),Y=await(o.isElement==null?void 0:o.isElement(F))?await(o.getScale==null?void 0:o.getScale(F))||{x:1,y:1}:{x:1,y:1},X=lh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:U,offsetParent:F,strategy:f}):U);return{top:(j.top-X.top+w.top)/Y.y,bottom:(X.bottom-j.bottom+w.bottom)/Y.y,left:(j.left-X.left+w.left)/Y.x,right:(X.right-j.right+w.right)/Y.x}}const MD=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:a,middlewareData:o,rects:u,initialPlacement:d,platform:f,elements:h}=e,{mainAxis:p=!0,crossAxis:v=!0,fallbackPlacements:_,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:A=!0,...C}=Dl(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const j=$s(a),U=ks(d),F=$s(d)===d,Y=await(f.isRTL==null?void 0:f.isRTL(h.floating)),X=_||(F||!A?[oh(d)]:ND(d)),de=w!=="none";!_&&de&&X.push(...PD(d,A,w,Y));const M=[d,...X],I=await zh(e,C),P=[];let D=((r=o.flip)==null?void 0:r.overflows)||[];if(p&&P.push(I[j]),v){const we=CD(a,u,Y);P.push(I[we[0]],I[we[1]])}if(D=[...D,{placement:a,overflows:P}],!P.every(we=>we<=0)){var L,q;const we=(((L=o.flip)==null?void 0:L.index)||0)+1,W=M[we];if(W){var V;const me=v==="alignment"?U!==ks(W):!1,ee=((V=D[0])==null?void 0:V.overflows[0])>0;if(!me||ee)return{data:{index:we,overflows:D},reset:{placement:W}}}let oe=(q=D.filter(me=>me.overflows[0]<=0).sort((me,ee)=>me.overflows[1]-ee.overflows[1])[0])==null?void 0:q.placement;if(!oe)switch(x){case"bestFit":{var be;const me=(be=D.filter(ee=>{if(de){const N=ks(ee.placement);return N===U||N==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(N=>N>0).reduce((N,$)=>N+$,0)]).sort((ee,N)=>ee[1]-N[1])[0])==null?void 0:be[0];me&&(oe=me);break}case"initialPlacement":oe=d;break}if(a!==oe)return{reset:{placement:oe}}}return{}}}};async function jD(n,e){const{placement:t,platform:r,elements:a}=n,o=await(r.isRTL==null?void 0:r.isRTL(a.floating)),u=$s(t),d=qc(t),f=ks(t)==="y",h=["left","top"].includes(u)?-1:1,p=o&&f?-1:1,v=Dl(e,n);let{mainAxis:_,crossAxis:x,alignmentAxis:w}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return d&&typeof w=="number"&&(x=d==="end"?w*-1:w),f?{x:x*p,y:_*h}:{x:_*h,y:x*p}}const LD=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:a,y:o,placement:u,middlewareData:d}=e,f=await jD(e,n);return u===((t=d.offset)==null?void 0:t.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:a+f.x,y:o+f.y,data:{...f,placement:u}}}}},VD=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:a}=e,{mainAxis:o=!0,crossAxis:u=!1,limiter:d={fn:C=>{let{x:j,y:U}=C;return{x:j,y:U}}},...f}=Dl(n,e),h={x:t,y:r},p=await zh(e,f),v=ks($s(a)),_=BT(v);let x=h[_],w=h[v];if(o){const C=_==="y"?"top":"left",j=_==="y"?"bottom":"right",U=x+p[C],F=x-p[j];x=CE(U,x,F)}if(u){const C=v==="y"?"top":"left",j=v==="y"?"bottom":"right",U=w+p[C],F=w-p[j];w=CE(U,w,F)}const A=d.fn({...e,[_]:x,[v]:w});return{...A,data:{x:A.x-t,y:A.y-r,enabled:{[_]:o,[v]:u}}}}}},UD=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:a,rects:o,platform:u,elements:d}=e,{apply:f=()=>{},...h}=Dl(n,e),p=await zh(e,h),v=$s(a),_=qc(a),x=ks(a)==="y",{width:w,height:A}=o.floating;let C,j;v==="top"||v==="bottom"?(C=v,j=_===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(j=v,C=_==="end"?"top":"bottom");const U=A-p.top-p.bottom,F=w-p.left-p.right,Y=Ga(A-p[C],U),X=Ga(w-p[j],F),de=!e.middlewareData.shift;let M=Y,I=X;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(I=F),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(M=U),de&&!_){const D=vn(p.left,0),L=vn(p.right,0),q=vn(p.top,0),V=vn(p.bottom,0);x?I=w-2*(D!==0||L!==0?D+L:vn(p.left,p.right)):M=A-2*(q!==0||V!==0?q+V:vn(p.top,p.bottom))}await f({...e,availableWidth:I,availableHeight:M});const P=await u.getDimensions(d.floating);return w!==P.width||A!==P.height?{reset:{rects:!0}}:{}}}};function HT(n){const e=Ar(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const a=ri(n),o=a?n.offsetWidth:t,u=a?n.offsetHeight:r,d=Tc(t)!==o||Tc(r)!==u;return d&&(t=o,r=u),{width:t,height:r,$:d}}function sv(n){return Rn(n)?n:n.contextElement}function ml(n){const e=sv(n);if(!ri(e))return Jr(1);const t=e.getBoundingClientRect(),{width:r,height:a,$:o}=HT(e);let u=(o?Tc(t.width):t.width)/r,d=(o?Tc(t.height):t.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const FD=Jr(0);function GT(n){const e=qn(n);return!iv()||!e.visualViewport?FD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function $D(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==qn(n)?!1:e}function Ka(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const a=n.getBoundingClientRect(),o=sv(n);let u=Jr(1);e&&(r?Rn(r)&&(u=ml(r)):u=ml(n));const d=$D(o,t,r)?GT(o):Jr(0);let f=(a.left+d.x)/u.x,h=(a.top+d.y)/u.y,p=a.width/u.x,v=a.height/u.y;if(o){const _=qn(o),x=r&&Rn(r)?qn(r):r;let w=_,A=uy(w);for(;A&&r&&x!==w;){const C=ml(A),j=A.getBoundingClientRect(),U=Ar(A),F=j.left+(A.clientLeft+parseFloat(U.paddingLeft))*C.x,Y=j.top+(A.clientTop+parseFloat(U.paddingTop))*C.y;f*=C.x,h*=C.y,p*=C.x,v*=C.y,f+=F,h+=Y,w=qn(A),A=uy(w)}}return lh({width:p,height:v,x:f,y:h})}function av(n,e){const t=Bh(n).scrollLeft;return e?e.left+t:Ka(ai(n)).left+t}function KT(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),a=r.left+e.scrollLeft-(t?0:av(n,r)),o=r.top+e.scrollTop;return{x:a,y:o}}function BD(n){let{elements:e,rect:t,offsetParent:r,strategy:a}=n;const o=a==="fixed",u=ai(r),d=e?$h(e.floating):!1;if(r===u||d&&o)return t;let f={scrollLeft:0,scrollTop:0},h=Jr(1);const p=Jr(0),v=ri(r);if((v||!v&&!o)&&((kl(r)!=="body"||zc(u))&&(f=Bh(r)),ri(r))){const x=Ka(r);h=ml(r),p.x=x.x+r.clientLeft,p.y=x.y+r.clientTop}const _=u&&!v&&!o?KT(u,f,!0):Jr(0);return{width:t.width*h.x,height:t.height*h.y,x:t.x*h.x-f.scrollLeft*h.x+p.x+_.x,y:t.y*h.y-f.scrollTop*h.y+p.y+_.y}}function zD(n){return Array.from(n.getClientRects())}function qD(n){const e=ai(n),t=Bh(n),r=n.ownerDocument.body,a=vn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=vn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let u=-t.scrollLeft+av(n);const d=-t.scrollTop;return Ar(r).direction==="rtl"&&(u+=vn(e.clientWidth,r.clientWidth)-a),{width:a,height:o,x:u,y:d}}function HD(n,e){const t=qn(n),r=ai(n),a=t.visualViewport;let o=r.clientWidth,u=r.clientHeight,d=0,f=0;if(a){o=a.width,u=a.height;const h=iv();(!h||h&&e==="fixed")&&(d=a.offsetLeft,f=a.offsetTop)}return{width:o,height:u,x:d,y:f}}function GD(n,e){const t=Ka(n,!0,e==="fixed"),r=t.top+n.clientTop,a=t.left+n.clientLeft,o=ri(n)?ml(n):Jr(1),u=n.clientWidth*o.x,d=n.clientHeight*o.y,f=a*o.x,h=r*o.y;return{width:u,height:d,x:f,y:h}}function IE(n,e,t){let r;if(e==="viewport")r=HD(n,t);else if(e==="document")r=qD(ai(n));else if(Rn(e))r=GD(e,t);else{const a=GT(n);r={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return lh(r)}function QT(n,e){const t=Fs(n);return t===e||!Rn(t)||_l(t)?!1:Ar(t).position==="fixed"||QT(t,e)}function KD(n,e){const t=e.get(n);if(t)return t;let r=xc(n,[],!1).filter(d=>Rn(d)&&kl(d)!=="body"),a=null;const o=Ar(n).position==="fixed";let u=o?Fs(n):n;for(;Rn(u)&&!_l(u);){const d=Ar(u),f=rv(u);!f&&d.position==="fixed"&&(a=null),(o?!f&&!a:!f&&d.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||zc(u)&&!f&&QT(n,u))?r=r.filter(p=>p!==u):a=d,u=Fs(u)}return e.set(n,r),r}function QD(n){let{element:e,boundary:t,rootBoundary:r,strategy:a}=n;const u=[...t==="clippingAncestors"?$h(e)?[]:KD(e,this._c):[].concat(t),r],d=u[0],f=u.reduce((h,p)=>{const v=IE(e,p,a);return h.top=vn(v.top,h.top),h.right=Ga(v.right,h.right),h.bottom=Ga(v.bottom,h.bottom),h.left=vn(v.left,h.left),h},IE(e,d,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function YD(n){const{width:e,height:t}=HT(n);return{width:e,height:t}}function XD(n,e,t){const r=ri(e),a=ai(e),o=t==="fixed",u=Ka(n,!0,o,e);let d={scrollLeft:0,scrollTop:0};const f=Jr(0);function h(){f.x=av(a)}if(r||!r&&!o)if((kl(e)!=="body"||zc(a))&&(d=Bh(e)),r){const x=Ka(e,!0,o,e);f.x=x.x+e.clientLeft,f.y=x.y+e.clientTop}else a&&h();o&&!r&&a&&h();const p=a&&!r&&!o?KT(a,d):Jr(0),v=u.left+d.scrollLeft-f.x-p.x,_=u.top+d.scrollTop-f.y-p.y;return{x:v,y:_,width:u.width,height:u.height}}function Pg(n){return Ar(n).position==="static"}function PE(n,e){if(!ri(n)||Ar(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return ai(n)===t&&(t=t.ownerDocument.body),t}function YT(n,e){const t=qn(n);if($h(n))return t;if(!ri(n)){let a=Fs(n);for(;a&&!_l(a);){if(Rn(a)&&!Pg(a))return a;a=Fs(a)}return t}let r=PE(n,e);for(;r&&xD(r)&&Pg(r);)r=PE(r,e);return r&&_l(r)&&Pg(r)&&!rv(r)?t:r||TD(n)||t}const WD=async function(n){const e=this.getOffsetParent||YT,t=this.getDimensions,r=await t(n.floating);return{reference:XD(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ZD(n){return Ar(n).direction==="rtl"}const JD={convertOffsetParentRelativeRectToViewportRelativeRect:BD,getDocumentElement:ai,getClippingRect:QD,getOffsetParent:YT,getElementRects:WD,getClientRects:zD,getDimensions:YD,getScale:ml,isElement:Rn,isRTL:ZD};function XT(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function eO(n,e){let t=null,r;const a=ai(n);function o(){var d;clearTimeout(r),(d=t)==null||d.disconnect(),t=null}function u(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),o();const h=n.getBoundingClientRect(),{left:p,top:v,width:_,height:x}=h;if(d||e(),!_||!x)return;const w=Df(v),A=Df(a.clientWidth-(p+_)),C=Df(a.clientHeight-(v+x)),j=Df(p),F={rootMargin:-w+"px "+-A+"px "+-C+"px "+-j+"px",threshold:vn(0,Ga(1,f))||1};let Y=!0;function X(de){const M=de[0].intersectionRatio;if(M!==f){if(!Y)return u();M?u(!1,M):r=setTimeout(()=>{u(!1,1e-7)},1e3)}M===1&&!XT(h,n.getBoundingClientRect())&&u(),Y=!1}try{t=new IntersectionObserver(X,{...F,root:a.ownerDocument})}catch{t=new IntersectionObserver(X,F)}t.observe(n)}return u(!0),o}function tO(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,h=sv(n),p=a||o?[...h?xc(h):[],...xc(e)]:[];p.forEach(j=>{a&&j.addEventListener("scroll",t,{passive:!0}),o&&j.addEventListener("resize",t)});const v=h&&d?eO(h,t):null;let _=-1,x=null;u&&(x=new ResizeObserver(j=>{let[U]=j;U&&U.target===h&&x&&(x.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var F;(F=x)==null||F.observe(e)})),t()}),h&&!f&&x.observe(h),x.observe(e));let w,A=f?Ka(n):null;f&&C();function C(){const j=Ka(n);A&&!XT(A,j)&&t(),A=j,w=requestAnimationFrame(C)}return t(),()=>{var j;p.forEach(U=>{a&&U.removeEventListener("scroll",t),o&&U.removeEventListener("resize",t)}),v==null||v(),(j=x)==null||j.disconnect(),x=null,f&&cancelAnimationFrame(w)}}const kg=zh,nO=LD,rO=VD,iO=MD,sO=UD,aO=(n,e,t)=>{const r=new Map,a={platform:JD,...t},o={...a.platform,_c:r};return OD(n,e,{...a,platform:o})};var qf=typeof document<"u"?T.useLayoutEffect:T.useEffect;function uh(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,a;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!uh(n[r],e[r]))return!1;return!0}if(a=Object.keys(n),t=a.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,a[r]))return!1;for(r=t;r--!==0;){const o=a[r];if(!(o==="_owner"&&n.$$typeof)&&!uh(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function WT(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function kE(n,e){const t=WT(n);return Math.round(e*t)/t}function Dg(n){const e=T.useRef(n);return qf(()=>{e.current=n}),e}function oO(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:a,elements:{reference:o,floating:u}={},transform:d=!0,whileElementsMounted:f,open:h}=n,[p,v]=T.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[_,x]=T.useState(r);uh(_,r)||x(r);const[w,A]=T.useState(null),[C,j]=T.useState(null),U=T.useCallback(me=>{me!==de.current&&(de.current=me,A(me))},[]),F=T.useCallback(me=>{me!==M.current&&(M.current=me,j(me))},[]),Y=o||w,X=u||C,de=T.useRef(null),M=T.useRef(null),I=T.useRef(p),P=f!=null,D=Dg(f),L=Dg(a),q=Dg(h),V=T.useCallback(()=>{if(!de.current||!M.current)return;const me={placement:e,strategy:t,middleware:_};L.current&&(me.platform=L.current),aO(de.current,M.current,me).then(ee=>{const N={...ee,isPositioned:q.current!==!1};be.current&&!uh(I.current,N)&&(I.current=N,Us.flushSync(()=>{v(N)}))})},[_,e,t,L,q]);qf(()=>{h===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,v(me=>({...me,isPositioned:!1})))},[h]);const be=T.useRef(!1);qf(()=>(be.current=!0,()=>{be.current=!1}),[]),qf(()=>{if(Y&&(de.current=Y),X&&(M.current=X),Y&&X){if(D.current)return D.current(Y,X,V);V()}},[Y,X,V,D,P]);const we=T.useMemo(()=>({reference:de,floating:M,setReference:U,setFloating:F}),[U,F]),W=T.useMemo(()=>({reference:Y,floating:X}),[Y,X]),oe=T.useMemo(()=>{const me={position:t,left:0,top:0};if(!W.floating)return me;const ee=kE(W.floating,p.x),N=kE(W.floating,p.y);return d?{...me,transform:"translate("+ee+"px, "+N+"px)",...WT(W.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ee,top:N}},[t,d,W.floating,p.x,p.y]);return T.useMemo(()=>({...p,update:V,refs:we,elements:W,floatingStyles:oe}),[p,V,we,W,oe])}const ZT=(n,e)=>({...nO(n),options:[n,e]}),lO=(n,e)=>({...rO(n),options:[n,e]}),uO=(n,e)=>({...iO(n),options:[n,e]}),cO=(n,e)=>({...sO(n),options:[n,e]}),JT={...Gg},dO=JT.useInsertionEffect,fO=dO||(n=>n());function eS(n){const e=T.useRef(()=>{});return fO(()=>{e.current=n}),T.useCallback(function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e.current==null?void 0:e.current(...r)},[])}var dy=typeof document<"u"?T.useLayoutEffect:T.useEffect;let DE=!1,hO=0;const OE=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+hO++;function mO(){const[n,e]=T.useState(()=>DE?OE():void 0);return dy(()=>{n==null&&e(OE())},[]),T.useEffect(()=>{DE=!0},[]),n}const pO=JT.useId,gO=pO||mO;function yO(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(a=>a(t))},on(e,t){n.set(e,[...n.get(e)||[],t])},off(e,t){var r;n.set(e,((r=n.get(e))==null?void 0:r.filter(a=>a!==t))||[])}}}const vO=T.createContext(null),bO=T.createContext(null),_O=()=>{var n;return((n=T.useContext(vO))==null?void 0:n.id)||null},wO=()=>T.useContext(bO),EO="data-floating-ui-focusable";function xO(n){const{open:e=!1,onOpenChange:t,elements:r}=n,a=gO(),o=T.useRef({}),[u]=T.useState(()=>yO()),d=_O()!=null,[f,h]=T.useState(r.reference),p=eS((x,w,A)=>{o.current.openEvent=x?w:void 0,u.emit("openchange",{open:x,event:w,reason:A,nested:d}),t==null||t(x,w,A)}),v=T.useMemo(()=>({setPositionReference:h}),[]),_=T.useMemo(()=>({reference:f||r.reference||null,floating:r.floating||null,domReference:r.reference}),[f,r.reference,r.floating]);return T.useMemo(()=>({dataRef:o,open:e,onOpenChange:p,elements:_,events:u,floatingId:a,refs:v}),[e,p,_,u,a,v])}function TO(n){n===void 0&&(n={});const{nodeId:e}=n,t=xO({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,a=r.elements,[o,u]=T.useState(null),[d,f]=T.useState(null),p=(a==null?void 0:a.domReference)||o,v=T.useRef(null),_=wO();dy(()=>{p&&(v.current=p)},[p]);const x=oO({...n,elements:{...a,...d&&{reference:d}}}),w=T.useCallback(F=>{const Y=Rn(F)?{getBoundingClientRect:()=>F.getBoundingClientRect(),contextElement:F}:F;f(Y),x.refs.setReference(Y)},[x.refs]),A=T.useCallback(F=>{(Rn(F)||F===null)&&(v.current=F,u(F)),(Rn(x.refs.reference.current)||x.refs.reference.current===null||F!==null&&!Rn(F))&&x.refs.setReference(F)},[x.refs]),C=T.useMemo(()=>({...x.refs,setReference:A,setPositionReference:w,domReference:v}),[x.refs,A,w]),j=T.useMemo(()=>({...x.elements,domReference:p}),[x.elements,p]),U=T.useMemo(()=>({...x,...r,refs:C,elements:j,nodeId:e}),[x,C,j,e,r]);return dy(()=>{r.dataRef.current.floatingContext=U;const F=_==null?void 0:_.nodesRef.current.find(Y=>Y.id===e);F&&(F.context=U)}),T.useMemo(()=>({...x,context:U,refs:C,elements:j}),[x,C,j,U])}const ME="active",jE="selected";function Og(n,e,t){const r=new Map,a=t==="item";let o=n;if(a&&n){const{[ME]:u,[jE]:d,...f}=n;o=f}return{...t==="floating"&&{tabIndex:-1,[EO]:""},...o,...e.map(u=>{const d=u?u[t]:null;return typeof d=="function"?n?d(n):null:d}).concat(n).reduce((u,d)=>(d&&Object.entries(d).forEach(f=>{let[h,p]=f;if(!(a&&[ME,jE].includes(h)))if(h.indexOf("on")===0){if(r.has(h)||r.set(h,[]),typeof p=="function"){var v;(v=r.get(h))==null||v.push(p),u[h]=function(){for(var _,x=arguments.length,w=new Array(x),A=0;A<x;A++)w[A]=arguments[A];return(_=r.get(h))==null?void 0:_.map(C=>C(...w)).find(C=>C!==void 0)}}}else u[h]=p}),u),{})}}function SO(n){n===void 0&&(n=[]);const e=n.map(d=>d==null?void 0:d.reference),t=n.map(d=>d==null?void 0:d.floating),r=n.map(d=>d==null?void 0:d.item),a=T.useCallback(d=>Og(d,n,"reference"),e),o=T.useCallback(d=>Og(d,n,"floating"),t),u=T.useCallback(d=>Og(d,n,"item"),r);return T.useMemo(()=>({getReferenceProps:a,getFloatingProps:o,getItemProps:u}),[a,o,u])}function LE(n,e){return{...n,rects:{...n.rects,floating:{...n.rects.floating,height:e}}}}const RO=n=>({name:"inner",options:n,async fn(e){const{listRef:t,overflowRef:r,onFallbackChange:a,offset:o=0,index:u=0,minItemsVisible:d=4,referenceOverflowThreshold:f=0,scrollRef:h,...p}=Dl(n,e),{rects:v,elements:{floating:_}}=e,x=t.current[u],w=(h==null?void 0:h.current)||_,A=_.clientTop||w.clientTop,C=_.clientTop!==0,j=w.clientTop!==0,U=_===w;if(!x)return{};const F={...e,...await ZT(-x.offsetTop-_.clientTop-v.reference.height/2-x.offsetHeight/2-o).fn(e)},Y=await kg(LE(F,w.scrollHeight+A+_.clientTop),p),X=await kg(F,{...p,elementContext:"reference"}),de=vn(0,Y.top),M=F.y+de,D=(w.scrollHeight>w.clientHeight?L=>L:Tc)(vn(0,w.scrollHeight+(C&&U||j?A*2:0)-de-vn(0,Y.bottom)));if(w.style.maxHeight=D+"px",w.scrollTop=de,a){const L=w.offsetHeight<x.offsetHeight*Ga(d,t.current.length)-1||X.top>=-f||X.bottom>=-f;Us.flushSync(()=>a(L))}return r&&(r.current=await kg(LE({...F,y:M},w.offsetHeight+A+_.clientTop),p)),{y:M}}});function AO(n,e){const{open:t,elements:r}=n,{enabled:a=!0,overflowRef:o,scrollRef:u,onChange:d}=e,f=eS(d),h=T.useRef(!1),p=T.useRef(null),v=T.useRef(null);T.useEffect(()=>{if(!a)return;function x(A){if(A.ctrlKey||!w||o.current==null)return;const C=A.deltaY,j=o.current.top>=-.5,U=o.current.bottom>=-.5,F=w.scrollHeight-w.clientHeight,Y=C<0?-1:1,X=C<0?"max":"min";w.scrollHeight<=w.clientHeight||(!j&&C>0||!U&&C<0?(A.preventDefault(),Us.flushSync(()=>{f(de=>de+Math[X](C,F*Y))})):/firefox/i.test(SD())&&(w.scrollTop+=C))}const w=(u==null?void 0:u.current)||r.floating;if(t&&w)return w.addEventListener("wheel",x),requestAnimationFrame(()=>{p.current=w.scrollTop,o.current!=null&&(v.current={...o.current})}),()=>{p.current=null,v.current=null,w.removeEventListener("wheel",x)}},[a,t,r.floating,o,u,f]);const _=T.useMemo(()=>({onKeyDown(){h.current=!0},onWheel(){h.current=!1},onPointerMove(){h.current=!1},onScroll(){const x=(u==null?void 0:u.current)||r.floating;if(!(!o.current||!x||!h.current)){if(p.current!==null){const w=x.scrollTop-p.current;(o.current.bottom<-.5&&w<-1||o.current.top<-.5&&w>1)&&Us.flushSync(()=>f(A=>A+w))}requestAnimationFrame(()=>{p.current=x.scrollTop})}}}),[r.floating,f,o,u]);return T.useMemo(()=>a?{floating:_}:{},[a,_])}let Ol=T.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Ol.displayName="FloatingContext";let ov=T.createContext(null);ov.displayName="PlacementContext";function CO(n){return T.useMemo(()=>n?typeof n=="string"?{to:n}:n:null,[n])}function NO(){return T.useContext(Ol).setReference}function IO(){return T.useContext(Ol).getReferenceProps}function PO(){let{getFloatingProps:n,slot:e}=T.useContext(Ol);return T.useCallback((...t)=>Object.assign({},n(...t),{"data-anchor":e.anchor}),[n,e])}function kO(n=null){n===!1&&(n=null),typeof n=="string"&&(n={to:n});let e=T.useContext(ov),t=T.useMemo(()=>n,[JSON.stringify(n,(a,o)=>{var u;return(u=o==null?void 0:o.outerHTML)!=null?u:o})]);Lt(()=>{e==null||e(t??null)},[e,t]);let r=T.useContext(Ol);return T.useMemo(()=>[r.setFloating,n?r.styles:{}],[r.setFloating,n,r.styles])}let VE=4;function DO({children:n,enabled:e=!0}){let[t,r]=T.useState(null),[a,o]=T.useState(0),u=T.useRef(null),[d,f]=T.useState(null);OO(d);let h=e&&t!==null&&d!==null,{to:p="bottom",gap:v=0,offset:_=0,padding:x=0,inner:w}=MO(t,d),[A,C="center"]=p.split(" ");Lt(()=>{h&&o(0)},[h]);let{refs:j,floatingStyles:U,context:F}=TO({open:h,placement:A==="selection"?C==="center"?"bottom":`bottom-${C}`:C==="center"?`${A}`:`${A}-${C}`,strategy:"absolute",transform:!1,middleware:[ZT({mainAxis:A==="selection"?0:v,crossAxis:_}),lO({padding:x}),A!=="selection"&&uO({padding:x}),A==="selection"&&w?RO({...w,padding:x,overflowRef:u,offset:a,minItemsVisible:VE,referenceOverflowThreshold:x,onFallbackChange(L){var q,V;if(!L)return;let be=F.elements.floating;if(!be)return;let we=parseFloat(getComputedStyle(be).scrollPaddingBottom)||0,W=Math.min(VE,be.childElementCount),oe=0,me=0;for(let ee of(V=(q=F.elements.floating)==null?void 0:q.childNodes)!=null?V:[])if(Gi(ee)){let N=ee.offsetTop,$=N+ee.clientHeight+we,B=be.scrollTop,K=B+be.clientHeight;if(N>=B&&$<=K)W--;else{me=Math.max(0,Math.min($,K)-Math.max(N,B)),oe=ee.clientHeight;break}}W>=1&&o(ee=>{let N=oe*W-me+we;return ee>=N?ee:N})}}):null,cO({padding:x,apply({availableWidth:L,availableHeight:q,elements:V}){Object.assign(V.floating.style,{overflow:"auto",maxWidth:`${L}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${q}px)`})}})].filter(Boolean),whileElementsMounted:tO}),[Y=A,X=C]=F.placement.split("-");A==="selection"&&(Y="selection");let de=T.useMemo(()=>({anchor:[Y,X].filter(Boolean).join(" ")}),[Y,X]),M=AO(F,{overflowRef:u,onChange:o}),{getReferenceProps:I,getFloatingProps:P}=SO([M]),D=Ye(L=>{f(L),j.setFloating(L)});return T.createElement(ov.Provider,{value:r},T.createElement(Ol.Provider,{value:{setFloating:D,setReference:j.setReference,styles:U,getReferenceProps:I,getFloatingProps:P,slot:de}},n))}function OO(n){Lt(()=>{if(!n)return;let e=new MutationObserver(()=>{let t=window.getComputedStyle(n).maxHeight,r=parseFloat(t);if(isNaN(r))return;let a=parseInt(t);isNaN(a)||r!==a&&(n.style.maxHeight=`${Math.ceil(r)}px`)});return e.observe(n,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[n])}function MO(n,e){var t,r,a;let o=Mg((t=n==null?void 0:n.gap)!=null?t:"var(--anchor-gap, 0)",e),u=Mg((r=n==null?void 0:n.offset)!=null?r:"var(--anchor-offset, 0)",e),d=Mg((a=n==null?void 0:n.padding)!=null?a:"var(--anchor-padding, 0)",e);return{...n,gap:o,offset:u,padding:d}}function Mg(n,e,t=void 0){let r=Lh(),a=Ye((f,h)=>{if(f==null)return[t,null];if(typeof f=="number")return[f,null];if(typeof f=="string"){if(!h)return[t,null];let p=UE(f,h);return[p,v=>{let _=tS(f);{let x=_.map(w=>window.getComputedStyle(h).getPropertyValue(w));r.requestAnimationFrame(function w(){r.nextFrame(w);let A=!1;for(let[j,U]of _.entries()){let F=window.getComputedStyle(h).getPropertyValue(U);if(x[j]!==F){x[j]=F,A=!0;break}}if(!A)return;let C=UE(f,h);p!==C&&(v(C),p=C)})}return r.dispose}]}return[t,null]}),o=T.useMemo(()=>a(n,e)[0],[n,e]),[u=o,d]=T.useState();return Lt(()=>{let[f,h]=a(n,e);if(d(f),!!h)return h(d)},[n,e]),u}function tS(n){let e=/var\((.*)\)/.exec(n);if(e){let t=e[1].indexOf(",");if(t===-1)return[e[1]];let r=e[1].slice(0,t).trim(),a=e[1].slice(t+1).trim();return a?[r,...tS(a)]:[r]}return[]}function UE(n,e){let t=document.createElement("div");e.appendChild(t),t.style.setProperty("margin-top","0px","important"),t.style.setProperty("margin-top",n,"important");let r=parseFloat(window.getComputedStyle(t).marginTop)||0;return e.removeChild(t),r}let qh=T.createContext(null);qh.displayName="OpenClosedContext";var Fi=(n=>(n[n.Open=1]="Open",n[n.Closed=2]="Closed",n[n.Closing=4]="Closing",n[n.Opening=8]="Opening",n))(Fi||{});function nS(){return T.useContext(qh)}function rS({value:n,children:e}){return ke.createElement(qh.Provider,{value:n},e)}function jO({children:n}){return ke.createElement(qh.Provider,{value:null},n)}function LO(n){throw new Error("Unexpected object: "+n)}var Ct=(n=>(n[n.First=0]="First",n[n.Previous=1]="Previous",n[n.Next=2]="Next",n[n.Last=3]="Last",n[n.Specific=4]="Specific",n[n.Nothing=5]="Nothing",n))(Ct||{});function Of(n,e){let t=e.resolveItems();if(t.length<=0)return null;let r=e.resolveActiveIndex(),a=r??-1;switch(n.focus){case 0:{for(let o=0;o<t.length;++o)if(!e.resolveDisabled(t[o],o,t))return o;return r}case 1:{a===-1&&(a=t.length);for(let o=a-1;o>=0;--o)if(!e.resolveDisabled(t[o],o,t))return o;return r}case 2:{for(let o=a+1;o<t.length;++o)if(!e.resolveDisabled(t[o],o,t))return o;return r}case 3:{for(let o=t.length-1;o>=0;--o)if(!e.resolveDisabled(t[o],o,t))return o;return r}case 4:{for(let o=0;o<t.length;++o)if(e.resolveId(t[o],o,t)===n.id)return o;return r}case 5:return null;default:LO(n)}}function iS(n){let e=Ye(n),t=T.useRef(!1);T.useEffect(()=>(t.current=!1,()=>{t.current=!0,pT(()=>{t.current&&e()})}),[e])}function VO(){let n=typeof document>"u";return"useSyncExternalStore"in Gg?(e=>e.useSyncExternalStore)(Gg)(()=>()=>{},()=>!1,()=>!n):!1}function UO(){let n=VO(),[e,t]=T.useState(qa.isHandoffComplete);return e&&qa.isHandoffComplete===!1&&t(!1),T.useEffect(()=>{e!==!0&&t(!0)},[e]),T.useEffect(()=>qa.handoff(),[]),n?!1:e}let FO=T.createContext(!1);function $O(){return T.useContext(FO)}function BO(n){let e=$O(),t=T.useContext(aS),[r,a]=T.useState(()=>{var o;if(!e&&t!==null)return(o=t.current)!=null?o:null;if(qa.isServer)return null;let u=n==null?void 0:n.getElementById("headlessui-portal-root");if(u)return u;if(n===null)return null;let d=n.createElement("div");return d.setAttribute("id","headlessui-portal-root"),n.body.appendChild(d)});return T.useEffect(()=>{r!==null&&(n!=null&&n.body.contains(r)||n==null||n.body.appendChild(r))},[r,n]),T.useEffect(()=>{e||t!==null&&a(t.current)},[t,a,e]),r}let sS=T.Fragment,zO=Nn(function(n,e){let{ownerDocument:t=null,...r}=n,a=T.useRef(null),o=pr(xT(x=>{a.current=x}),e),u=ly(a),d=t??u,f=BO(d),[h]=T.useState(()=>{var x;return qa.isServer?null:(x=d==null?void 0:d.createElement("div"))!=null?x:null}),p=T.useContext(KO),v=UO();Lt(()=>{!f||!h||f.contains(h)||(h.setAttribute("data-headlessui-portal",""),f.appendChild(h))},[f,h]),Lt(()=>{if(h&&p)return p.register(h)},[p,h]),iS(()=>{var x;!f||!h||(Wy(h)&&f.contains(h)&&f.removeChild(h),f.childNodes.length<=0&&((x=f.parentElement)==null||x.removeChild(f)))});let _=Cn();return v?!f||!h?null:Us.createPortal(_({ourProps:{ref:o},theirProps:r,slot:{},defaultTag:sS,name:"Portal"}),h):null});function qO(n,e){let t=pr(e),{enabled:r=!0,ownerDocument:a,...o}=n,u=Cn();return r?ke.createElement(zO,{...o,ownerDocument:a,ref:t}):u({ourProps:{ref:t},theirProps:o,slot:{},defaultTag:sS,name:"Portal"})}let HO=T.Fragment,aS=T.createContext(null);function GO(n,e){let{target:t,...r}=n,a={ref:pr(e)},o=Cn();return ke.createElement(aS.Provider,{value:t},o({ourProps:a,theirProps:r,defaultTag:HO,name:"Popover.Group"}))}let KO=T.createContext(null),QO=Nn(qO),YO=Nn(GO),XO=Object.assign(QO,{Group:YO});var FE;let WO=(FE=ke.startTransition)!=null?FE:function(n){n()};var ZO=(n=>(n[n.Open=0]="Open",n[n.Closed=1]="Closed",n))(ZO||{}),JO=(n=>(n[n.ToggleDisclosure=0]="ToggleDisclosure",n[n.CloseDisclosure=1]="CloseDisclosure",n[n.SetButtonId=2]="SetButtonId",n[n.SetPanelId=3]="SetPanelId",n[n.SetButtonElement=4]="SetButtonElement",n[n.SetPanelElement=5]="SetPanelElement",n))(JO||{});let e4={0:n=>({...n,disclosureState:Hi(n.disclosureState,{0:1,1:0})}),1:n=>n.disclosureState===1?n:{...n,disclosureState:1},2(n,e){return n.buttonId===e.buttonId?n:{...n,buttonId:e.buttonId}},3(n,e){return n.panelId===e.panelId?n:{...n,panelId:e.panelId}},4(n,e){return n.buttonElement===e.element?n:{...n,buttonElement:e.element}},5(n,e){return n.panelElement===e.element?n:{...n,panelElement:e.element}}},lv=T.createContext(null);lv.displayName="DisclosureContext";function uv(n){let e=T.useContext(lv);if(e===null){let t=new Error(`<${n} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,uv),t}return e}let cv=T.createContext(null);cv.displayName="DisclosureAPIContext";function oS(n){let e=T.useContext(cv);if(e===null){let t=new Error(`<${n} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,oS),t}return e}let dv=T.createContext(null);dv.displayName="DisclosurePanelContext";function t4(){return T.useContext(dv)}function n4(n,e){return Hi(e.type,e4,n,e)}let r4=T.Fragment;function i4(n,e){let{defaultOpen:t=!1,...r}=n,a=T.useRef(null),o=pr(e,xT(A=>{a.current=A},n.as===void 0||n.as===T.Fragment)),u=T.useReducer(n4,{disclosureState:t?0:1,buttonElement:null,panelElement:null,buttonId:null,panelId:null}),[{disclosureState:d,buttonId:f},h]=u,p=Ye(A=>{h({type:1});let C=no(a);if(!C||!f)return;let j=A?Mi(A)?A:"current"in A&&Mi(A.current)?A.current:C.getElementById(f):C.getElementById(f);j==null||j.focus()}),v=T.useMemo(()=>({close:p}),[p]),_=T.useMemo(()=>({open:d===0,close:p}),[d,p]),x={ref:o},w=Cn();return ke.createElement(lv.Provider,{value:u},ke.createElement(cv.Provider,{value:v},ke.createElement(Nk,{value:p},ke.createElement(rS,{value:Hi(d,{0:Fi.Open,1:Fi.Closed})},w({ourProps:x,theirProps:r,slot:_,defaultTag:r4,name:"Disclosure"})))))}let s4="button";function a4(n,e){let t=T.useId(),{id:r=`headlessui-disclosure-button-${t}`,disabled:a=!1,autoFocus:o=!1,...u}=n,[d,f]=uv("Disclosure.Button"),h=t4(),p=h===null?!1:h===d.panelId,v=T.useRef(null),_=pr(v,e,Ye(P=>{if(!p)return f({type:4,element:P})}));T.useEffect(()=>{if(!p)return f({type:2,buttonId:r}),()=>{f({type:2,buttonId:null})}},[r,f,p]);let x=Ye(P=>{var D;if(p){if(d.disclosureState===1)return;switch(P.key){case xt.Space:case xt.Enter:P.preventDefault(),P.stopPropagation(),f({type:0}),(D=d.buttonElement)==null||D.focus();break}}else switch(P.key){case xt.Space:case xt.Enter:P.preventDefault(),P.stopPropagation(),f({type:0});break}}),w=Ye(P=>{switch(P.key){case xt.Space:P.preventDefault();break}}),A=Ye(P=>{var D;wT(P.currentTarget)||a||(p?(f({type:0}),(D=d.buttonElement)==null||D.focus()):f({type:0}))}),{isFocusVisible:C,focusProps:j}=mT({autoFocus:o}),{isHovered:U,hoverProps:F}=hT({isDisabled:a}),{pressed:Y,pressProps:X}=gT({disabled:a}),de=T.useMemo(()=>({open:d.disclosureState===0,hover:U,active:Y,disabled:a,focus:C,autofocus:o}),[d,U,Y,C,a,o]),M=LT(n,d.buttonElement),I=ah(p?{ref:_,type:M,disabled:a||void 0,autoFocus:o,onKeyDown:x,onClick:A}:{ref:_,id:r,type:M,"aria-expanded":d.disclosureState===0,"aria-controls":d.panelElement?d.panelId:void 0,disabled:a||void 0,autoFocus:o,onKeyDown:x,onKeyUp:w,onClick:A},j,F,X);return Cn()({ourProps:I,theirProps:u,slot:de,defaultTag:s4,name:"Disclosure.Button"})}let o4="div",l4=Ec.RenderStrategy|Ec.Static;function u4(n,e){let t=T.useId(),{id:r=`headlessui-disclosure-panel-${t}`,transition:a=!1,...o}=n,[u,d]=uv("Disclosure.Panel"),{close:f}=oS("Disclosure.Panel"),[h,p]=T.useState(null),v=pr(e,Ye(U=>{WO(()=>d({type:5,element:U}))}),p);T.useEffect(()=>(d({type:3,panelId:r}),()=>{d({type:3,panelId:null})}),[r,d]);let _=nS(),[x,w]=UT(a,h,_!==null?(_&Fi.Open)===Fi.Open:u.disclosureState===0),A=T.useMemo(()=>({open:u.disclosureState===0,close:f}),[u.disclosureState,f]),C={ref:v,id:r,...VT(w)},j=Cn();return ke.createElement(jO,null,ke.createElement(dv.Provider,{value:u.panelId},j({ourProps:C,theirProps:o,slot:A,defaultTag:o4,features:l4,visible:x,name:"Disclosure.Panel"})))}let c4=Nn(i4),fy=Nn(a4),lS=Nn(u4),d4=Object.assign(c4,{Button:fy,Panel:lS});function f4(n,e){let t=T.useRef({left:0,top:0});if(Lt(()=>{if(!e)return;let a=e.getBoundingClientRect();a&&(t.current=a)},[n,e]),e==null||!n||e===document.activeElement)return!1;let r=e.getBoundingClientRect();return r.top!==t.current.top||r.left!==t.current.left}let $E=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function BE(n){var e,t;let r=(e=n.innerText)!=null?e:"",a=n.cloneNode(!0);if(!Gi(a))return r;let o=!1;for(let d of a.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))d.remove(),o=!0;let u=o?(t=a.innerText)!=null?t:"":r;return $E.test(u)&&(u=u.replace($E,"")),u}function h4(n){let e=n.getAttribute("aria-label");if(typeof e=="string")return e.trim();let t=n.getAttribute("aria-labelledby");if(t){let r=t.split(" ").map(a=>{let o=document.getElementById(a);if(o){let u=o.getAttribute("aria-label");return typeof u=="string"?u.trim():BE(o).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return BE(n).trim()}function m4(n){let e=T.useRef(""),t=T.useRef("");return Ye(()=>{let r=n.current;if(!r)return"";let a=r.innerText;if(e.current===a)return t.current;let o=h4(r).trim().toLowerCase();return e.current=a,t.current=o,o})}var p4=Object.defineProperty,g4=(n,e,t)=>e in n?p4(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,zE=(n,e,t)=>(g4(n,typeof e!="symbol"?e+"":e,t),t),an=(n=>(n[n.Open=0]="Open",n[n.Closed=1]="Closed",n))(an||{}),ch=(n=>(n[n.Pointer=0]="Pointer",n[n.Other=1]="Other",n))(ch||{}),ot=(n=>(n[n.OpenMenu=0]="OpenMenu",n[n.CloseMenu=1]="CloseMenu",n[n.GoToItem=2]="GoToItem",n[n.Search=3]="Search",n[n.ClearSearch=4]="ClearSearch",n[n.RegisterItems=5]="RegisterItems",n[n.UnregisterItems=6]="UnregisterItems",n[n.SetButtonElement=7]="SetButtonElement",n[n.SetItemsElement=8]="SetItemsElement",n[n.SortItems=9]="SortItems",n))(ot||{});function qE(n,e=t=>t){let t=n.activeItemIndex!==null?n.items[n.activeItemIndex]:null,r=MT(e(n.items.slice()),o=>o.dataRef.current.domRef.current),a=t?r.indexOf(t):null;return a===-1&&(a=null),{items:r,activeItemIndex:a}}let y4={1(n){return n.menuState===1?n:{...n,activeItemIndex:null,pendingFocus:{focus:Ct.Nothing},menuState:1}},0(n,e){return n.menuState===0?n:{...n,__demoMode:!1,pendingFocus:e.focus,menuState:0}},2:(n,e)=>{var t,r,a,o,u;if(n.menuState===1)return n;let d={...n,searchQuery:"",activationTrigger:(t=e.trigger)!=null?t:1,__demoMode:!1};if(e.focus===Ct.Nothing)return{...d,activeItemIndex:null};if(e.focus===Ct.Specific)return{...d,activeItemIndex:n.items.findIndex(p=>p.id===e.id)};if(e.focus===Ct.Previous){let p=n.activeItemIndex;if(p!==null){let v=n.items[p].dataRef.current.domRef,_=Of(e,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:x=>x.id,resolveDisabled:x=>x.dataRef.current.disabled});if(_!==null){let x=n.items[_].dataRef.current.domRef;if(((r=v.current)==null?void 0:r.previousElementSibling)===x.current||((a=x.current)==null?void 0:a.previousElementSibling)===null)return{...d,activeItemIndex:_}}}}else if(e.focus===Ct.Next){let p=n.activeItemIndex;if(p!==null){let v=n.items[p].dataRef.current.domRef,_=Of(e,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:x=>x.id,resolveDisabled:x=>x.dataRef.current.disabled});if(_!==null){let x=n.items[_].dataRef.current.domRef;if(((o=v.current)==null?void 0:o.nextElementSibling)===x.current||((u=x.current)==null?void 0:u.nextElementSibling)===null)return{...d,activeItemIndex:_}}}}let f=qE(n),h=Of(e,{resolveItems:()=>f.items,resolveActiveIndex:()=>f.activeItemIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});return{...d,...f,activeItemIndex:h}},3:(n,e)=>{let t=n.searchQuery!==""?0:1,r=n.searchQuery+e.value.toLowerCase(),a=(n.activeItemIndex!==null?n.items.slice(n.activeItemIndex+t).concat(n.items.slice(0,n.activeItemIndex+t)):n.items).find(u=>{var d;return((d=u.dataRef.current.textValue)==null?void 0:d.startsWith(r))&&!u.dataRef.current.disabled}),o=a?n.items.indexOf(a):-1;return o===-1||o===n.activeItemIndex?{...n,searchQuery:r}:{...n,searchQuery:r,activeItemIndex:o,activationTrigger:1}},4(n){return n.searchQuery===""?n:{...n,searchQuery:"",searchActiveItemIndex:null}},5:(n,e)=>{let t=n.items.concat(e.items.map(a=>a)),r=n.activeItemIndex;return n.pendingFocus.focus!==Ct.Nothing&&(r=Of(n.pendingFocus,{resolveItems:()=>t,resolveActiveIndex:()=>n.activeItemIndex,resolveId:a=>a.id,resolveDisabled:a=>a.dataRef.current.disabled})),{...n,items:t,activeItemIndex:r,pendingFocus:{focus:Ct.Nothing},pendingShouldSort:!0}},6:(n,e)=>{let t=n.items,r=[],a=new Set(e.items);for(let[o,u]of t.entries())if(a.has(u.id)&&(r.push(o),a.delete(u.id),a.size===0))break;if(r.length>0){t=t.slice();for(let o of r.reverse())t.splice(o,1)}return{...n,items:t,activationTrigger:1}},7:(n,e)=>n.buttonElement===e.element?n:{...n,buttonElement:e.element},8:(n,e)=>n.itemsElement===e.element?n:{...n,itemsElement:e.element},9:n=>n.pendingShouldSort?{...n,...qE(n),pendingShouldSort:!1}:n},v4=class uS extends CT{constructor(e){super(e),zE(this,"actions",{registerItem:gE(()=>{let t=[],r=new Set;return[(a,o)=>{r.has(o)||(r.add(o),t.push({id:a,dataRef:o}))},()=>(r.clear(),this.send({type:5,items:t.splice(0)}))]}),unregisterItem:gE(()=>{let t=[];return[r=>t.push(r),()=>this.send({type:6,items:t.splice(0)})]})}),zE(this,"selectors",{activeDescendantId(t){var r;let a=t.activeItemIndex,o=t.items;return a===null||(r=o[a])==null?void 0:r.id},isActive(t,r){var a;let o=t.activeItemIndex,u=t.items;return o!==null?((a=u[o])==null?void 0:a.id)===r:!1},shouldScrollIntoView(t,r){return t.__demoMode||t.menuState!==0||t.activationTrigger===0?!1:this.isActive(t,r)}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let t=this.state.id,r=ev.get(null);this.disposables.add(r.on(IT.Push,a=>{!r.selectors.isTop(a,t)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>r.actions.push(t)),this.on(1,()=>r.actions.pop(t))}}static new({id:e,__demoMode:t=!1}){return new uS({id:e,__demoMode:t,menuState:t?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:Ct.Nothing}})}reduce(e,t){return Hi(t.type,y4,e,t)}};const cS=T.createContext(null);function fv(n){let e=T.useContext(cS);if(e===null){let t=new Error(`<${n} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,dS),t}return e}function dS({id:n,__demoMode:e=!1}){let t=T.useMemo(()=>v4.new({id:n,__demoMode:e}),[]);return iS(()=>t.dispose()),t}let b4=T.Fragment;function _4(n,e){let t=T.useId(),{__demoMode:r=!1,...a}=n,o=dS({id:t,__demoMode:r}),[u,d,f]=Zr(o,C=>[C.menuState,C.itemsElement,C.buttonElement]),h=pr(e),p=ev.get(null),v=Zr(p,T.useCallback(C=>p.selectors.isTop(C,t),[p,t]));rD(v,[f,d],(C,j)=>{var U;o.send({type:ot.CloseMenu}),nv(j,tv.Loose)||(C.preventDefault(),(U=o.state.buttonElement)==null||U.focus())});let _=Ye(()=>{o.send({type:ot.CloseMenu})}),x=T.useMemo(()=>({open:u===an.Open,close:_}),[u,_]),w={ref:h},A=Cn();return ke.createElement(DO,null,ke.createElement(cS.Provider,{value:o},ke.createElement(rS,{value:Hi(u,{[an.Open]:Fi.Open,[an.Closed]:Fi.Closed})},A({ourProps:w,theirProps:a,slot:x,defaultTag:b4,name:"Menu"}))))}let w4="button";function E4(n,e){let t=fv("Menu.Button"),r=T.useId(),{id:a=`headlessui-menu-button-${r}`,disabled:o=!1,autoFocus:u=!1,...d}=n,f=T.useRef(null),h=IO(),p=pr(e,f,NO(),Ye(D=>t.send({type:ot.SetButtonElement,element:D}))),v=Ye(D=>{switch(D.key){case xt.Space:case xt.Enter:case xt.ArrowDown:D.preventDefault(),D.stopPropagation(),t.send({type:ot.OpenMenu,focus:{focus:Ct.First}});break;case xt.ArrowUp:D.preventDefault(),D.stopPropagation(),t.send({type:ot.OpenMenu,focus:{focus:Ct.Last}});break}}),_=Ye(D=>{switch(D.key){case xt.Space:D.preventDefault();break}}),[x,w,A]=Zr(t,D=>[D.menuState,D.buttonElement,D.itemsElement]),C=x===an.Open;aD(C,{trigger:w,action:T.useCallback(D=>{if(w!=null&&w.contains(D.target))return kf.Ignore;let L=D.target.closest('[role="menuitem"]:not([data-disabled])');return Gi(L)?kf.Select(L):A!=null&&A.contains(D.target)?kf.Ignore:kf.Close},[w,A]),close:T.useCallback(()=>t.send({type:ot.CloseMenu}),[]),select:T.useCallback(D=>D.click(),[])});let j=Ye(D=>{var L;if(D.button===0){if(wT(D.currentTarget))return D.preventDefault();o||(x===an.Open?(Us.flushSync(()=>t.send({type:ot.CloseMenu})),(L=f.current)==null||L.focus({preventScroll:!0})):(D.preventDefault(),t.send({type:ot.OpenMenu,focus:{focus:Ct.Nothing},trigger:ch.Pointer})))}}),{isFocusVisible:U,focusProps:F}=mT({autoFocus:u}),{isHovered:Y,hoverProps:X}=hT({isDisabled:o}),{pressed:de,pressProps:M}=gT({disabled:o}),I=T.useMemo(()=>({open:x===an.Open,active:de||x===an.Open,disabled:o,hover:Y,focus:U,autofocus:u}),[x,Y,U,de,o,u]),P=ah(h(),{ref:p,id:a,type:LT(n,f.current),"aria-haspopup":"menu","aria-controls":A==null?void 0:A.id,"aria-expanded":x===an.Open,disabled:o||void 0,autoFocus:u,onKeyDown:v,onKeyUp:_,onPointerDown:j},F,X,M);return Cn()({ourProps:P,theirProps:d,slot:I,defaultTag:w4,name:"Menu.Button"})}let x4="div",T4=Ec.RenderStrategy|Ec.Static;function S4(n,e){let t=T.useId(),{id:r=`headlessui-menu-items-${t}`,anchor:a,portal:o=!1,modal:u=!0,transition:d=!1,...f}=n,h=CO(a),p=fv("Menu.Items"),[v,_]=kO(h),x=PO(),[w,A]=T.useState(null),C=pr(e,h?v:null,Ye(ee=>p.send({type:ot.SetItemsElement,element:ee})),A),[j,U]=Zr(p,ee=>[ee.menuState,ee.buttonElement]),F=ly(U),Y=ly(w);h&&(o=!0);let X=nS(),[de,M]=UT(d,w,X!==null?(X&Fi.Open)===Fi.Open:j===an.Open);qk(de,U,()=>{p.send({type:ot.CloseMenu})});let I=Zr(p,ee=>ee.__demoMode),P=I?!1:u&&j===an.Open;mD(P,Y);let D=I?!1:u&&j===an.Open;zk(D,{allowed:T.useCallback(()=>[U,w],[U,w])});let L=j!==an.Open,q=f4(L,U)?!1:de;T.useEffect(()=>{let ee=w;ee&&j===an.Open&&ee!==(Y==null?void 0:Y.activeElement)&&ee.focus({preventScroll:!0})},[j,w,Y]),ED(j===an.Open,{container:w,accept(ee){return ee.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:ee.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(ee){ee.setAttribute("role","none")}});let V=Lh(),be=Ye(ee=>{var N,$,B;switch(V.dispose(),ee.key){case xt.Space:if(p.state.searchQuery!=="")return ee.preventDefault(),ee.stopPropagation(),p.send({type:ot.Search,value:ee.key});case xt.Enter:if(ee.preventDefault(),ee.stopPropagation(),p.state.activeItemIndex!==null){let{dataRef:K}=p.state.items[p.state.activeItemIndex];($=(N=K.current)==null?void 0:N.domRef.current)==null||$.click()}p.send({type:ot.CloseMenu}),OT(p.state.buttonElement);break;case xt.ArrowDown:return ee.preventDefault(),ee.stopPropagation(),p.send({type:ot.GoToItem,focus:Ct.Next});case xt.ArrowUp:return ee.preventDefault(),ee.stopPropagation(),p.send({type:ot.GoToItem,focus:Ct.Previous});case xt.Home:case xt.PageUp:return ee.preventDefault(),ee.stopPropagation(),p.send({type:ot.GoToItem,focus:Ct.First});case xt.End:case xt.PageDown:return ee.preventDefault(),ee.stopPropagation(),p.send({type:ot.GoToItem,focus:Ct.Last});case xt.Escape:ee.preventDefault(),ee.stopPropagation(),Us.flushSync(()=>p.send({type:ot.CloseMenu})),(B=p.state.buttonElement)==null||B.focus({preventScroll:!0});break;case xt.Tab:ee.preventDefault(),ee.stopPropagation(),Us.flushSync(()=>p.send({type:ot.CloseMenu})),Jk(p.state.buttonElement,ee.shiftKey?oy.Previous:oy.Next);break;default:ee.key.length===1&&(p.send({type:ot.Search,value:ee.key}),V.setTimeout(()=>p.send({type:ot.ClearSearch}),350));break}}),we=Ye(ee=>{switch(ee.key){case xt.Space:ee.preventDefault();break}}),W=T.useMemo(()=>({open:j===an.Open}),[j]),oe=ah(h?x():{},{"aria-activedescendant":Zr(p,p.selectors.activeDescendantId),"aria-labelledby":Zr(p,ee=>{var N;return(N=ee.buttonElement)==null?void 0:N.id}),id:r,onKeyDown:be,onKeyUp:we,role:"menu",tabIndex:j===an.Open?0:void 0,ref:C,style:{...f.style,..._,"--button-width":Pk(U,!0).width},...VT(M)}),me=Cn();return ke.createElement(XO,{enabled:o?n.static||de:!1,ownerDocument:F},me({ourProps:oe,theirProps:f,slot:W,defaultTag:x4,features:T4,visible:q,name:"Menu.Items"}))}let R4=T.Fragment;function A4(n,e){let t=T.useId(),{id:r=`headlessui-menu-item-${t}`,disabled:a=!1,...o}=n,u=fv("Menu.Item"),d=Zr(u,L=>u.selectors.isActive(L,r)),f=T.useRef(null),h=pr(e,f),p=Zr(u,L=>u.selectors.shouldScrollIntoView(L,r));Lt(()=>{if(p)return mr().requestAnimationFrame(()=>{var L,q;(q=(L=f.current)==null?void 0:L.scrollIntoView)==null||q.call(L,{block:"nearest"})})},[p,f]);let v=m4(f),_=T.useRef({disabled:a,domRef:f,get textValue(){return v()}});Lt(()=>{_.current.disabled=a},[_,a]),Lt(()=>(u.actions.registerItem(r,_),()=>u.actions.unregisterItem(r)),[_,r]);let x=Ye(()=>{u.send({type:ot.CloseMenu})}),w=Ye(L=>{if(a)return L.preventDefault();u.send({type:ot.CloseMenu}),OT(u.state.buttonElement)}),A=Ye(()=>{if(a)return u.send({type:ot.GoToItem,focus:Ct.Nothing});u.send({type:ot.GoToItem,focus:Ct.Specific,id:r})}),C=pD(),j=Ye(L=>{C.update(L),!a&&(d||u.send({type:ot.GoToItem,focus:Ct.Specific,id:r,trigger:ch.Pointer}))}),U=Ye(L=>{C.wasMoved(L)&&(a||d||u.send({type:ot.GoToItem,focus:Ct.Specific,id:r,trigger:ch.Pointer}))}),F=Ye(L=>{C.wasMoved(L)&&(a||d&&u.send({type:ot.GoToItem,focus:Ct.Nothing}))}),[Y,X]=ST(),[de,M]=_k(),I=T.useMemo(()=>({active:d,focus:d,disabled:a,close:x}),[d,a,x]),P={id:r,ref:h,role:"menuitem",tabIndex:a===!0?void 0:-1,"aria-disabled":a===!0?!0:void 0,"aria-labelledby":Y,"aria-describedby":de,disabled:void 0,onClick:w,onFocus:A,onPointerEnter:j,onMouseEnter:j,onPointerMove:U,onMouseMove:U,onPointerLeave:F,onMouseLeave:F},D=Cn();return ke.createElement(X,null,ke.createElement(M,null,D({ourProps:P,theirProps:o,slot:I,defaultTag:R4,name:"Menu.Item"})))}let C4="div";function N4(n,e){let[t,r]=ST(),a=n,o={ref:e,"aria-labelledby":t,role:"group"},u=Cn();return ke.createElement(r,null,u({ourProps:o,theirProps:a,slot:{},defaultTag:C4,name:"Menu.Section"}))}let I4="header";function P4(n,e){let t=T.useId(),{id:r=`headlessui-menu-heading-${t}`,...a}=n,o=Jy();Lt(()=>o.register(r),[r,o.register]);let u={id:r,ref:e,role:"presentation",...o.props};return Cn()({ourProps:u,theirProps:a,slot:{},defaultTag:I4,name:"Menu.Heading"})}let k4="div";function D4(n,e){let t=n,r={ref:e,role:"separator"};return Cn()({ourProps:r,theirProps:t,slot:{},defaultTag:k4,name:"Menu.Separator"})}let O4=Nn(_4),fS=Nn(E4),hS=Nn(S4),rl=Nn(A4),M4=Nn(N4),j4=Nn(P4),hy=Nn(D4),L4=Object.assign(O4,{Button:fS,Items:hS,Item:rl,Section:M4,Heading:j4,Separator:hy});function V4({title:n,titleId:e,...t},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?T.createElement("title",{id:e},n):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const U4=T.forwardRef(V4);function F4({title:n,titleId:e,...t},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?T.createElement("title",{id:e},n):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"}))}const $4=T.forwardRef(F4);function B4({title:n,titleId:e,...t},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?T.createElement("title",{id:e},n):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const z4=T.forwardRef(B4);function q4({title:n,titleId:e,...t},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?T.createElement("title",{id:e},n):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const H4=T.forwardRef(q4);function G4({title:n,titleId:e,...t},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?T.createElement("title",{id:e},n):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Sc=T.forwardRef(G4);function K4({title:n,titleId:e,...t},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?T.createElement("title",{id:e},n):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const mS=T.forwardRef(K4),pS="/assets/logoTradeHub-BINCYsn_.png";/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=()=>{};var HE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},Y4=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],u=n[t++],d=n[t++],f=((a&7)<<18|(o&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},yS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],u=a+1<n.length,d=u?n[a+1]:0,f=a+2<n.length,h=f?n[a+2]:0,p=o>>2,v=(o&3)<<4|d>>4;let _=(d&15)<<2|h>>6,x=h&63;f||(x=64,u||(_=64)),r.push(t[p],t[v],t[_],t[x])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(gS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Y4(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const h=a<n.length?t[n.charAt(a)]:64;++a;const v=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||d==null||h==null||v==null)throw new X4;const _=o<<2|d>>4;if(r.push(_),h!==64){const x=d<<4&240|h>>2;if(r.push(x),v!==64){const w=h<<6&192|v;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class X4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const W4=function(n){const e=gS(n);return yS.encodeByteArray(e,!0)},dh=function(n){return W4(n).replace(/\./g,"")},vS=function(n){try{return yS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=()=>Z4().__FIREBASE_DEFAULTS__,eM=()=>{if(typeof process>"u"||typeof HE>"u")return;const n=HE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},tM=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&vS(n[1]);return e&&JSON.parse(e)},Hh=()=>{try{return Q4()||J4()||eM()||tM()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},bS=n=>{var e,t;return(t=(e=Hh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},nM=n=>{const e=bS(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},_S=()=>{var n;return(n=Hh())===null||n===void 0?void 0:n.config},wS=n=>{var e;return(e=Hh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(n){return n.endsWith(".cloudworkstations.dev")}async function ES(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[dh(JSON.stringify(t)),dh(JSON.stringify(u)),""].join(".")}const cc={};function sM(){const n={prod:[],emulator:[]};for(const e of Object.keys(cc))cc[e]?n.emulator.push(e):n.prod.push(e);return n}function aM(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let GE=!1;function Gh(n,e){if(typeof window>"u"||typeof document>"u"||!Hc(window.location.host)||cc[n]===e||cc[n]||GE)return;cc[n]=e;function t(_){return`__firebase__banner__${_}`}const r="__firebase__banner",o=sM().prod.length>0;function u(){const _=document.getElementById(r);_&&_.remove()}function d(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function f(_,x){_.setAttribute("width","24"),_.setAttribute("id",x),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function h(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{GE=!0,u()},_}function p(_,x){_.setAttribute("id",x),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function v(){const _=aM(r),x=t("text"),w=document.getElementById(x)||document.createElement("span"),A=t("learnmore"),C=document.getElementById(A)||document.createElement("a"),j=t("preprendIcon"),U=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const F=_.element;d(F),p(C,A);const Y=h();f(U,j),F.append(U,w,C,Y),document.body.appendChild(F)}o?(w.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function lM(){var n;const e=(n=Hh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cM(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function dM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fM(){const n=_n();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function hM(){return!lM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mM(){try{return typeof indexedDB=="object"}catch{return!1}}function pM(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM="FirebaseError";class Ki extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=gM,Object.setPrototypeOf(this,Ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gc.prototype.create)}}class Gc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?yM(o,r):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new Ki(a,d,r)}}function yM(n,e){return n.replace(vM,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const vM=/\{\$([^}]+)}/g;function bM(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Qa(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const o=n[a],u=e[a];if(KE(o)&&KE(u)){if(!Qa(o,u))return!1}else if(o!==u)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function KE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function rc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function _M(n,e){const t=new wM(n,e);return t.subscribe.bind(t)}class wM{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");EM(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=jg),a.error===void 0&&(a.error=jg),a.complete===void 0&&(a.complete=jg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EM(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function jg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(n){return n&&n._delegate?n._delegate:n}class Ya{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new rM;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SM(e))try{this.getOrInitializeService({instanceIdentifier:Ma})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=Ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ma){return this.instances.has(e)}getOptions(e=Ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&u.resolve(a)}return a}onInit(e,t){var r;const a=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TM(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ma){return this.component?this.component.multipleInstances?e:Ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TM(n){return n===Ma?void 0:n}function SM(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new xM(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ze||(ze={}));const AM={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},CM=ze.INFO,NM={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},IM=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=NM[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hv{constructor(e){this.name=e,this._logLevel=CM,this._logHandler=IM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const PM=(n,e)=>e.some(t=>n instanceof t);let QE,YE;function kM(){return QE||(QE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DM(){return YE||(YE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xS=new WeakMap,my=new WeakMap,TS=new WeakMap,Lg=new WeakMap,mv=new WeakMap;function OM(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Ds(n.result)),a()},u=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&xS.set(t,n)}).catch(()=>{}),mv.set(e,n),e}function MM(n){if(my.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),a()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});my.set(n,e)}let py={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return my.get(n);if(e==="objectStoreNames")return n.objectStoreNames||TS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ds(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function jM(n){py=n(py)}function LM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Vg(this),e,...t);return TS.set(r,e.sort?e.sort():[e]),Ds(r)}:DM().includes(n)?function(...e){return n.apply(Vg(this),e),Ds(xS.get(this))}:function(...e){return Ds(n.apply(Vg(this),e))}}function VM(n){return typeof n=="function"?LM(n):(n instanceof IDBTransaction&&MM(n),PM(n,kM())?new Proxy(n,py):n)}function Ds(n){if(n instanceof IDBRequest)return OM(n);if(Lg.has(n))return Lg.get(n);const e=VM(n);return e!==n&&(Lg.set(n,e),mv.set(e,n)),e}const Vg=n=>mv.get(n);function UM(n,e,{blocked:t,upgrade:r,blocking:a,terminated:o}={}){const u=indexedDB.open(n,e),d=Ds(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Ds(u.result),f.oldVersion,f.newVersion,Ds(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),d}const FM=["get","getKey","getAll","getAllKeys","count"],$M=["put","add","delete","clear"],Ug=new Map;function XE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ug.get(e))return Ug.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=$M.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||FM.includes(t)))return;const o=async function(u,...d){const f=this.transaction(u,a?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(d.shift())),(await Promise.all([h[t](...d),a&&f.done]))[0]};return Ug.set(e,o),o}jM(n=>({...n,get:(e,t,r)=>XE(e,t)||n.get(e,t,r),has:(e,t)=>!!XE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(zM(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function zM(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gy="@firebase/app",WE="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new hv("@firebase/app"),qM="@firebase/app-compat",HM="@firebase/analytics-compat",GM="@firebase/analytics",KM="@firebase/app-check-compat",QM="@firebase/app-check",YM="@firebase/auth",XM="@firebase/auth-compat",WM="@firebase/database",ZM="@firebase/data-connect",JM="@firebase/database-compat",e3="@firebase/functions",t3="@firebase/functions-compat",n3="@firebase/installations",r3="@firebase/installations-compat",i3="@firebase/messaging",s3="@firebase/messaging-compat",a3="@firebase/performance",o3="@firebase/performance-compat",l3="@firebase/remote-config",u3="@firebase/remote-config-compat",c3="@firebase/storage",d3="@firebase/storage-compat",f3="@firebase/firestore",h3="@firebase/vertexai",m3="@firebase/firestore-compat",p3="firebase",g3="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="[DEFAULT]",y3={[gy]:"fire-core",[qM]:"fire-core-compat",[GM]:"fire-analytics",[HM]:"fire-analytics-compat",[QM]:"fire-app-check",[KM]:"fire-app-check-compat",[YM]:"fire-auth",[XM]:"fire-auth-compat",[WM]:"fire-rtdb",[ZM]:"fire-data-connect",[JM]:"fire-rtdb-compat",[e3]:"fire-fn",[t3]:"fire-fn-compat",[n3]:"fire-iid",[r3]:"fire-iid-compat",[i3]:"fire-fcm",[s3]:"fire-fcm-compat",[a3]:"fire-perf",[o3]:"fire-perf-compat",[l3]:"fire-rc",[u3]:"fire-rc-compat",[c3]:"fire-gcs",[d3]:"fire-gcs-compat",[f3]:"fire-fst",[m3]:"fire-fst-compat",[h3]:"fire-vertex","fire-js":"fire-js",[p3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new Map,v3=new Map,vy=new Map;function ZE(n,e){try{n.container.addComponent(e)}catch(t){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function wl(n){const e=n.name;if(vy.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;vy.set(e,n);for(const t of fh.values())ZE(t,n);for(const t of v3.values())ZE(t,n);return!0}function pv(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ur(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Os=new Gc("app","Firebase",b3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=g3;function SS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:yy,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw Os.create("bad-app-name",{appName:String(a)});if(t||(t=_S()),!t)throw Os.create("no-options");const o=fh.get(a);if(o){if(Qa(t,o.options)&&Qa(r,o.config))return o;throw Os.create("duplicate-app",{appName:a})}const u=new RM(a);for(const f of vy.values())u.addComponent(f);const d=new _3(t,r,u);return fh.set(a,d),d}function RS(n=yy){const e=fh.get(n);if(!e&&n===yy&&_S())return SS();if(!e)throw Os.create("no-app",{appName:n});return e}function Ms(n,e,t){var r;let a=(r=y3[n])!==null&&r!==void 0?r:n;t&&(a+=`-${t}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$i.warn(d.join(" "));return}wl(new Ya(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3="firebase-heartbeat-database",E3=1,Rc="firebase-heartbeat-store";let Fg=null;function AS(){return Fg||(Fg=UM(w3,E3,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Rc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Os.create("idb-open",{originalErrorMessage:n.message})})),Fg}async function x3(n){try{const t=(await AS()).transaction(Rc),r=await t.objectStore(Rc).get(CS(n));return await t.done,r}catch(e){if(e instanceof Ki)$i.warn(e.message);else{const t=Os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$i.warn(t.message)}}}async function JE(n,e){try{const r=(await AS()).transaction(Rc,"readwrite");await r.objectStore(Rc).put(e,CS(n)),await r.done}catch(t){if(t instanceof Ki)$i.warn(t.message);else{const r=Os.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});$i.warn(r.message)}}}function CS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=1024,S3=30;class R3{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new C3(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ex();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>S3){const u=N3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){$i.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ex(),{heartbeatsToSend:r,unsentEntries:a}=A3(this._heartbeatsCache.heartbeats),o=dh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return $i.warn(t),""}}}function ex(){return new Date().toISOString().substring(0,10)}function A3(n,e=T3){const t=[];let r=n.slice();for(const a of n){const o=t.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),tx(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),tx(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class C3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mM()?pM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await x3(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return JE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return JE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function tx(n){return dh(JSON.stringify({version:2,heartbeats:n})).length}function N3(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(n){wl(new Ya("platform-logger",e=>new BM(e),"PRIVATE")),wl(new Ya("heartbeat",e=>new R3(e),"PRIVATE")),Ms(gy,WE,n),Ms(gy,WE,"esm2017"),Ms("fire-js","")}I3("");var P3="firebase",k3="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ms(P3,k3,"app");function gv(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t}function NS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const D3=NS,IS=new Gc("auth","Firebase",NS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new hv("@firebase/auth");function O3(n,...e){hh.logLevel<=ze.WARN&&hh.warn(`Auth (${Ml}): ${n}`,...e)}function Hf(n,...e){hh.logLevel<=ze.ERROR&&hh.error(`Auth (${Ml}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(n,...e){throw vv(n,...e)}function Sr(n,...e){return vv(n,...e)}function yv(n,e,t){const r=Object.assign(Object.assign({},D3()),{[e]:t});return new Gc("auth","Firebase",r).create(e,{appName:n.name})}function js(n){return yv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function M3(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&dr(n,"argument-error"),yv(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vv(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return IS.create(n,...e)}function Ne(n,e,...t){if(!n)throw vv(e,...t)}function ji(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Hf(e),new Error(e)}function Bi(n,e){n||ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function j3(){return nx()==="http:"||nx()==="https:"}function nx(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(j3()||cM()||"connection"in navigator)?navigator.onLine:!0}function V3(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Bi(t>e,"Short delay should be less than long delay!"),this.isMobile=oM()||dM()}get(){return L3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(n,e){Bi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$3=new Qc(3e4,6e4);function Xs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Qi(n,e,t,r,a={}){return kS(n,a,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const d=Kc(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:f},o);return uM()||(h.referrerPolicy="no-referrer"),n.emulatorConfig&&Hc(n.emulatorConfig.host)&&(h.credentials="include"),PS.fetch()(await DS(n,n.config.apiHost,t,d),h)})}async function kS(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},U3),e);try{const a=new z3(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Mf(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const d=o.ok?u.errorMessage:u.error.message,[f,h]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mf(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Mf(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Mf(n,"user-disabled",u);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw yv(n,p,h);dr(n,p)}}catch(a){if(a instanceof Ki)throw a;dr(n,"network-request-failed",{message:String(a)})}}async function Kh(n,e,t,r,a={}){const o=await Qi(n,e,t,r,a);return"mfaPendingCredential"in o&&dr(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function DS(n,e,t,r){const a=`${e}${t}?${r}`,o=n,u=o.config.emulator?bv(n.config,a):`${n.config.apiScheme}://${a}`;return F3.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function B3(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class z3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Sr(this.auth,"network-request-failed")),$3.get())})}}function Mf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=Sr(n,e,r);return a.customData._tokenResponse=t,a}function rx(n){return n!==void 0&&n.enterprise!==void 0}class q3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return B3(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function H3(n,e){return Qi(n,"GET","/v2/recaptchaConfig",Xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G3(n,e){return Qi(n,"POST","/v1/accounts:delete",e)}async function mh(n,e){return Qi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function K3(n,e=!1){const t=Nt(n),r=await t.getIdToken(e),a=_v(r);Ne(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:a,token:r,authTime:dc($g(a.auth_time)),issuedAtTime:dc($g(a.iat)),expirationTime:dc($g(a.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function $g(n){return Number(n)*1e3}function _v(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Hf("JWT malformed, contained fewer than 3 sections"),null;try{const a=vS(t);return a?JSON.parse(a):(Hf("Failed to decode base64 JWT payload"),null)}catch(a){return Hf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function ix(n){const e=_v(n);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ac(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ki&&Q3(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Q3({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=dc(this.lastLoginAt),this.creationTime=dc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ph(n){var e;const t=n.auth,r=await n.getIdToken(),a=await Ac(n,mh(t,{idToken:r}));Ne(a==null?void 0:a.users.length,t,"internal-error");const o=a.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?OS(o.providerUserInfo):[],d=W3(n.providerData,u),f=n.isAnonymous,h=!(n.email&&o.passwordHash)&&!(d!=null&&d.length),p=f?h:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new _y(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(n,v)}async function X3(n){const e=Nt(n);await ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function W3(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function OS(n){return n.map(e=>{var{providerId:t}=e,r=gv(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z3(n,e){const t=await kS(n,{},async()=>{const r=Kc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,u=await DS(n,a,"/v1/token",`key=${o}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",PS.fetch()(u,{method:"POST",headers:d,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function J3(n,e){return Qi(n,"POST","/v2/accounts:revokeToken",Xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ix(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const t=ix(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:o}=await Z3(e,t);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:o}=t,u=new pl;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(Ne(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(Ne(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pl,this.toJSON())}_performRefresh(){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(n,e){Ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Tr{constructor(e){var{uid:t,auth:r,stsTokenManager:a}=e,o=gv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Y3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new _y(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ac(this,this.stsTokenManager.getToken(this.auth,e));return Ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return K3(this,e)}reload(){return X3(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Tr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ph(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ur(this.auth.app))return Promise.reject(js(this.auth));const e=await this.getIdToken();return await Ac(this,G3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,a,o,u,d,f,h,p;const v=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(a=t.email)!==null&&a!==void 0?a:void 0,x=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,w=(u=t.photoURL)!==null&&u!==void 0?u:void 0,A=(d=t.tenantId)!==null&&d!==void 0?d:void 0,C=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,j=(h=t.createdAt)!==null&&h!==void 0?h:void 0,U=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:F,emailVerified:Y,isAnonymous:X,providerData:de,stsTokenManager:M}=t;Ne(F&&M,e,"internal-error");const I=pl.fromJSON(this.name,M);Ne(typeof F=="string",e,"internal-error"),Rs(v,e.name),Rs(_,e.name),Ne(typeof Y=="boolean",e,"internal-error"),Ne(typeof X=="boolean",e,"internal-error"),Rs(x,e.name),Rs(w,e.name),Rs(A,e.name),Rs(C,e.name),Rs(j,e.name),Rs(U,e.name);const P=new Tr({uid:F,auth:e,email:_,emailVerified:Y,displayName:v,isAnonymous:X,photoURL:w,phoneNumber:x,tenantId:A,stsTokenManager:I,createdAt:j,lastLoginAt:U});return de&&Array.isArray(de)&&(P.providerData=de.map(D=>Object.assign({},D))),C&&(P._redirectEventId=C),P}static async _fromIdTokenResponse(e,t,r=!1){const a=new pl;a.updateFromServerResponse(t);const o=new Tr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await ph(o),o}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];Ne(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?OS(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),d=new pl;d.updateFromIdToken(r);const f=new Tr({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:u}),h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new _y(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,h),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=new Map;function Li(n){Bi(n instanceof Function,"Expected a class definition");let e=sx.get(n);return e?(Bi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,sx.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}MS.type="NONE";const ax=MS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(n,e,t){return`firebase:${n}:${e}:${t}`}class gl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=Gf(this.userKey,a.apiKey,o),this.fullPersistenceKey=Gf("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await mh(this.auth,{idToken:e}).catch(()=>{});return t?Tr._fromGetAccountInfoResponse(this.auth,t,e):null}return Tr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new gl(Li(ax),e,r);const a=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=a[0]||Li(ax);const u=Gf(r,e.config.apiKey,e.name);let d=null;for(const h of t)try{const p=await h._get(u);if(p){let v;if(typeof p=="string"){const _=await mh(e,{idToken:p}).catch(()=>{});if(!_)break;v=await Tr._fromGetAccountInfoResponse(e,_,p)}else v=Tr._fromJSON(e,p);h!==o&&(d=v),o=h;break}}catch{}const f=a.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new gl(o,e,r):(o=f[0],d&&await o._set(u,d.toJSON()),await Promise.all(t.map(async h=>{if(h!==o)try{await h._remove(u)}catch{}})),new gl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(US(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($S(e))return"Blackberry";if(BS(e))return"Webos";if(LS(e))return"Safari";if((e.includes("chrome/")||VS(e))&&!e.includes("edge/"))return"Chrome";if(FS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jS(n=_n()){return/firefox\//i.test(n)}function LS(n=_n()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VS(n=_n()){return/crios\//i.test(n)}function US(n=_n()){return/iemobile/i.test(n)}function FS(n=_n()){return/android/i.test(n)}function $S(n=_n()){return/blackberry/i.test(n)}function BS(n=_n()){return/webos/i.test(n)}function wv(n=_n()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function ej(n=_n()){var e;return wv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function tj(){return fM()&&document.documentMode===10}function zS(n=_n()){return wv(n)||FS(n)||BS(n)||$S(n)||/windows phone/i.test(n)||US(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(n,e=[]){let t;switch(n){case"Browser":t=ox(_n());break;case"Worker":t=`${ox(_n())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ml}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,d)=>{try{const f=e(o);u(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rj(n,e={}){return Qi(n,"GET","/v2/passwordPolicy",Xs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=6;class sj{constructor(e){var t,r,a,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:ij,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,a,o,u,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(a=f.containsLowercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lx(this),this.idTokenSubscription=new lx(this),this.beforeStateQueue=new nj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Li(t)),this._initializationPromise=this.queue(async()=>{var r,a,o;if(!this._deleted&&(this.persistenceManager=await gl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await mh(this,{idToken:e}),r=await Tr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ur(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===d)&&(f!=null&&f.user)&&(a=f.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ph(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=V3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ur(this.app))return Promise.reject(js(this));const t=e?Nt(e):null;return t&&Ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ur(this.app)?Promise.reject(js(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ur(this.app)?Promise.reject(js(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rj(this),t=new sj(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await J3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Li(e)||this._popupRedirectResolver;Ne(t,this,"argument-error"),this.redirectPersistenceManager=await gl.create(this,[Li(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(d,this,"internal-error"),d.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,a);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&O3(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ws(n){return Nt(n)}class lx{constructor(e){this.auth=e,this.observer=null,this.addObserver=_M(t=>this.observer=t)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oj(n){Qh=n}function HS(n){return Qh.loadJS(n)}function lj(){return Qh.recaptchaEnterpriseScript}function uj(){return Qh.gapiScript}function cj(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class dj{constructor(){this.enterprise=new fj}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class fj{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const hj="recaptcha-enterprise",GS="NO_RECAPTCHA";class mj{constructor(e){this.type=hj,this.auth=Ws(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,d)=>{H3(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const h=new q3(f);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,u(h.siteKey)}}).catch(f=>{d(f)})})}function a(o,u,d){const f=window.grecaptcha;rx(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(h=>{u(h)}).catch(()=>{u(GS)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dj().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(d=>{if(!t&&rx(window.grecaptcha))a(d,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=lj();f.length!==0&&(f+=d),HS(f).then(()=>{a(d,o,u)}).catch(h=>{u(h)})}}).catch(d=>{u(d)})})}}async function ux(n,e,t,r=!1,a=!1){const o=new mj(n);let u;if(a)u=GS;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,h=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function wy(n,e,t,r,a){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await ux(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await ux(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(n,e){const t=pv(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(Qa(o,e??{}))return a;dr(a,"already-initialized")}return t.initialize({options:e})}function gj(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Li);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function yj(n,e,t){const r=Ws(n);Ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=KS(e),{host:u,port:d}=vj(e),f=d===null?"":`:${d}`,h={url:`${o}//${u}${f}/`},p=Object.freeze({host:u,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ne(Qa(h,r.config.emulator)&&Qa(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Hc(u)?(Gh("Auth",!0),ES(`${o}//${u}${f}`)):bj()}function KS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function vj(n){const e=KS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:cx(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:cx(u)}}}function cx(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function bj(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ji("not implemented")}_getIdTokenResponse(e){return ji("not implemented")}_linkToIdToken(e,t){return ji("not implemented")}_getReauthenticationResolver(e){return ji("not implemented")}}async function _j(n,e){return Qi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wj(n,e){return Kh(n,"POST","/v1/accounts:signInWithPassword",Xs(n,e))}async function Ej(n,e){return Qi(n,"POST","/v1/accounts:sendOobCode",Xs(n,e))}async function xj(n,e){return Ej(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tj(n,e){return Kh(n,"POST","/v1/accounts:signInWithEmailLink",Xs(n,e))}async function Sj(n,e){return Kh(n,"POST","/v1/accounts:signInWithEmailLink",Xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends Ev{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Cc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Cc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wy(e,t,"signInWithPassword",wj);case"emailLink":return Tj(e,{email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wy(e,r,"signUpPassword",_j);case"emailLink":return Sj(e,{idToken:t,email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(n,e){return Kh(n,"POST","/v1/accounts:signInWithIdp",Xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj="http://localhost";class Xa extends Ev{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Xa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):dr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=t,o=gv(t,["providerId","signInMethod"]);if(!r||!a)return null;const u=new Xa(r,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return yl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,yl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,yl(e,t)}buildRequest(){const e={requestUri:Rj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Kc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aj(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Cj(n){const e=nc(rc(n)).link,t=e?nc(rc(e)).deep_link_id:null,r=nc(rc(n)).deep_link_id;return(r?nc(rc(r)).link:null)||r||t||e||n}class xv{constructor(e){var t,r,a,o,u,d;const f=nc(rc(e)),h=(t=f.apiKey)!==null&&t!==void 0?t:null,p=(r=f.oobCode)!==null&&r!==void 0?r:null,v=Aj((a=f.mode)!==null&&a!==void 0?a:null);Ne(h&&p&&v,"argument-error"),this.apiKey=h,this.operation=v,this.code=p,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=Cj(e);try{return new xv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(){this.providerId=jl.PROVIDER_ID}static credential(e,t){return Cc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=xv.parseLink(t);return Ne(r,"argument-error"),Cc._fromEmailAndCode(e,r.code,r.tenantId)}}jl.PROVIDER_ID="password";jl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends Tv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends Yc{constructor(){super("facebook.com")}static credential(e){return Xa._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.FACEBOOK_SIGN_IN_METHOD="facebook.com";As.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Yc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Xa._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Xr.credential(t,r)}catch{return null}}}Xr.GOOGLE_SIGN_IN_METHOD="google.com";Xr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends Yc{constructor(){super("github.com")}static credential(e){return Xa._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.GITHUB_SIGN_IN_METHOD="github.com";Cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends Yc{constructor(){super("twitter.com")}static credential(e,t){return Xa._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ns.credential(t,r)}catch{return null}}}Ns.TWITTER_SIGN_IN_METHOD="twitter.com";Ns.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const o=await Tr._fromIdTokenResponse(e,r,a),u=dx(r);return new El({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=dx(r);return new El({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function dx(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh extends Ki{constructor(e,t,r,a){var o;super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,gh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new gh(e,t,r,a)}}function QS(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?gh._fromErrorAndOperation(n,o,e,r):o})}async function Nj(n,e,t=!1){const r=await Ac(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return El._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ij(n,e,t=!1){const{auth:r}=n;if(ur(r.app))return Promise.reject(js(r));const a="reauthenticate";try{const o=await Ac(n,QS(r,a,e,n),t);Ne(o.idToken,r,"internal-error");const u=_v(o.idToken);Ne(u,r,"internal-error");const{sub:d}=u;return Ne(n.uid===d,r,"user-mismatch"),El._forOperation(n,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&dr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YS(n,e,t=!1){if(ur(n.app))return Promise.reject(js(n));const r="signIn",a=await QS(n,r,e),o=await El._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(o.user),o}async function Pj(n,e){return YS(Ws(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kj(n){const e=Ws(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Dj(n,e,t){const r=Ws(n);await wy(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",xj)}function Oj(n,e,t){return ur(n.app)?Promise.reject(js(n)):Pj(Nt(n),jl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&kj(n),r})}function Mj(n,e,t,r){return Nt(n).onIdTokenChanged(e,t,r)}function jj(n,e,t){return Nt(n).beforeAuthStateChanged(e,t)}function Lj(n,e,t,r){return Nt(n).onAuthStateChanged(e,t,r)}const yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(yh,"1"),this.storage.removeItem(yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj=1e3,Uj=10;class WS extends XS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);tj()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Uj):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Vj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}WS.type="LOCAL";const Fj=WS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS extends XS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ZS.type="SESSION";const JS=ZS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new Yh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:o}=t.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(u).map(async h=>h(t.origin,o)),f=await $j(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((d,f)=>{const h=Sv("",20);a.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(v){const _=v;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(_.data.response);break;default:clearTimeout(p),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){return window}function zj(n){ei().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(){return typeof ei().WorkerGlobalScope<"u"&&typeof ei().importScripts=="function"}async function qj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Hj(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Gj(){return eR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="firebaseLocalStorageDb",Kj=1,vh="firebaseLocalStorage",nR="fbase_key";class Xc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Xh(n,e){return n.transaction([vh],e?"readwrite":"readonly").objectStore(vh)}function Qj(){const n=indexedDB.deleteDatabase(tR);return new Xc(n).toPromise()}function Ey(){const n=indexedDB.open(tR,Kj);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(vh,{keyPath:nR})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(vh)?e(r):(r.close(),await Qj(),e(await Ey()))})})}async function fx(n,e,t){const r=Xh(n,!0).put({[nR]:e,value:t});return new Xc(r).toPromise()}async function Yj(n,e){const t=Xh(n,!1).get(e),r=await new Xc(t).toPromise();return r===void 0?null:r.value}function hx(n,e){const t=Xh(n,!0).delete(e);return new Xc(t).toPromise()}const Xj=800,Wj=3;class rR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ey(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Wj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yh._getInstance(Gj()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await qj(),!this.activeServiceWorker)return;this.sender=new Bj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Hj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ey();return await fx(e,yh,"1"),await hx(e,yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>fx(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Yj(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>hx(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Xh(a,!1).getAll();return new Xc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Xj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rR.type="LOCAL";const Zj=rR;new Qc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(n,e){return e?Li(e):(Ne(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv extends Ev{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return yl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return yl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Jj(n){return YS(n.auth,new Rv(n),n.bypassAuthState)}function eL(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),Ij(t,new Rv(n),n.bypassAuthState)}async function tL(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),Nj(t,new Rv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,t,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:o,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Jj;case"linkViaPopup":case"linkViaRedirect":return tL;case"reauthViaPopup":case"reauthViaRedirect":return eL;default:dr(this.auth,"internal-error")}}resolve(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL=new Qc(2e3,1e4);async function rL(n,e,t){if(ur(n.app))return Promise.reject(Sr(n,"operation-not-supported-in-this-environment"));const r=Ws(n);M3(n,e,Tv);const a=iR(r,t);return new Va(r,"signInViaPopup",e,a).executeNotNull()}class Va extends sR{constructor(e,t,r,a,o){super(e,t,a,o),this.provider=r,this.authWindow=null,this.pollId=null,Va.currentPopupAction&&Va.currentPopupAction.cancel(),Va.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Bi(this.filter.length===1,"Popup operations only handle one event");const e=Sv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Va.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nL.get())};e()}}Va.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL="pendingRedirect",Kf=new Map;class sL extends sR{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Kf.get(this.auth._key());if(!e){try{const r=await aL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Kf.set(this.auth._key(),e)}return this.bypassAuthState||Kf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aL(n,e){const t=uL(e),r=lL(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function oL(n,e){Kf.set(n._key(),e)}function lL(n){return Li(n._redirectPersistence)}function uL(n){return Gf(iL,n.config.apiKey,n.name)}async function cL(n,e,t=!1){if(ur(n.app))return Promise.reject(js(n));const r=Ws(n),a=iR(r,e),u=await new sL(r,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=10*60*1e3;class fL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hL(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!aR(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Sr(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dL&&this.cachedEventUids.clear(),this.cachedEventUids.has(mx(e))}saveEventToCache(e){this.cachedEventUids.add(mx(e)),this.lastProcessedEventTime=Date.now()}}function mx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function aR({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function hL(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aR(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mL(n,e={}){return Qi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gL=/^https?/;async function yL(n){if(n.config.emulator)return;const{authorizedDomains:e}=await mL(n);for(const t of e)try{if(vL(t))return}catch{}dr(n,"unauthorized-domain")}function vL(n){const e=by(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!gL.test(t))return!1;if(pL.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=new Qc(3e4,6e4);function px(){const n=ei().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function _L(n){return new Promise((e,t)=>{var r,a,o;function u(){px(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{px(),t(Sr(n,"network-request-failed"))},timeout:bL.get()})}if(!((a=(r=ei().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=ei().gapi)===null||o===void 0)&&o.load)u();else{const d=cj("iframefcb");return ei()[d]=()=>{gapi.load?u():t(Sr(n,"network-request-failed"))},HS(`${uj()}?onload=${d}`).catch(f=>t(f))}}).catch(e=>{throw Qf=null,e})}let Qf=null;function wL(n){return Qf=Qf||_L(n),Qf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL=new Qc(5e3,15e3),xL="__/auth/iframe",TL="emulator/auth/iframe",SL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AL(n){const e=n.config;Ne(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?bv(e,TL):`https://${n.config.authDomain}/${xL}`,r={apiKey:e.apiKey,appName:n.name,v:Ml},a=RL.get(n.config.apiHost);a&&(r.eid=a);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Kc(r).slice(1)}`}async function CL(n){const e=await wL(n),t=ei().gapi;return Ne(t,n,"internal-error"),e.open({where:document.body,url:AL(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SL,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const u=Sr(n,"network-request-failed"),d=ei().setTimeout(()=>{o(u)},EL.get());function f(){ei().clearTimeout(d),a(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IL=500,PL=600,kL="_blank",DL="http://localhost";class gx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OL(n,e,t,r=IL,a=PL){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f=Object.assign(Object.assign({},NL),{width:r.toString(),height:a.toString(),top:o,left:u}),h=_n().toLowerCase();t&&(d=VS(h)?kL:t),jS(h)&&(e=e||DL,f.scrollbars="yes");const p=Object.entries(f).reduce((_,[x,w])=>`${_}${x}=${w},`,"");if(ej(h)&&d!=="_self")return ML(e||"",d),new gx(null);const v=window.open(e||"",d,p);Ne(v,n,"popup-blocked");try{v.focus()}catch{}return new gx(v)}function ML(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL="__/auth/handler",LL="emulator/auth/handler",VL=encodeURIComponent("fac");async function yx(n,e,t,r,a,o){Ne(n.config.authDomain,n,"auth-domain-config-required"),Ne(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ml,eventId:a};if(e instanceof Tv){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",bM(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,v]of Object.entries({}))u[p]=v}if(e instanceof Yc){const p=e.getScopes().filter(v=>v!=="");p.length>0&&(u.scopes=p.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const p of Object.keys(d))d[p]===void 0&&delete d[p];const f=await n._getAppCheckToken(),h=f?`#${VL}=${encodeURIComponent(f)}`:"";return`${UL(n)}?${Kc(d).slice(1)}${h}`}function UL({config:n}){return n.emulator?bv(n,LL):`https://${n.authDomain}/${jL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg="webStorageSupport";class FL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JS,this._completeRedirectFn=cL,this._overrideRedirectResult=oL}async _openPopup(e,t,r,a){var o;Bi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await yx(e,t,r,by(),a);return OL(e,u,Sv())}async _openRedirect(e,t,r,a){await this._originValidation(e);const o=await yx(e,t,r,by(),a);return zj(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Bi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await CL(e),r=new fL(e);return t.register("authEvent",a=>(Ne(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Bg,{type:Bg},a=>{var o;const u=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[Bg];u!==void 0&&t(!!u),dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=yL(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zS()||LS()||wv()}}const $L=FL;var vx="@firebase/auth",bx="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qL(n){wl(new Ya("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;Ne(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qS(n)},h=new aj(r,a,o,f);return gj(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),wl(new Ya("auth-internal",e=>{const t=Ws(e.getProvider("auth").getImmediate());return(r=>new BL(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ms(vx,bx,zL(n)),Ms(vx,bx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL=5*60,GL=wS("authIdTokenMaxAge")||HL;let _x=null;const KL=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>GL)return;const a=t==null?void 0:t.token;_x!==a&&(_x=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function QL(n=RS()){const e=pv(n,"auth");if(e.isInitialized())return e.getImmediate();const t=pj(n,{popupRedirectResolver:$L,persistence:[Zj,Fj,JS]}),r=wS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=KL(o.toString());jj(t,u,()=>u(t.currentUser)),Mj(t,d=>u(d))}}const a=bS("auth");return a?yj(t,`http://${a}`):Gh("Auth",!1),t}function YL(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}oj({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const o=Sr("internal-error");o.customData=a,t(o)},r.type="text/javascript",r.charset="UTF-8",YL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qL("Browser");var wx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ls,oR;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,I){function P(){}P.prototype=I.prototype,M.D=I.prototype,M.prototype=new P,M.prototype.constructor=M,M.C=function(D,L,q){for(var V=Array(arguments.length-2),be=2;be<arguments.length;be++)V[be-2]=arguments[be];return I.prototype[L].apply(D,V)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(M,I,P){P||(P=0);var D=Array(16);if(typeof I=="string")for(var L=0;16>L;++L)D[L]=I.charCodeAt(P++)|I.charCodeAt(P++)<<8|I.charCodeAt(P++)<<16|I.charCodeAt(P++)<<24;else for(L=0;16>L;++L)D[L]=I[P++]|I[P++]<<8|I[P++]<<16|I[P++]<<24;I=M.g[0],P=M.g[1],L=M.g[2];var q=M.g[3],V=I+(q^P&(L^q))+D[0]+3614090360&4294967295;I=P+(V<<7&4294967295|V>>>25),V=q+(L^I&(P^L))+D[1]+3905402710&4294967295,q=I+(V<<12&4294967295|V>>>20),V=L+(P^q&(I^P))+D[2]+606105819&4294967295,L=q+(V<<17&4294967295|V>>>15),V=P+(I^L&(q^I))+D[3]+3250441966&4294967295,P=L+(V<<22&4294967295|V>>>10),V=I+(q^P&(L^q))+D[4]+4118548399&4294967295,I=P+(V<<7&4294967295|V>>>25),V=q+(L^I&(P^L))+D[5]+1200080426&4294967295,q=I+(V<<12&4294967295|V>>>20),V=L+(P^q&(I^P))+D[6]+2821735955&4294967295,L=q+(V<<17&4294967295|V>>>15),V=P+(I^L&(q^I))+D[7]+4249261313&4294967295,P=L+(V<<22&4294967295|V>>>10),V=I+(q^P&(L^q))+D[8]+1770035416&4294967295,I=P+(V<<7&4294967295|V>>>25),V=q+(L^I&(P^L))+D[9]+2336552879&4294967295,q=I+(V<<12&4294967295|V>>>20),V=L+(P^q&(I^P))+D[10]+4294925233&4294967295,L=q+(V<<17&4294967295|V>>>15),V=P+(I^L&(q^I))+D[11]+2304563134&4294967295,P=L+(V<<22&4294967295|V>>>10),V=I+(q^P&(L^q))+D[12]+1804603682&4294967295,I=P+(V<<7&4294967295|V>>>25),V=q+(L^I&(P^L))+D[13]+4254626195&4294967295,q=I+(V<<12&4294967295|V>>>20),V=L+(P^q&(I^P))+D[14]+2792965006&4294967295,L=q+(V<<17&4294967295|V>>>15),V=P+(I^L&(q^I))+D[15]+1236535329&4294967295,P=L+(V<<22&4294967295|V>>>10),V=I+(L^q&(P^L))+D[1]+4129170786&4294967295,I=P+(V<<5&4294967295|V>>>27),V=q+(P^L&(I^P))+D[6]+3225465664&4294967295,q=I+(V<<9&4294967295|V>>>23),V=L+(I^P&(q^I))+D[11]+643717713&4294967295,L=q+(V<<14&4294967295|V>>>18),V=P+(q^I&(L^q))+D[0]+3921069994&4294967295,P=L+(V<<20&4294967295|V>>>12),V=I+(L^q&(P^L))+D[5]+3593408605&4294967295,I=P+(V<<5&4294967295|V>>>27),V=q+(P^L&(I^P))+D[10]+38016083&4294967295,q=I+(V<<9&4294967295|V>>>23),V=L+(I^P&(q^I))+D[15]+3634488961&4294967295,L=q+(V<<14&4294967295|V>>>18),V=P+(q^I&(L^q))+D[4]+3889429448&4294967295,P=L+(V<<20&4294967295|V>>>12),V=I+(L^q&(P^L))+D[9]+568446438&4294967295,I=P+(V<<5&4294967295|V>>>27),V=q+(P^L&(I^P))+D[14]+3275163606&4294967295,q=I+(V<<9&4294967295|V>>>23),V=L+(I^P&(q^I))+D[3]+4107603335&4294967295,L=q+(V<<14&4294967295|V>>>18),V=P+(q^I&(L^q))+D[8]+1163531501&4294967295,P=L+(V<<20&4294967295|V>>>12),V=I+(L^q&(P^L))+D[13]+2850285829&4294967295,I=P+(V<<5&4294967295|V>>>27),V=q+(P^L&(I^P))+D[2]+4243563512&4294967295,q=I+(V<<9&4294967295|V>>>23),V=L+(I^P&(q^I))+D[7]+1735328473&4294967295,L=q+(V<<14&4294967295|V>>>18),V=P+(q^I&(L^q))+D[12]+2368359562&4294967295,P=L+(V<<20&4294967295|V>>>12),V=I+(P^L^q)+D[5]+4294588738&4294967295,I=P+(V<<4&4294967295|V>>>28),V=q+(I^P^L)+D[8]+2272392833&4294967295,q=I+(V<<11&4294967295|V>>>21),V=L+(q^I^P)+D[11]+1839030562&4294967295,L=q+(V<<16&4294967295|V>>>16),V=P+(L^q^I)+D[14]+4259657740&4294967295,P=L+(V<<23&4294967295|V>>>9),V=I+(P^L^q)+D[1]+2763975236&4294967295,I=P+(V<<4&4294967295|V>>>28),V=q+(I^P^L)+D[4]+1272893353&4294967295,q=I+(V<<11&4294967295|V>>>21),V=L+(q^I^P)+D[7]+4139469664&4294967295,L=q+(V<<16&4294967295|V>>>16),V=P+(L^q^I)+D[10]+3200236656&4294967295,P=L+(V<<23&4294967295|V>>>9),V=I+(P^L^q)+D[13]+681279174&4294967295,I=P+(V<<4&4294967295|V>>>28),V=q+(I^P^L)+D[0]+3936430074&4294967295,q=I+(V<<11&4294967295|V>>>21),V=L+(q^I^P)+D[3]+3572445317&4294967295,L=q+(V<<16&4294967295|V>>>16),V=P+(L^q^I)+D[6]+76029189&4294967295,P=L+(V<<23&4294967295|V>>>9),V=I+(P^L^q)+D[9]+3654602809&4294967295,I=P+(V<<4&4294967295|V>>>28),V=q+(I^P^L)+D[12]+3873151461&4294967295,q=I+(V<<11&4294967295|V>>>21),V=L+(q^I^P)+D[15]+530742520&4294967295,L=q+(V<<16&4294967295|V>>>16),V=P+(L^q^I)+D[2]+3299628645&4294967295,P=L+(V<<23&4294967295|V>>>9),V=I+(L^(P|~q))+D[0]+4096336452&4294967295,I=P+(V<<6&4294967295|V>>>26),V=q+(P^(I|~L))+D[7]+1126891415&4294967295,q=I+(V<<10&4294967295|V>>>22),V=L+(I^(q|~P))+D[14]+2878612391&4294967295,L=q+(V<<15&4294967295|V>>>17),V=P+(q^(L|~I))+D[5]+4237533241&4294967295,P=L+(V<<21&4294967295|V>>>11),V=I+(L^(P|~q))+D[12]+1700485571&4294967295,I=P+(V<<6&4294967295|V>>>26),V=q+(P^(I|~L))+D[3]+2399980690&4294967295,q=I+(V<<10&4294967295|V>>>22),V=L+(I^(q|~P))+D[10]+4293915773&4294967295,L=q+(V<<15&4294967295|V>>>17),V=P+(q^(L|~I))+D[1]+2240044497&4294967295,P=L+(V<<21&4294967295|V>>>11),V=I+(L^(P|~q))+D[8]+1873313359&4294967295,I=P+(V<<6&4294967295|V>>>26),V=q+(P^(I|~L))+D[15]+4264355552&4294967295,q=I+(V<<10&4294967295|V>>>22),V=L+(I^(q|~P))+D[6]+2734768916&4294967295,L=q+(V<<15&4294967295|V>>>17),V=P+(q^(L|~I))+D[13]+1309151649&4294967295,P=L+(V<<21&4294967295|V>>>11),V=I+(L^(P|~q))+D[4]+4149444226&4294967295,I=P+(V<<6&4294967295|V>>>26),V=q+(P^(I|~L))+D[11]+3174756917&4294967295,q=I+(V<<10&4294967295|V>>>22),V=L+(I^(q|~P))+D[2]+718787259&4294967295,L=q+(V<<15&4294967295|V>>>17),V=P+(q^(L|~I))+D[9]+3951481745&4294967295,M.g[0]=M.g[0]+I&4294967295,M.g[1]=M.g[1]+(L+(V<<21&4294967295|V>>>11))&4294967295,M.g[2]=M.g[2]+L&4294967295,M.g[3]=M.g[3]+q&4294967295}r.prototype.u=function(M,I){I===void 0&&(I=M.length);for(var P=I-this.blockSize,D=this.B,L=this.h,q=0;q<I;){if(L==0)for(;q<=P;)a(this,M,q),q+=this.blockSize;if(typeof M=="string"){for(;q<I;)if(D[L++]=M.charCodeAt(q++),L==this.blockSize){a(this,D),L=0;break}}else for(;q<I;)if(D[L++]=M[q++],L==this.blockSize){a(this,D),L=0;break}}this.h=L,this.o+=I},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var I=1;I<M.length-8;++I)M[I]=0;var P=8*this.o;for(I=M.length-8;I<M.length;++I)M[I]=P&255,P/=256;for(this.u(M),M=Array(16),I=P=0;4>I;++I)for(var D=0;32>D;D+=8)M[P++]=this.g[I]>>>D&255;return M};function o(M,I){var P=d;return Object.prototype.hasOwnProperty.call(P,M)?P[M]:P[M]=I(M)}function u(M,I){this.h=I;for(var P=[],D=!0,L=M.length-1;0<=L;L--){var q=M[L]|0;D&&q==I||(P[L]=q,D=!1)}this.g=P}var d={};function f(M){return-128<=M&&128>M?o(M,function(I){return new u([I|0],0>I?-1:0)}):new u([M|0],0>M?-1:0)}function h(M){if(isNaN(M)||!isFinite(M))return v;if(0>M)return C(h(-M));for(var I=[],P=1,D=0;M>=P;D++)I[D]=M/P|0,P*=4294967296;return new u(I,0)}function p(M,I){if(M.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(M.charAt(0)=="-")return C(p(M.substring(1),I));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=h(Math.pow(I,8)),D=v,L=0;L<M.length;L+=8){var q=Math.min(8,M.length-L),V=parseInt(M.substring(L,L+q),I);8>q?(q=h(Math.pow(I,q)),D=D.j(q).add(h(V))):(D=D.j(P),D=D.add(h(V)))}return D}var v=f(0),_=f(1),x=f(16777216);n=u.prototype,n.m=function(){if(A(this))return-C(this).m();for(var M=0,I=1,P=0;P<this.g.length;P++){var D=this.i(P);M+=(0<=D?D:4294967296+D)*I,I*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(w(this))return"0";if(A(this))return"-"+C(this).toString(M);for(var I=h(Math.pow(M,6)),P=this,D="";;){var L=Y(P,I).g;P=j(P,L.j(I));var q=((0<P.g.length?P.g[0]:P.h)>>>0).toString(M);if(P=L,w(P))return q+D;for(;6>q.length;)q="0"+q;D=q+D}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function w(M){if(M.h!=0)return!1;for(var I=0;I<M.g.length;I++)if(M.g[I]!=0)return!1;return!0}function A(M){return M.h==-1}n.l=function(M){return M=j(this,M),A(M)?-1:w(M)?0:1};function C(M){for(var I=M.g.length,P=[],D=0;D<I;D++)P[D]=~M.g[D];return new u(P,~M.h).add(_)}n.abs=function(){return A(this)?C(this):this},n.add=function(M){for(var I=Math.max(this.g.length,M.g.length),P=[],D=0,L=0;L<=I;L++){var q=D+(this.i(L)&65535)+(M.i(L)&65535),V=(q>>>16)+(this.i(L)>>>16)+(M.i(L)>>>16);D=V>>>16,q&=65535,V&=65535,P[L]=V<<16|q}return new u(P,P[P.length-1]&-2147483648?-1:0)};function j(M,I){return M.add(C(I))}n.j=function(M){if(w(this)||w(M))return v;if(A(this))return A(M)?C(this).j(C(M)):C(C(this).j(M));if(A(M))return C(this.j(C(M)));if(0>this.l(x)&&0>M.l(x))return h(this.m()*M.m());for(var I=this.g.length+M.g.length,P=[],D=0;D<2*I;D++)P[D]=0;for(D=0;D<this.g.length;D++)for(var L=0;L<M.g.length;L++){var q=this.i(D)>>>16,V=this.i(D)&65535,be=M.i(L)>>>16,we=M.i(L)&65535;P[2*D+2*L]+=V*we,U(P,2*D+2*L),P[2*D+2*L+1]+=q*we,U(P,2*D+2*L+1),P[2*D+2*L+1]+=V*be,U(P,2*D+2*L+1),P[2*D+2*L+2]+=q*be,U(P,2*D+2*L+2)}for(D=0;D<I;D++)P[D]=P[2*D+1]<<16|P[2*D];for(D=I;D<2*I;D++)P[D]=0;return new u(P,0)};function U(M,I){for(;(M[I]&65535)!=M[I];)M[I+1]+=M[I]>>>16,M[I]&=65535,I++}function F(M,I){this.g=M,this.h=I}function Y(M,I){if(w(I))throw Error("division by zero");if(w(M))return new F(v,v);if(A(M))return I=Y(C(M),I),new F(C(I.g),C(I.h));if(A(I))return I=Y(M,C(I)),new F(C(I.g),I.h);if(30<M.g.length){if(A(M)||A(I))throw Error("slowDivide_ only works with positive integers.");for(var P=_,D=I;0>=D.l(M);)P=X(P),D=X(D);var L=de(P,1),q=de(D,1);for(D=de(D,2),P=de(P,2);!w(D);){var V=q.add(D);0>=V.l(M)&&(L=L.add(P),q=V),D=de(D,1),P=de(P,1)}return I=j(M,L.j(I)),new F(L,I)}for(L=v;0<=M.l(I);){for(P=Math.max(1,Math.floor(M.m()/I.m())),D=Math.ceil(Math.log(P)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),q=h(P),V=q.j(I);A(V)||0<V.l(M);)P-=D,q=h(P),V=q.j(I);w(q)&&(q=_),L=L.add(q),M=j(M,V)}return new F(L,M)}n.A=function(M){return Y(this,M).h},n.and=function(M){for(var I=Math.max(this.g.length,M.g.length),P=[],D=0;D<I;D++)P[D]=this.i(D)&M.i(D);return new u(P,this.h&M.h)},n.or=function(M){for(var I=Math.max(this.g.length,M.g.length),P=[],D=0;D<I;D++)P[D]=this.i(D)|M.i(D);return new u(P,this.h|M.h)},n.xor=function(M){for(var I=Math.max(this.g.length,M.g.length),P=[],D=0;D<I;D++)P[D]=this.i(D)^M.i(D);return new u(P,this.h^M.h)};function X(M){for(var I=M.g.length+1,P=[],D=0;D<I;D++)P[D]=M.i(D)<<1|M.i(D-1)>>>31;return new u(P,M.h)}function de(M,I){var P=I>>5;I%=32;for(var D=M.g.length-P,L=[],q=0;q<D;q++)L[q]=0<I?M.i(q+P)>>>I|M.i(q+P+1)<<32-I:M.i(q+P);return new u(L,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,oR=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=h,u.fromString=p,Ls=u}).apply(typeof wx<"u"?wx:typeof self<"u"?self:typeof window<"u"?window:{});var jf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lR,ic,uR,Yf,xy,cR,dR,fR;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,E,S){return m==Array.prototype||m==Object.prototype||(m[E]=S.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof jf=="object"&&jf];for(var E=0;E<m.length;++E){var S=m[E];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function a(m,E){if(E)e:{var S=r;m=m.split(".");for(var O=0;O<m.length-1;O++){var Z=m[O];if(!(Z in S))break e;S=S[Z]}m=m[m.length-1],O=S[m],E=E(O),E!=O&&E!=null&&e(S,m,{configurable:!0,writable:!0,value:E})}}function o(m,E){m instanceof String&&(m+="");var S=0,O=!1,Z={next:function(){if(!O&&S<m.length){var se=S++;return{value:E(se,m[se]),done:!1}}return O=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}a("Array.prototype.values",function(m){return m||function(){return o(this,function(E,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(m){var E=typeof m;return E=E!="object"?E:m?Array.isArray(m)?"array":E:"null",E=="array"||E=="object"&&typeof m.length=="number"}function h(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function p(m,E,S){return m.call.apply(m.bind,arguments)}function v(m,E,S){if(!m)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,O),m.apply(E,Z)}}return function(){return m.apply(E,arguments)}}function _(m,E,S){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:v,_.apply(null,arguments)}function x(m,E){var S=Array.prototype.slice.call(arguments,1);return function(){var O=S.slice();return O.push.apply(O,arguments),m.apply(this,O)}}function w(m,E){function S(){}S.prototype=E.prototype,m.aa=E.prototype,m.prototype=new S,m.prototype.constructor=m,m.Qb=function(O,Z,se){for(var pe=Array(arguments.length-2),He=2;He<arguments.length;He++)pe[He-2]=arguments[He];return E.prototype[Z].apply(O,pe)}}function A(m){const E=m.length;if(0<E){const S=Array(E);for(let O=0;O<E;O++)S[O]=m[O];return S}return[]}function C(m,E){for(let S=1;S<arguments.length;S++){const O=arguments[S];if(f(O)){const Z=m.length||0,se=O.length||0;m.length=Z+se;for(let pe=0;pe<se;pe++)m[Z+pe]=O[pe]}else m.push(O)}}class j{constructor(E,S){this.i=E,this.j=S,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function U(m){return/^[\s\xa0]*$/.test(m)}function F(){var m=d.navigator;return m&&(m=m.userAgent)?m:""}function Y(m){return Y[" "](m),m}Y[" "]=function(){};var X=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function de(m,E,S){for(const O in m)E.call(S,m[O],O,m)}function M(m,E){for(const S in m)E.call(void 0,m[S],S,m)}function I(m){const E={};for(const S in m)E[S]=m[S];return E}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(m,E){let S,O;for(let Z=1;Z<arguments.length;Z++){O=arguments[Z];for(S in O)m[S]=O[S];for(let se=0;se<P.length;se++)S=P[se],Object.prototype.hasOwnProperty.call(O,S)&&(m[S]=O[S])}}function L(m){var E=1;m=m.split(":");const S=[];for(;0<E&&m.length;)S.push(m.shift()),E--;return m.length&&S.push(m.join(":")),S}function q(m){d.setTimeout(()=>{throw m},0)}function V(){var m=ee;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class be{constructor(){this.h=this.g=null}add(E,S){const O=we.get();O.set(E,S),this.h?this.h.next=O:this.g=O,this.h=O}}var we=new j(()=>new W,m=>m.reset());class W{constructor(){this.next=this.g=this.h=null}set(E,S){this.h=E,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,me=!1,ee=new be,N=()=>{const m=d.Promise.resolve(void 0);oe=()=>{m.then($)}};var $=()=>{for(var m;m=V();){try{m.h.call(m.g)}catch(S){q(S)}var E=we;E.j(m),100>E.h&&(E.h++,m.next=E.g,E.g=m)}me=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var H=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const S=()=>{};d.addEventListener("test",S,E),d.removeEventListener("test",S,E)}catch{}return m}();function ie(m,E){if(K.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var S=this.type=m.type,O=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget){if(X){e:{try{Y(E.nodeName);var Z=!0;break e}catch{}Z=!1}Z||(E=null)}}else S=="mouseover"?E=m.fromElement:S=="mouseout"&&(E=m.toElement);this.relatedTarget=E,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:ae[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&ie.aa.h.call(this)}}w(ie,K);var ae={2:"touch",3:"pen",4:"mouse"};ie.prototype.h=function(){ie.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),ye=0;function Oe(m,E,S,O,Z){this.listener=m,this.proxy=null,this.src=E,this.type=S,this.capture=!!O,this.ha=Z,this.key=++ye,this.da=this.fa=!1}function lt(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Zt(m){this.src=m,this.g={},this.h=0}Zt.prototype.add=function(m,E,S,O,Z){var se=m.toString();m=this.g[se],m||(m=this.g[se]=[],this.h++);var pe=gr(m,E,O,Z);return-1<pe?(E=m[pe],S||(E.fa=!1)):(E=new Oe(E,this.src,se,!!O,Z),E.fa=S,m.push(E)),E};function fn(m,E){var S=E.type;if(S in m.g){var O=m.g[S],Z=Array.prototype.indexOf.call(O,E,void 0),se;(se=0<=Z)&&Array.prototype.splice.call(O,Z,1),se&&(lt(E),m.g[S].length==0&&(delete m.g[S],m.h--))}}function gr(m,E,S,O){for(var Z=0;Z<m.length;++Z){var se=m[Z];if(!se.da&&se.listener==E&&se.capture==!!S&&se.ha==O)return Z}return-1}var yr="closure_lm_"+(1e6*Math.random()|0),Pr={};function Xi(m,E,S,O,Z){if(Array.isArray(E)){for(var se=0;se<E.length;se++)Xi(m,E[se],S,O,Z);return null}return S=oo(S),m&&m[ge]?m.K(E,S,h(O)?!!O.capture:!1,Z):Jt(m,E,S,!1,O,Z)}function Jt(m,E,S,O,Z,se){if(!E)throw Error("Invalid event type");var pe=h(Z)?!!Z.capture:!!Z,He=Wi(m);if(He||(m[yr]=He=new Zt(m)),S=He.add(E,S,O,pe,se),S.proxy)return S;if(O=ea(),S.proxy=O,O.src=m,O.listener=S,m.addEventListener)H||(Z=pe),Z===void 0&&(Z=!1),m.addEventListener(E.toString(),O,Z);else if(m.attachEvent)m.attachEvent(li(E.toString()),O);else if(m.addListener&&m.removeListener)m.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return S}function ea(){function m(S){return E.call(m.src,m.listener,S)}const E=ao;return m}function oi(m,E,S,O,Z){if(Array.isArray(E))for(var se=0;se<E.length;se++)oi(m,E[se],S,O,Z);else O=h(O)?!!O.capture:!!O,S=oo(S),m&&m[ge]?(m=m.i,E=String(E).toString(),E in m.g&&(se=m.g[E],S=gr(se,S,O,Z),-1<S&&(lt(se[S]),Array.prototype.splice.call(se,S,1),se.length==0&&(delete m.g[E],m.h--)))):m&&(m=Wi(m))&&(E=m.g[E.toString()],m=-1,E&&(m=gr(E,S,O,Z)),(S=-1<m?E[m]:null)&&Qn(S))}function Qn(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[ge])fn(E.i,m);else{var S=m.type,O=m.proxy;E.removeEventListener?E.removeEventListener(S,O,m.capture):E.detachEvent?E.detachEvent(li(S),O):E.addListener&&E.removeListener&&E.removeListener(O),(S=Wi(E))?(fn(S,m),S.h==0&&(S.src=null,E[yr]=null)):lt(m)}}}function li(m){return m in Pr?Pr[m]:Pr[m]="on"+m}function ao(m,E){if(m.da)m=!0;else{E=new ie(E,this);var S=m.listener,O=m.ha||m.src;m.fa&&Qn(m),m=S.call(O,E)}return m}function Wi(m){return m=m[yr],m instanceof Zt?m:null}var ta="__closure_events_fn_"+(1e9*Math.random()>>>0);function oo(m){return typeof m=="function"?m:(m[ta]||(m[ta]=function(E){return m.handleEvent(E)}),m[ta])}function bt(){B.call(this),this.i=new Zt(this),this.M=this,this.F=null}w(bt,B),bt.prototype[ge]=!0,bt.prototype.removeEventListener=function(m,E,S,O){oi(this,m,E,S,O)};function et(m,E){var S,O=m.F;if(O)for(S=[];O;O=O.F)S.push(O);if(m=m.M,O=E.type||E,typeof E=="string")E=new K(E,m);else if(E instanceof K)E.target=E.target||m;else{var Z=E;E=new K(O,m),D(E,Z)}if(Z=!0,S)for(var se=S.length-1;0<=se;se--){var pe=E.g=S[se];Z=On(pe,O,!0,E)&&Z}if(pe=E.g=m,Z=On(pe,O,!0,E)&&Z,Z=On(pe,O,!1,E)&&Z,S)for(se=0;se<S.length;se++)pe=E.g=S[se],Z=On(pe,O,!1,E)&&Z}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var m=this.i,E;for(E in m.g){for(var S=m.g[E],O=0;O<S.length;O++)lt(S[O]);delete m.g[E],m.h--}}this.F=null},bt.prototype.K=function(m,E,S,O){return this.i.add(String(m),E,!1,S,O)},bt.prototype.L=function(m,E,S,O){return this.i.add(String(m),E,!0,S,O)};function On(m,E,S,O){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();for(var Z=!0,se=0;se<E.length;++se){var pe=E[se];if(pe&&!pe.da&&pe.capture==S){var He=pe.listener,Ut=pe.ha||pe.src;pe.fa&&fn(m.i,pe),Z=He.call(Ut,O)!==!1&&Z}}return Z&&!O.defaultPrevented}function hn(m,E,S){if(typeof m=="function")S&&(m=_(m,S));else if(m&&typeof m.handleEvent=="function")m=_(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:d.setTimeout(m,E||0)}function ad(m){m.g=hn(()=>{m.g=null,m.i&&(m.i=!1,ad(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class ym extends B{constructor(E,S){super(),this.m=E,this.l=S,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:ad(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function na(m){B.call(this),this.h=m,this.g={}}w(na,B);var ra=[];function ia(m){de(m.g,function(E,S){this.g.hasOwnProperty(S)&&Qn(E)},m),m.g={}}na.prototype.N=function(){na.aa.N.call(this),ia(this)},na.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vr=d.JSON.stringify,lo=d.JSON.parse,sa=class{stringify(m){return d.JSON.stringify(m,void 0)}parse(m){return d.JSON.parse(m,void 0)}};function ql(){}ql.prototype.h=null;function Hl(m){return m.h||(m.h=m.i())}function Gl(){}var ui={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ci(){K.call(this,"d")}w(ci,K);function Kl(){K.call(this,"c")}w(Kl,K);var kr={},Ql=null;function Zi(){return Ql=Ql||new bt}kr.La="serverreachability";function uo(m){K.call(this,kr.La,m)}w(uo,K);function Ji(m){const E=Zi();et(E,new uo(E))}kr.STAT_EVENT="statevent";function od(m,E){K.call(this,kr.STAT_EVENT,m),this.stat=E}w(od,K);function ht(m){const E=Zi();et(E,new od(E,m))}kr.Ma="timingevent";function Vt(m,E){K.call(this,kr.Ma,m),this.size=E}w(Vt,K);function It(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){m()},E)}function Yn(){this.g=!0}Yn.prototype.xa=function(){this.g=!1};function Yl(m,E,S,O,Z,se){m.info(function(){if(m.g)if(se)for(var pe="",He=se.split("&"),Ut=0;Ut<He.length;Ut++){var Ge=He[Ut].split("=");if(1<Ge.length){var Ht=Ge[0];Ge=Ge[1];var Ft=Ht.split("_");pe=2<=Ft.length&&Ft[1]=="type"?pe+(Ht+"="+Ge+"&"):pe+(Ht+"=redacted&")}}else pe=null;else pe=se;return"XMLHTTP REQ ("+O+") [attempt "+Z+"]: "+E+`
`+S+`
`+pe})}function vm(m,E,S,O,Z,se,pe){m.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+Z+"]: "+E+`
`+S+`
`+se+" "+pe})}function es(m,E,S,O){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+aa(m,S)+(O?" "+O:"")})}function ld(m,E){m.info(function(){return"TIMEOUT: "+E})}Yn.prototype.info=function(){};function aa(m,E){if(!m.g)return E;if(!E)return null;try{var S=JSON.parse(E);if(S){for(m=0;m<S.length;m++)if(Array.isArray(S[m])){var O=S[m];if(!(2>O.length)){var Z=O[1];if(Array.isArray(Z)&&!(1>Z.length)){var se=Z[0];if(se!="noop"&&se!="stop"&&se!="close")for(var pe=1;pe<Z.length;pe++)Z[pe]=""}}}}return vr(S)}catch{return E}}var ts={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dr;function Or(){}w(Or,ql),Or.prototype.g=function(){return new XMLHttpRequest},Or.prototype.i=function(){return{}},Dr=new Or;function wn(m,E,S,O){this.j=m,this.i=E,this.l=S,this.R=O||1,this.U=new na(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tt}function Tt(){this.i=null,this.g="",this.h=!1}var Xl={},co={};function br(m,E,S){m.L=1,m.v=da(Mn(E)),m.m=S,m.P=!0,fi(m,null)}function fi(m,E){m.F=Date.now(),oa(m),m.A=Mn(m.v);var S=m.A,O=m.R;Array.isArray(O)||(O=[String(O)]),nu(S.i,"t",O),m.C=0,S=m.j.J,m.h=new Tt,m.g=Td(m.j,S?E:null,!m.m),0<m.O&&(m.M=new ym(_(m.Y,m,m.g),m.O)),E=m.U,S=m.g,O=m.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(ra[0]=Z.toString()),Z=ra);for(var se=0;se<Z.length;se++){var pe=Xi(S,Z[se],O||E.handleEvent,!1,E.h||E);if(!pe)break;E.g[pe.key]=pe}E=m.H?I(m.H):{},m.m?(m.u||(m.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,E)):(m.u="GET",m.g.ea(m.A,m.u,null,E)),Ji(),Yl(m.i,m.u,m.A,m.l,m.R,m.m)}wn.prototype.ca=function(m){m=m.target;const E=this.M;E&&Jn(m)==3?E.j():this.Y(m)},wn.prototype.Y=function(m){try{if(m==this.g)e:{const Ft=Jn(this.g);var E=this.g.Ba();const _i=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||gd(this.g)))){this.J||Ft!=4||E==7||(E==8||0>=_i?Ji(3):Ji(2)),ns(this);var S=this.g.Z();this.X=S;t:if(ud(this)){var O=gd(this.g);m="";var Z=O.length,se=Jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),Mr(this);var pe="";break t}this.h.i=new d.TextDecoder}for(E=0;E<Z;E++)this.h.h=!0,m+=this.h.i.decode(O[E],{stream:!(se&&E==Z-1)});O.length=0,this.h.g+=m,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=S==200,vm(this.i,this.u,this.A,this.l,this.R,Ft,S),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Ut=this.g;if((He=Ut.g?Ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(He)){var Ge=He;break t}}Ge=null}if(S=Ge)es(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,la(this,S);else{this.o=!1,this.s=3,ht(12),en(this),Mr(this);break e}}if(this.P){S=!0;let tn;for(;!this.J&&this.C<pe.length;)if(tn=cd(this,pe),tn==co){Ft==4&&(this.s=4,ht(14),S=!1),es(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==Xl){this.s=4,ht(15),es(this.i,this.l,pe,"[Invalid Chunk]"),S=!1;break}else es(this.i,this.l,tn,null),la(this,tn);if(ud(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||pe.length!=0||this.h.h||(this.s=1,ht(16),S=!1),this.o=this.o&&S,!S)es(this.i,this.l,pe,"[Invalid Chunked Response]"),en(this),Mr(this);else if(0<pe.length&&!this.W){this.W=!0;var Ht=this.j;Ht.g==this&&Ht.ba&&!Ht.M&&(Ht.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),ba(Ht),Ht.M=!0,ht(11))}}else es(this.i,this.l,pe,null),la(this,pe);Ft==4&&en(this),this.o&&!this.J&&(Ft==4?wd(this.j,this):(this.o=!1,oa(this)))}else xm(this.g),S==400&&0<pe.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),en(this),Mr(this)}}}catch{}finally{}};function ud(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function cd(m,E){var S=m.C,O=E.indexOf(`
`,S);return O==-1?co:(S=Number(E.substring(S,O)),isNaN(S)?Xl:(O+=1,O+S>E.length?co:(E=E.slice(O,O+S),m.C=O+S,E)))}wn.prototype.cancel=function(){this.J=!0,en(this)};function oa(m){m.S=Date.now()+m.I,dd(m,m.I)}function dd(m,E){if(m.B!=null)throw Error("WatchDog timer not null");m.B=It(_(m.ba,m),E)}function ns(m){m.B&&(d.clearTimeout(m.B),m.B=null)}wn.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(ld(this.i,this.A),this.L!=2&&(Ji(),ht(17)),en(this),this.s=2,Mr(this)):dd(this,this.S-m)};function Mr(m){m.j.G==0||m.J||wd(m.j,m)}function en(m){ns(m);var E=m.M;E&&typeof E.ma=="function"&&E.ma(),m.M=null,ia(m.U),m.g&&(E=m.g,m.g=null,E.abort(),E.ma())}function la(m,E){try{var S=m.j;if(S.G!=0&&(S.g==m||Wl(S.h,m))){if(!m.K&&Wl(S.h,m)&&S.G==3){try{var O=S.Da.g.parse(E)}catch{O=null}if(Array.isArray(O)&&O.length==3){var Z=O;if(Z[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<m.F)xo(S),wo(S);else break e;ou(S),ht(18)}}else S.za=Z[1],0<S.za-S.T&&37500>Z[2]&&S.F&&S.v==0&&!S.C&&(S.C=It(_(S.Za,S),6e3));if(1>=ho(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else bi(S,11)}else if((m.K||S.g==m)&&xo(S),!U(E))for(Z=S.Da.g.parse(E),E=0;E<Z.length;E++){let Ge=Z[E];if(S.T=Ge[0],Ge=Ge[1],S.G==2)if(Ge[0]=="c"){S.K=Ge[1],S.ia=Ge[2];const Ht=Ge[3];Ht!=null&&(S.la=Ht,S.j.info("VER="+S.la));const Ft=Ge[4];Ft!=null&&(S.Aa=Ft,S.j.info("SVER="+S.Aa));const _i=Ge[5];_i!=null&&typeof _i=="number"&&0<_i&&(O=1.5*_i,S.L=O,S.j.info("backChannelRequestTimeoutMs_="+O)),O=S;const tn=m.g;if(tn){const Br=tn.g?tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Br){var se=O.h;se.g||Br.indexOf("spdy")==-1&&Br.indexOf("quic")==-1&&Br.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(mo(se,se.h),se.h=null))}if(O.D){const uu=tn.g?tn.g.getResponseHeader("X-HTTP-Session-Id"):null;uu&&(O.ya=uu,rt(O.I,O.D,uu))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-m.F,S.j.info("Handshake RTT: "+S.R+"ms")),O=S;var pe=m;if(O.qa=xd(O,O.J?O.ia:null,O.W),pe.K){En(O.h,pe);var He=pe,Ut=O.L;Ut&&(He.I=Ut),He.B&&(ns(He),oa(He)),O.g=pe}else bd(O);0<S.i.length&&Eo(S)}else Ge[0]!="stop"&&Ge[0]!="close"||bi(S,7);else S.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?bi(S,7):su(S):Ge[0]!="noop"&&S.l&&S.l.ta(Ge),S.v=0)}}Ji(4)}catch{}}var fd=class{constructor(m,E){this.g=m,this.map=E}};function hi(m){this.l=m||10,d.PerformanceNavigationTiming?(m=d.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fo(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function ho(m){return m.h?1:m.g?m.g.size:0}function Wl(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function mo(m,E){m.g?m.g.add(E):m.h=E}function En(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}hi.prototype.cancel=function(){if(this.i=Zl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Zl(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const S of m.g.values())E=E.concat(S.D);return E}return A(m.i)}function bm(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(f(m)){for(var E=[],S=m.length,O=0;O<S;O++)E.push(m[O]);return E}E=[],S=0;for(O in m)E[S++]=m[O];return E}function po(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(f(m)||typeof m=="string"){var E=[];m=m.length;for(var S=0;S<m;S++)E.push(S);return E}E=[],S=0;for(const O in m)E[S++]=O;return E}}}function Jl(m,E){if(m.forEach&&typeof m.forEach=="function")m.forEach(E,void 0);else if(f(m)||typeof m=="string")Array.prototype.forEach.call(m,E,void 0);else for(var S=po(m),O=bm(m),Z=O.length,se=0;se<Z;se++)E.call(void 0,O[se],S&&S[se],m)}var ua=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _m(m,E){if(m){m=m.split("&");for(var S=0;S<m.length;S++){var O=m[S].indexOf("="),Z=null;if(0<=O){var se=m[S].substring(0,O);Z=m[S].substring(O+1)}else se=m[S];E(se,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function Pt(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Pt){this.h=m.h,ca(this,m.j),this.o=m.o,this.g=m.g,rs(this,m.s),this.l=m.l;var E=m.i,S=new pi;S.i=E.i,E.g&&(S.g=new Map(E.g),S.h=E.h),mi(this,S),this.m=m.m}else m&&(E=String(m).match(ua))?(this.h=!1,ca(this,E[1]||"",!0),this.o=Xn(E[2]||""),this.g=Xn(E[3]||"",!0),rs(this,E[4]),this.l=Xn(E[5]||"",!0),mi(this,E[6]||"",!0),this.m=Xn(E[7]||"")):(this.h=!1,this.i=new pi(null,this.h))}Pt.prototype.toString=function(){var m=[],E=this.j;E&&m.push(fa(E,eu,!0),":");var S=this.g;return(S||E=="file")&&(m.push("//"),(E=this.o)&&m.push(fa(E,eu,!0),"@"),m.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&m.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&m.push("/"),m.push(fa(S,S.charAt(0)=="/"?wm:tu,!0))),(S=this.i.toString())&&m.push("?",S),(S=this.m)&&m.push("#",fa(S,go)),m.join("")};function Mn(m){return new Pt(m)}function ca(m,E,S){m.j=S?Xn(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function rs(m,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);m.s=E}else m.s=null}function mi(m,E,S){E instanceof pi?(m.i=E,md(m.i,m.h)):(S||(E=fa(E,Em)),m.i=new pi(E,m.h))}function rt(m,E,S){m.i.set(E,S)}function da(m){return rt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Xn(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function fa(m,E,S){return typeof m=="string"?(m=encodeURI(m).replace(E,hd),S&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function hd(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var eu=/[#\/\?@]/g,tu=/[#\?:]/g,wm=/[#\?]/g,Em=/[#\?@]/g,go=/#/g;function pi(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function Wn(m){m.g||(m.g=new Map,m.h=0,m.i&&_m(m.i,function(E,S){m.add(decodeURIComponent(E.replace(/\+/g," ")),S)}))}n=pi.prototype,n.add=function(m,E){Wn(this),this.i=null,m=jr(this,m);var S=this.g.get(m);return S||this.g.set(m,S=[]),S.push(E),this.h+=1,this};function gi(m,E){Wn(m),E=jr(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function yi(m,E){return Wn(m),E=jr(m,E),m.g.has(E)}n.forEach=function(m,E){Wn(this),this.g.forEach(function(S,O){S.forEach(function(Z){m.call(E,Z,O,this)},this)},this)},n.na=function(){Wn(this);const m=Array.from(this.g.values()),E=Array.from(this.g.keys()),S=[];for(let O=0;O<E.length;O++){const Z=m[O];for(let se=0;se<Z.length;se++)S.push(E[O])}return S},n.V=function(m){Wn(this);let E=[];if(typeof m=="string")yi(this,m)&&(E=E.concat(this.g.get(jr(this,m))));else{m=Array.from(this.g.values());for(let S=0;S<m.length;S++)E=E.concat(m[S])}return E},n.set=function(m,E){return Wn(this),this.i=null,m=jr(this,m),yi(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},n.get=function(m,E){return m?(m=this.V(m),0<m.length?String(m[0]):E):E};function nu(m,E,S){gi(m,E),0<S.length&&(m.i=null,m.g.set(jr(m,E),A(S)),m.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(var S=0;S<E.length;S++){var O=E[S];const se=encodeURIComponent(String(O)),pe=this.V(O);for(O=0;O<pe.length;O++){var Z=se;pe[O]!==""&&(Z+="="+encodeURIComponent(String(pe[O]))),m.push(Z)}}return this.i=m.join("&")};function jr(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function md(m,E){E&&!m.j&&(Wn(m),m.i=null,m.g.forEach(function(S,O){var Z=O.toLowerCase();O!=Z&&(gi(this,O),nu(this,Z,S))},m)),m.j=E}function ha(m,E){const S=new Yn;if(d.Image){const O=new Image;O.onload=x(Zn,S,"TestLoadImage: loaded",!0,E,O),O.onerror=x(Zn,S,"TestLoadImage: error",!1,E,O),O.onabort=x(Zn,S,"TestLoadImage: abort",!1,E,O),O.ontimeout=x(Zn,S,"TestLoadImage: timeout",!1,E,O),d.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=m}else E(!1)}function _r(m,E){const S=new Yn,O=new AbortController,Z=setTimeout(()=>{O.abort(),Zn(S,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:O.signal}).then(se=>{clearTimeout(Z),se.ok?Zn(S,"TestPingServer: ok",!0,E):Zn(S,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Z),Zn(S,"TestPingServer: error",!1,E)})}function Zn(m,E,S,O,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),O(S)}catch{}}function ma(){this.g=new sa}function Lr(m,E,S){const O=S||"";try{Jl(m,function(Z,se){let pe=Z;h(Z)&&(pe=vr(Z)),E.push(O+se+"="+encodeURIComponent(pe))})}catch(Z){throw E.push(O+"type="+encodeURIComponent("_badmap")),Z}}function is(m){this.l=m.Ub||null,this.j=m.eb||!1}w(is,ql),is.prototype.g=function(){return new vi(this.l,this.j)},is.prototype.i=function(m){return function(){return m}}({});function vi(m,E){bt.call(this),this.D=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(vi,bt),n=vi.prototype,n.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=E,this.readyState=1,Ur(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(E.body=m),(this.D||d).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vr(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Ur(this)),this.g&&(this.readyState=3,Ur(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ru(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function ru(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?Vr(this):Ur(this),this.readyState==3&&ru(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Vr(this))},n.Qa=function(m){this.g&&(this.response=m,Vr(this))},n.ga=function(){this.g&&Vr(this)};function Vr(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Ur(m)}n.setRequestHeader=function(m,E){this.u.append(m,E)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var S=E.next();!S.done;)S=S.value,m.push(S[0]+": "+S[1]),S=E.next();return m.join(`\r
`)};function Ur(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function iu(m){let E="";return de(m,function(S,O){E+=O,E+=":",E+=S,E+=`\r
`}),E}function qt(m,E,S){e:{for(O in S){var O=!1;break e}O=!0}O||(S=iu(S),typeof m=="string"?S!=null&&encodeURIComponent(String(S)):rt(m,E,S))}function Je(m){bt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Je,bt);var yo=/^https?$/i,pa=["POST","PUT"];n=Je.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,E,S,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dr.g(),this.v=this.o?Hl(this.o):Hl(Dr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(se){pd(this,se);return}if(m=S||"",S=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var Z in O)S.set(Z,O[Z]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const se of O.keys())S.set(se,O.get(se));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(S.keys()).find(se=>se.toLowerCase()=="content-type"),Z=d.FormData&&m instanceof d.FormData,!(0<=Array.prototype.indexOf.call(pa,E,void 0))||O||Z||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,pe]of S)this.g.setRequestHeader(se,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ga(this),this.u=!0,this.g.send(m),this.u=!1}catch(se){pd(this,se)}};function pd(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.m=5,vo(m),Fr(m)}function vo(m){m.A||(m.A=!0,et(m,"complete"),et(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,et(this,"complete"),et(this,"abort"),Fr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fr(this,!0)),Je.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?bo(this):this.bb())},n.bb=function(){bo(this)};function bo(m){if(m.h&&typeof u<"u"&&(!m.v[1]||Jn(m)!=4||m.Z()!=2)){if(m.u&&Jn(m)==4)hn(m.Ea,0,m);else if(et(m,"readystatechange"),Jn(m)==4){m.h=!1;try{const pe=m.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var S;if(!(S=E)){var O;if(O=pe===0){var Z=String(m.D).match(ua)[1]||null;!Z&&d.self&&d.self.location&&(Z=d.self.location.protocol.slice(0,-1)),O=!yo.test(Z?Z.toLowerCase():"")}S=O}if(S)et(m,"complete"),et(m,"success");else{m.m=6;try{var se=2<Jn(m)?m.g.statusText:""}catch{se=""}m.l=se+" ["+m.Z()+"]",vo(m)}}finally{Fr(m)}}}}function Fr(m,E){if(m.g){ga(m);const S=m.g,O=m.v[0]?()=>{}:null;m.g=null,m.v=null,E||et(m,"ready");try{S.onreadystatechange=O}catch{}}}function ga(m){m.I&&(d.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function Jn(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<Jn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),lo(E)}};function gd(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function xm(m){const E={};m=(m.g&&2<=Jn(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<m.length;O++){if(U(m[O]))continue;var S=L(m[O]);const Z=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const se=E[Z]||[];E[Z]=se,se.push(S)}M(E,function(O){return O.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ya(m,E,S){return S&&S.internalChannelParams&&S.internalChannelParams[m]||E}function _o(m){this.Aa=0,this.i=[],this.j=new Yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ya("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ya("baseRetryDelayMs",5e3,m),this.cb=ya("retryDelaySeedMs",1e4,m),this.Wa=ya("forwardChannelMaxRetries",2,m),this.wa=ya("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new hi(m&&m.concurrentRequestLimit),this.Da=new ma,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=_o.prototype,n.la=8,n.G=1,n.connect=function(m,E,S,O){ht(0),this.W=m,this.H=E||{},S&&O!==void 0&&(this.H.OSID=S,this.H.OAID=O),this.F=this.X,this.I=xd(this,null,this.W),Eo(this)};function su(m){if(yd(m),m.G==3){var E=m.U++,S=Mn(m.I);if(rt(S,"SID",m.K),rt(S,"RID",E),rt(S,"TYPE","terminate"),va(m,S),E=new wn(m,m.j,E),E.L=2,E.v=da(Mn(S)),S=!1,d.navigator&&d.navigator.sendBeacon)try{S=d.navigator.sendBeacon(E.v.toString(),"")}catch{}!S&&d.Image&&(new Image().src=E.v,S=!0),S||(E.g=Td(E.j,null),E.g.ea(E.v)),E.F=Date.now(),oa(E)}Ed(m)}function wo(m){m.g&&(ba(m),m.g.cancel(),m.g=null)}function yd(m){wo(m),m.u&&(d.clearTimeout(m.u),m.u=null),xo(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&d.clearTimeout(m.s),m.s=null)}function Eo(m){if(!fo(m.h)&&!m.s){m.s=!0;var E=m.Ga;oe||N(),me||(oe(),me=!0),ee.add(E,m),m.B=0}}function Tm(m,E){return ho(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=E.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=It(_(m.Ga,m,E),lu(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Z=new wn(this,this.j,m);let se=this.o;if(this.S&&(se?(se=I(se),D(se,this.S)):se=this.S),this.m!==null||this.O||(Z.H=se,se=null),this.P)e:{for(var E=0,S=0;S<this.i.length;S++){t:{var O=this.i[S];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(E+=O,4096<E){E=S;break e}if(E===4096||S===this.i.length-1){E=S+1;break e}}E=1e3}else E=1e3;E=vd(this,Z,E),S=Mn(this.I),rt(S,"RID",m),rt(S,"CVER",22),this.D&&rt(S,"X-HTTP-Session-Id",this.D),va(this,S),se&&(this.O?E="headers="+encodeURIComponent(String(iu(se)))+"&"+E:this.m&&qt(S,this.m,se)),mo(this.h,Z),this.Ua&&rt(S,"TYPE","init"),this.P?(rt(S,"$req",E),rt(S,"SID","null"),Z.T=!0,br(Z,S,null)):br(Z,S,E),this.G=2}}else this.G==3&&(m?au(this,m):this.i.length==0||fo(this.h)||au(this))};function au(m,E){var S;E?S=E.l:S=m.U++;const O=Mn(m.I);rt(O,"SID",m.K),rt(O,"RID",S),rt(O,"AID",m.T),va(m,O),m.m&&m.o&&qt(O,m.m,m.o),S=new wn(m,m.j,S,m.B+1),m.m===null&&(S.H=m.o),E&&(m.i=E.D.concat(m.i)),E=vd(m,S,1e3),S.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),mo(m.h,S),br(S,O,E)}function va(m,E){m.H&&de(m.H,function(S,O){rt(E,O,S)}),m.l&&Jl({},function(S,O){rt(E,O,S)})}function vd(m,E,S){S=Math.min(m.i.length,S);var O=m.l?_(m.l.Na,m.l,m):null;e:{var Z=m.i;let se=-1;for(;;){const pe=["count="+S];se==-1?0<S?(se=Z[0].g,pe.push("ofs="+se)):se=0:pe.push("ofs="+se);let He=!0;for(let Ut=0;Ut<S;Ut++){let Ge=Z[Ut].g;const Ht=Z[Ut].map;if(Ge-=se,0>Ge)se=Math.max(0,Z[Ut].g-100),He=!1;else try{Lr(Ht,pe,"req"+Ge+"_")}catch{O&&O(Ht)}}if(He){O=pe.join("&");break e}}}return m=m.i.splice(0,S),E.D=m,O}function bd(m){if(!m.g&&!m.u){m.Y=1;var E=m.Fa;oe||N(),me||(oe(),me=!0),ee.add(E,m),m.v=0}}function ou(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=It(_(m.Fa,m),lu(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,_d(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=It(_(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),wo(this),_d(this))};function ba(m){m.A!=null&&(d.clearTimeout(m.A),m.A=null)}function _d(m){m.g=new wn(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var E=Mn(m.qa);rt(E,"RID","rpc"),rt(E,"SID",m.K),rt(E,"AID",m.T),rt(E,"CI",m.F?"0":"1"),!m.F&&m.ja&&rt(E,"TO",m.ja),rt(E,"TYPE","xmlhttp"),va(m,E),m.m&&m.o&&qt(E,m.m,m.o),m.L&&(m.g.I=m.L);var S=m.g;m=m.ia,S.L=1,S.v=da(Mn(E)),S.m=null,S.P=!0,fi(S,m)}n.Za=function(){this.C!=null&&(this.C=null,wo(this),ou(this),ht(19))};function xo(m){m.C!=null&&(d.clearTimeout(m.C),m.C=null)}function wd(m,E){var S=null;if(m.g==E){xo(m),ba(m),m.g=null;var O=2}else if(Wl(m.h,E))S=E.D,En(m.h,E),O=1;else return;if(m.G!=0){if(E.o)if(O==1){S=E.m?E.m.length:0,E=Date.now()-E.F;var Z=m.B;O=Zi(),et(O,new Vt(O,S)),Eo(m)}else bd(m);else if(Z=E.s,Z==3||Z==0&&0<E.X||!(O==1&&Tm(m,E)||O==2&&ou(m)))switch(S&&0<S.length&&(E=m.h,E.i=E.i.concat(S)),Z){case 1:bi(m,5);break;case 4:bi(m,10);break;case 3:bi(m,6);break;default:bi(m,2)}}}function lu(m,E){let S=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(S*=2),S*E}function bi(m,E){if(m.j.info("Error code "+E),E==2){var S=_(m.fb,m),O=m.Xa;const Z=!O;O=new Pt(O||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ca(O,"https"),da(O),Z?ha(O.toString(),S):_r(O.toString(),S)}else ht(2);m.G=0,m.l&&m.l.sa(E),Ed(m),yd(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Ed(m){if(m.G=0,m.ka=[],m.l){const E=Zl(m.h);(E.length!=0||m.i.length!=0)&&(C(m.ka,E),C(m.ka,m.i),m.h.i.length=0,A(m.i),m.i.length=0),m.l.ra()}}function xd(m,E,S){var O=S instanceof Pt?Mn(S):new Pt(S);if(O.g!="")E&&(O.g=E+"."+O.g),rs(O,O.s);else{var Z=d.location;O=Z.protocol,E=E?E+"."+Z.hostname:Z.hostname,Z=+Z.port;var se=new Pt(null);O&&ca(se,O),E&&(se.g=E),Z&&rs(se,Z),S&&(se.l=S),O=se}return S=m.D,E=m.ya,S&&E&&rt(O,S,E),rt(O,"VER",m.la),va(m,O),O}function Td(m,E,S){if(E&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Ca&&!m.pa?new Je(new is({eb:S})):new Je(m.pa),E.Ha(m.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sd(){}n=Sd.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function To(){}To.prototype.g=function(m,E){return new xn(m,E)};function xn(m,E){bt.call(this),this.g=new _o(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(m?m["X-WebChannel-Client-Profile"]=E.va:m={"X-WebChannel-Client-Profile":E.va}),this.g.S=m,(m=E&&E.Sb)&&!U(m)&&(this.g.m=m),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!U(E)&&(this.g.D=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new $r(this)}w(xn,bt),xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){su(this.g)},xn.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var S={};S.__data__=m,m=S}else this.u&&(S={},S.__data__=vr(m),m=S);E.i.push(new fd(E.Ya++,m)),E.G==3&&Eo(E)},xn.prototype.N=function(){this.g.l=null,delete this.j,su(this.g),delete this.g,xn.aa.N.call(this)};function Rd(m){ci.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){e:{for(const S in E){m=S;break e}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}w(Rd,ci);function Ad(){Kl.call(this),this.status=1}w(Ad,Kl);function $r(m){this.g=m}w($r,Sd),$r.prototype.ua=function(){et(this.g,"a")},$r.prototype.ta=function(m){et(this.g,new Rd(m))},$r.prototype.sa=function(m){et(this.g,new Ad)},$r.prototype.ra=function(){et(this.g,"b")},To.prototype.createWebChannel=To.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,fR=function(){return new To},dR=function(){return Zi()},cR=kr,xy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ts.NO_ERROR=0,ts.TIMEOUT=8,ts.HTTP_ERROR=6,Yf=ts,di.COMPLETE="complete",uR=di,Gl.EventType=ui,ui.OPEN="a",ui.CLOSE="b",ui.ERROR="c",ui.MESSAGE="d",bt.prototype.listen=bt.prototype.K,ic=Gl,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,lR=Je}).apply(typeof jf<"u"?jf:typeof self<"u"?self:typeof window<"u"?window:{});const Ex="@firebase/firestore",xx="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ll="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=new hv("@firebase/firestore");function il(){return Wa.logLevel}function _e(n,...e){if(Wa.logLevel<=ze.DEBUG){const t=e.map(Av);Wa.debug(`Firestore (${Ll}): ${n}`,...t)}}function zi(n,...e){if(Wa.logLevel<=ze.ERROR){const t=e.map(Av);Wa.error(`Firestore (${Ll}): ${n}`,...t)}}function xl(n,...e){if(Wa.logLevel<=ze.WARN){const t=e.map(Av);Wa.warn(`Firestore (${Ll}): ${n}`,...t)}}function Av(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,hR(n,r,t)}function hR(n,e,t){let r=`FIRESTORE (${Ll}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw zi(r),new Error(r)}function Xe(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||hR(e,a,r)}function De(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Ki{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yn.UNAUTHENTICATED))}shutdown(){}}class WL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ZL{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xe(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new ti;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ti,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await a(this.currentUser)})},d=f=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ti)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string",31837,{l:r}),new mR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new yn(e)}}class JL{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class e6{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new JL(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Tx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t6{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ur(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Xe(this.o===void 0,3512);const r=o=>{o.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,_e("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const a=o=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Tx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Xe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Tx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n6(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=n6(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<t&&(r+=e.charAt(a[o]%62))}return r}}function Ve(n,e){return n<e?-1:n>e?1:0}function Ty(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),a=e.codePointAt(t);if(r!==a){if(r<128&&a<128)return Ve(r,a);{const o=pR(),u=r6(o.encode(Sx(n,t)),o.encode(Sx(e,t)));return u!==0?u:Ve(r,a)}}t+=r>65535?2:1}return Ve(n.length,e.length)}function Sx(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function r6(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ve(n[t],e[t]);return Ve(n.length,e.length)}function Tl(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=-62135596800,Ax=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Ax);return new yt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Rx)throw new ve(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ax}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Rx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new yt(0,0))}static max(){return new Ce(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx="__name__";class Yr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Se(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Yr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const o=Yr.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return Ve(e.length,t.length)}static compareSegments(e,t){const r=Yr.isNumericId(e),a=Yr.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Yr.extractNumericId(e).compare(Yr.extractNumericId(t)):Ty(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ls.fromString(e.substring(4,e.length-2))}}class ct extends Yr{construct(e,t,r){return new ct(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new ct(t)}static emptyPath(){return new ct([])}}const i6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Yr{construct(e,t,r){return new ln(e,t,r)}static isValidIdentifier(e){return i6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cx}static keyField(){return new ln([Cx])}static fromServerFormat(e){const t=[];let r="",a=0;const o=()=>{if(r.length===0)throw new ve(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new ve(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ve(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else d==="`"?(u=!u,a++):d!=="."||u?(r+=d,a++):(o(),a++)}if(o(),u)throw new ve(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(t)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(ct.fromString(e))}static fromName(e){return new Te(ct.fromString(e).popFirst(5))}static empty(){return new Te(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new ct(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=-1;function s6(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Ce.fromTimestamp(r===1e9?new yt(t+1,0):new yt(t,r));return new Bs(a,Te.empty(),e)}function a6(n){return new Bs(n.readTime,n.key,Nc)}class Bs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Bs(Ce.min(),Te.empty(),Nc)}static max(){return new Bs(Ce.max(),Te.empty(),Nc)}}function o6(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(n.documentKey,e.documentKey),t!==0?t:Ve(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class u6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==l6)throw n;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):he.reject(t)}static resolve(e){return new he((t,r)=>{t(e)})}static reject(e){return new he((t,r)=>{r(e)})}static waitFor(e){return new he((t,r)=>{let a=0,o=0,u=!1;e.forEach(d=>{++a,d.next(()=>{++o,u&&o===a&&t()},f=>r(f))}),u=!0,o===a&&t()})}static or(e){let t=he.resolve(!1);for(const r of e)t=t.next(a=>a?he.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,o)=>{r.push(t.call(this,a,o))}),this.waitFor(r)}static mapArray(e,t){return new he((r,a)=>{const o=e.length,u=new Array(o);let d=0;for(let f=0;f<o;f++){const h=f;t(e[h]).next(p=>{u[h]=p,++d,d===o&&r(u)},p=>a(p))}})}static doWhile(e,t){return new he((r,a)=>{const o=()=>{e()===!0?t().next(()=>{o()},a):r()};o()})}}function c6(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ul(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Wh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=-1;function Wc(n){return n==null}function bh(n){return n===0&&1/n==-1/0}function d6(n){return typeof n=="number"&&Number.isInteger(n)&&!bh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="";function f6(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Nx(e)),e=h6(n.get(t),e);return Nx(e)}function h6(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case yR:t+="";break;default:t+=o}}return t}function Nx(n){return n+yR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Zs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function vR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t){this.comparator=e,this.root=t||on.EMPTY}insert(e,t){return new vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lf(this.root,e,this.comparator,!0)}}class Lf{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,t,r,a,o){this.key=e,this.value=t,this.color=r??on.RED,this.left=a??on.EMPTY,this.right=o??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,o){return new on(e??this.key,t??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,r),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return on.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,r,a,o){return this}insert(e,t,r){return new on(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Px(this.data.getIterator())}getIteratorFrom(e){return new Px(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new zt(this.comparator);return t.data=e,t}}class Px{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new zn([])}unionWith(e){let t=new zt(ln.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Tl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new bR("Invalid base64 string: "+o):o}}(e);return new cn(t)}static fromUint8Array(e){const t=function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o}(e);return new cn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const m6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zs(n){if(Xe(!!n,39018),typeof n=="string"){let e=0;const t=m6.exec(n);if(Xe(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:At(n.seconds),nanos:At(n.nanos)}}function At(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function qs(n){return typeof n=="string"?cn.fromBase64String(n):cn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="server_timestamp",wR="__type__",ER="__previous_value__",xR="__local_write_time__";function Nv(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[wR])===null||t===void 0?void 0:t.stringValue)===_R}function Zh(n){const e=n.mapValue.fields[ER];return Nv(e)?Zh(e):e}function Ic(n){const e=zs(n.mapValue.fields[xR].timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e,t,r,a,o,u,d,f,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=p}}const _h="(default)";class Pc{constructor(e,t){this.projectId=e,this.database=t||_h}static empty(){return new Pc("","")}get isDefaultDatabase(){return this.database===_h}isEqual(e){return e instanceof Pc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="__type__",g6="__max__",Vf={mapValue:{}},SR="__vector__",wh="value";function Hs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Nv(n)?4:v6(n)?9007199254740991:y6(n)?10:11:Se(28295,{value:n})}function ii(n,e){if(n===e)return!0;const t=Hs(n);if(t!==Hs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ic(n).isEqual(Ic(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=zs(a.timestampValue),d=zs(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,o){return qs(a.bytesValue).isEqual(qs(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,o){return At(a.geoPointValue.latitude)===At(o.geoPointValue.latitude)&&At(a.geoPointValue.longitude)===At(o.geoPointValue.longitude)}(n,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return At(a.integerValue)===At(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=At(a.doubleValue),d=At(o.doubleValue);return u===d?bh(u)===bh(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return Tl(n.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(a,o){const u=a.mapValue.fields||{},d=o.mapValue.fields||{};if(Ix(u)!==Ix(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!ii(u[f],d[f])))return!1;return!0}(n,e);default:return Se(52216,{left:n})}}function kc(n,e){return(n.values||[]).find(t=>ii(t,e))!==void 0}function Sl(n,e){if(n===e)return 0;const t=Hs(n),r=Hs(e);if(t!==r)return Ve(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(n.booleanValue,e.booleanValue);case 2:return function(o,u){const d=At(o.integerValue||o.doubleValue),f=At(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return kx(n.timestampValue,e.timestampValue);case 4:return kx(Ic(n),Ic(e));case 5:return Ty(n.stringValue,e.stringValue);case 6:return function(o,u){const d=qs(o),f=qs(u);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const d=o.split("/"),f=u.split("/");for(let h=0;h<d.length&&h<f.length;h++){const p=Ve(d[h],f[h]);if(p!==0)return p}return Ve(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const d=Ve(At(o.latitude),At(u.latitude));return d!==0?d:Ve(At(o.longitude),At(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Dx(n.arrayValue,e.arrayValue);case 10:return function(o,u){var d,f,h,p;const v=o.fields||{},_=u.fields||{},x=(d=v[wh])===null||d===void 0?void 0:d.arrayValue,w=(f=_[wh])===null||f===void 0?void 0:f.arrayValue,A=Ve(((h=x==null?void 0:x.values)===null||h===void 0?void 0:h.length)||0,((p=w==null?void 0:w.values)===null||p===void 0?void 0:p.length)||0);return A!==0?A:Dx(x,w)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===Vf.mapValue&&u===Vf.mapValue)return 0;if(o===Vf.mapValue)return 1;if(u===Vf.mapValue)return-1;const d=o.fields||{},f=Object.keys(d),h=u.fields||{},p=Object.keys(h);f.sort(),p.sort();for(let v=0;v<f.length&&v<p.length;++v){const _=Ty(f[v],p[v]);if(_!==0)return _;const x=Sl(d[f[v]],h[p[v]]);if(x!==0)return x}return Ve(f.length,p.length)}(n.mapValue,e.mapValue);default:throw Se(23264,{Pe:t})}}function kx(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ve(n,e);const t=zs(n),r=zs(e),a=Ve(t.seconds,r.seconds);return a!==0?a:Ve(t.nanos,r.nanos)}function Dx(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const o=Sl(t[a],r[a]);if(o)return o}return Ve(t.length,r.length)}function Rl(n){return Sy(n)}function Sy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=zs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return qs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Te.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",a=!0;for(const o of t.values||[])a?a=!1:r+=",",r+=Sy(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const u of r)o?o=!1:a+=",",a+=`${u}:${Sy(t.fields[u])}`;return a+"}"}(n.mapValue):Se(61005,{value:n})}function Xf(n){switch(Hs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zh(n);return e?16+Xf(e):16;case 5:return 2*n.stringValue.length;case 6:return qs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,o)=>a+Xf(o),0)}(n.arrayValue);case 10:case 11:return function(r){let a=0;return Zs(r.fields,(o,u)=>{a+=o.length+Xf(u)}),a}(n.mapValue);default:throw Se(13486,{value:n})}}function Ox(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ry(n){return!!n&&"integerValue"in n}function Iv(n){return!!n&&"arrayValue"in n}function Mx(n){return!!n&&"nullValue"in n}function jx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Wf(n){return!!n&&"mapValue"in n}function y6(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[TR])===null||t===void 0?void 0:t.stringValue)===SR}function fc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Zs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=fc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=fc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function v6(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===g6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Wf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fc(t)}setAll(e){let t=ln.emptyPath(),r={},a=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,a),r={},a=[],t=d.popLast()}u?r[d.lastSegment()]=fc(u):a.push(d.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,a)}delete(e){const t=this.field(e.popLast());Wf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];Wf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Zs(t,(a,o)=>e[a]=o);for(const a of r)delete e[a]}clone(){return new Sn(fc(this.value))}}function RR(n){const e=[];return Zs(n.fields,(t,r)=>{const a=new ln([t]);if(Wf(r)){const o=RR(r.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,t,r,a,o,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=o,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Xt(e,0,Ce.min(),Ce.min(),Ce.min(),Sn.empty(),0)}static newFoundDocument(e,t,r,a){return new Xt(e,1,t,Ce.min(),r,a,0)}static newNoDocument(e,t){return new Xt(e,2,t,Ce.min(),Ce.min(),Sn.empty(),0)}static newUnknownDocument(e,t){return new Xt(e,3,t,Ce.min(),Ce.min(),Sn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,t){this.position=e,this.inclusive=t}}function Lx(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const o=e[a],u=n.position[a];if(o.field.isKeyField()?r=Te.comparator(Te.fromName(u.referenceValue),t.key):r=Sl(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Vx(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ii(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,t="asc"){this.field=e,this.dir=t}}function b6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{}class Mt extends AR{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new w6(e,t,r):t==="array-contains"?new T6(e,r):t==="in"?new S6(e,r):t==="not-in"?new R6(e,r):t==="array-contains-any"?new A6(e,r):new Mt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new E6(e,r):new x6(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Sl(t,this.value)):t!==null&&Hs(this.value)===Hs(t)&&this.matchesComparison(Sl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cr extends AR{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Cr(e,t)}matches(e){return CR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function CR(n){return n.op==="and"}function NR(n){return _6(n)&&CR(n)}function _6(n){for(const e of n.filters)if(e instanceof Cr)return!1;return!0}function Ay(n){if(n instanceof Mt)return n.field.canonicalString()+n.op.toString()+Rl(n.value);if(NR(n))return n.filters.map(e=>Ay(e)).join(",");{const e=n.filters.map(t=>Ay(t)).join(",");return`${n.op}(${e})`}}function IR(n,e){return n instanceof Mt?function(r,a){return a instanceof Mt&&r.op===a.op&&r.field.isEqual(a.field)&&ii(r.value,a.value)}(n,e):n instanceof Cr?function(r,a){return a instanceof Cr&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((o,u,d)=>o&&IR(u,a.filters[d]),!0):!1}(n,e):void Se(19439)}function PR(n){return n instanceof Mt?function(t){return`${t.field.canonicalString()} ${t.op} ${Rl(t.value)}`}(n):n instanceof Cr?function(t){return t.op.toString()+" {"+t.getFilters().map(PR).join(" ,")+"}"}(n):"Filter"}class w6 extends Mt{constructor(e,t,r){super(e,t,r),this.key=Te.fromName(r.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class E6 extends Mt{constructor(e,t){super(e,"in",t),this.keys=kR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class x6 extends Mt{constructor(e,t){super(e,"not-in",t),this.keys=kR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function kR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Te.fromName(r.referenceValue))}class T6 extends Mt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Iv(t)&&kc(t.arrayValue,this.value)}}class S6 extends Mt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&kc(this.value.arrayValue,t)}}class R6 extends Mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(kc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!kc(this.value.arrayValue,t)}}class A6 extends Mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Iv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>kc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e,t=null,r=[],a=[],o=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=u,this.endAt=d,this.Ie=null}}function Ux(n,e=null,t=[],r=[],a=null,o=null,u=null){return new C6(n,e,t,r,a,o,u)}function Pv(n){const e=De(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Ay(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Wc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Rl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Rl(r)).join(",")),e.Ie=t}return e.Ie}function kv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!b6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!IR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Vx(n.startAt,e.startAt)&&Vx(n.endAt,e.endAt)}function Cy(n){return Te.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,t=null,r=[],a=[],o=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=u,this.startAt=d,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function N6(n,e,t,r,a,o,u,d){return new Fl(n,e,t,r,a,o,u,d)}function Jh(n){return new Fl(n)}function Fx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function DR(n){return n.collectionGroup!==null}function hc(n){const e=De(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new zt(ln.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(h=>{h.isInequality()&&(d=d.add(h.field))})}),d})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Dc(o,r))}),t.has(ln.keyField().canonicalString())||e.Ee.push(new Dc(ln.keyField(),r))}return e.Ee}function ni(n){const e=De(n);return e.de||(e.de=I6(e,hc(n))),e.de}function I6(n,e){if(n.limitType==="F")return Ux(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new Dc(a.field,o)});const t=n.endAt?new Eh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Eh(n.startAt.position,n.startAt.inclusive):null;return Ux(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Ny(n,e){const t=n.filters.concat([e]);return new Fl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Iy(n,e,t){return new Fl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function em(n,e){return kv(ni(n),ni(e))&&n.limitType===e.limitType}function OR(n){return`${Pv(ni(n))}|lt:${n.limitType}`}function sl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(a=>PR(a)).join(", ")}]`),Wc(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>Rl(a)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>Rl(a)).join(",")),`Target(${r})`}(ni(n))}; limitType=${n.limitType})`}function tm(n,e){return e.isFoundDocument()&&function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Te.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,a){for(const o of hc(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0}(n,e)&&function(r,a){return!(r.startAt&&!function(u,d,f){const h=Lx(u,d,f);return u.inclusive?h<=0:h<0}(r.startAt,hc(r),a)||r.endAt&&!function(u,d,f){const h=Lx(u,d,f);return u.inclusive?h>=0:h>0}(r.endAt,hc(r),a))}(n,e)}function P6(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function MR(n){return(e,t)=>{let r=!1;for(const a of hc(n)){const o=k6(a,e,t);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function k6(n,e,t){const r=n.field.isKeyField()?Te.comparator(e.key,t.key):function(o,u,d){const f=u.data.field(o),h=d.data.field(o);return f!==null&&h!==null?Sl(f,h):Se(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Zs(this.inner,(t,r)=>{for(const[a,o]of r)e(a,o)})}isEmpty(){return vR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6=new vt(Te.comparator);function qi(){return D6}const jR=new vt(Te.comparator);function sc(...n){let e=jR;for(const t of n)e=e.insert(t.key,t);return e}function LR(n){let e=jR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ua(){return mc()}function VR(){return mc()}function mc(){return new ro(n=>n.toString(),(n,e)=>n.isEqual(e))}const O6=new vt(Te.comparator),M6=new zt(Te.comparator);function qe(...n){let e=M6;for(const t of n)e=e.add(t);return e}const j6=new zt(Ve);function L6(){return j6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bh(e)?"-0":e}}function UR(n){return{integerValue:""+n}}function V6(n,e){return d6(e)?UR(e):Dv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(){this._=void 0}}function U6(n,e,t){return n instanceof Oc?function(a,o){const u={fields:{[wR]:{stringValue:_R},[xR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Nv(o)&&(o=Zh(o)),o&&(u.fields[ER]=o),{mapValue:u}}(t,e):n instanceof Mc?$R(n,e):n instanceof jc?BR(n,e):function(a,o){const u=FR(a,o),d=$x(u)+$x(a.Re);return Ry(u)&&Ry(a.Re)?UR(d):Dv(a.serializer,d)}(n,e)}function F6(n,e,t){return n instanceof Mc?$R(n,e):n instanceof jc?BR(n,e):t}function FR(n,e){return n instanceof xh?function(r){return Ry(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Oc extends nm{}class Mc extends nm{constructor(e){super(),this.elements=e}}function $R(n,e){const t=zR(e);for(const r of n.elements)t.some(a=>ii(a,r))||t.push(r);return{arrayValue:{values:t}}}class jc extends nm{constructor(e){super(),this.elements=e}}function BR(n,e){let t=zR(e);for(const r of n.elements)t=t.filter(a=>!ii(a,r));return{arrayValue:{values:t}}}class xh extends nm{constructor(e,t){super(),this.serializer=e,this.Re=t}}function $x(n){return At(n.integerValue||n.doubleValue)}function zR(n){return Iv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e,t){this.field=e,this.transform=t}}function B6(n,e){return n.field.isEqual(e.field)&&function(r,a){return r instanceof Mc&&a instanceof Mc||r instanceof jc&&a instanceof jc?Tl(r.elements,a.elements,ii):r instanceof xh&&a instanceof xh?ii(r.Re,a.Re):r instanceof Oc&&a instanceof Oc}(n.transform,e.transform)}class z6{constructor(e,t){this.version=e,this.transformResults=t}}class jt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new jt}static exists(e){return new jt(void 0,e)}static updateTime(e){return new jt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class rm{}function qR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Jc(n.key,jt.none()):new Zc(n.key,n.data,jt.none());{const t=n.data,r=Sn.empty();let a=new zt(ln.comparator);for(let o of e.fields)if(!a.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),a=a.add(o)}return new Js(n.key,r,new zn(a.toArray()),jt.none())}}function q6(n,e,t){n instanceof Zc?function(a,o,u){const d=a.value.clone(),f=zx(a.fieldTransforms,o,u.transformResults);d.setAll(f),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Js?function(a,o,u){if(!Zf(a.precondition,o))return void o.convertToUnknownDocument(u.version);const d=zx(a.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(HR(a)),f.setAll(d),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function pc(n,e,t,r){return n instanceof Zc?function(o,u,d,f){if(!Zf(o.precondition,u))return d;const h=o.value.clone(),p=qx(o.fieldTransforms,f,u);return h.setAll(p),u.convertToFoundDocument(u.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof Js?function(o,u,d,f){if(!Zf(o.precondition,u))return d;const h=qx(o.fieldTransforms,f,u),p=u.data;return p.setAll(HR(o)),p.setAll(h),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(o,u,d){return Zf(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function H6(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),o=FR(r.transform,a||null);o!=null&&(t===null&&(t=Sn.empty()),t.set(r.field,o))}return t||null}function Bx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Tl(r,a,(o,u)=>B6(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Zc extends rm{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Js extends rm{constructor(e,t,r,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function HR(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function zx(n,e,t){const r=new Map;Xe(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const o=n[a],u=o.transform,d=e.data.field(o.field);r.set(o.field,F6(u,d,t[a]))}return r}function qx(n,e,t){const r=new Map;for(const a of n){const o=a.transform,u=t.data.field(a.field);r.set(a.field,U6(o,u,e))}return r}class Jc extends rm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GR extends rm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&q6(o,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=pc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=pc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=VR();return this.mutations.forEach(a=>{const o=e.get(a.key),u=o.overlayedDocument;let d=this.applyToLocalView(u,o.mutatedFields);d=t.has(a.key)?null:d;const f=qR(u,d);f!==null&&r.set(a.key,f),u.isValidDocument()||u.convertToNoDocument(Ce.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),qe())}isEqual(e){return this.batchId===e.batchId&&Tl(this.mutations,e.mutations,(t,r)=>Bx(t,r))&&Tl(this.baseMutations,e.baseMutations,(t,r)=>Bx(t,r))}}class Ov{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){Xe(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let a=function(){return O6}();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,r[u].version);return new Ov(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,Qe;function KR(n){switch(n){case ue.OK:return Se(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Se(15467,{code:n})}}function QR(n){if(n===void 0)return zi("GRPC error has no .code"),ue.UNKNOWN;switch(n){case Ot.OK:return ue.OK;case Ot.CANCELLED:return ue.CANCELLED;case Ot.UNKNOWN:return ue.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return ue.INTERNAL;case Ot.UNAVAILABLE:return ue.UNAVAILABLE;case Ot.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Ot.NOT_FOUND:return ue.NOT_FOUND;case Ot.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Ot.ABORTED:return ue.ABORTED;case Ot.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Ot.DATA_LOSS:return ue.DATA_LOSS;default:return Se(39323,{code:n})}}(Qe=Ot||(Ot={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=new Ls([4294967295,4294967295],0);function Hx(n){const e=pR().encode(n),t=new oR;return t.update(e),new Uint8Array(t.digest())}function Gx(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ls([t,r],0),new Ls([a,o],0)]}class Mv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ac(`Invalid padding: ${t}`);if(r<0)throw new ac(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ac(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ac(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Ls.fromNumber(this.pe)}we(e,t,r){let a=e.add(t.multiply(Ls.fromNumber(r)));return a.compare(Y6)===1&&(a=new Ls([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=Hx(e),[r,a]=Gx(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,a,o);if(!this.be(u))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Mv(o,a,t);return r.forEach(d=>u.insert(d)),u}insert(e){if(this.pe===0)return;const t=Hx(e),[r,a]=Gx(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,a,o);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,t,r,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,ed.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new im(Ce.min(),a,new vt(Ve),qi(),qe())}}class ed{constructor(e,t,r,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ed(r,t,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,t,r,a){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=a}}class YR{constructor(e,t){this.targetId=e,this.Ce=t}}class XR{constructor(e,t,r=cn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class Kx{constructor(){this.Fe=0,this.Me=Qx(),this.xe=cn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=qe(),t=qe(),r=qe();return this.Me.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Se(38017,{changeType:o})}}),new ed(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=Qx()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Xe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class X6{constructor(e){this.ze=e,this.je=new Map,this.He=qi(),this.Je=Uf(),this.Ye=Uf(),this.Ze=new vt(Ve)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,r=e.Ce.count,a=this._t(t);if(a){const o=a.target;if(Cy(o))if(r===0){const u=new Te(o.path);this.tt(t,u,Xt.newNoDocument(u,Ce.min()))}else Xe(r===1,20013,{expectedCount:r});else{const u=this.ut(t);if(u!==r){const d=this.ct(e),f=d?this.lt(d,e,u):1;if(f!==0){this.st(t);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,h)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=t;let u,d;try{u=qs(r).toUint8Array()}catch(f){if(f instanceof bR)return xl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new Mv(u,a,o)}catch(f){return xl(f instanceof ac?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.pe===0?null:d}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let a=0;return r.forEach(o=>{const u=this.ze.Pt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,o,null),a++)}),a}It(e){const t=new Map;this.je.forEach((o,u)=>{const d=this._t(u);if(d){if(o.current&&Cy(d.target)){const f=new Te(d.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,Xt.newNoDocument(f,e))}o.Le&&(t.set(u,o.qe()),o.Qe())}});let r=qe();this.Ye.forEach((o,u)=>{let d=!0;u.forEachWhile(f=>{const h=this._t(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const a=new im(e,t,this.Ze,this.He,r);return this.He=qi(),this.Je=Uf(),this.Ye=Uf(),this.Ze=new vt(Ve),a}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Kx,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new zt(Ve),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new zt(Ve),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||_e("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Kx),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Uf(){return new vt(Te.comparator)}function Qx(){return new vt(Te.comparator)}const W6={asc:"ASCENDING",desc:"DESCENDING"},Z6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},J6={and:"AND",or:"OR"};class e5{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Py(n,e){return n.useProto3Json||Wc(e)?e:{value:e}}function Th(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function t5(n,e){return Th(n,e.toTimestamp())}function Hn(n){return Xe(!!n,49232),Ce.fromTimestamp(function(t){const r=zs(t);return new yt(r.seconds,r.nanos)}(n))}function jv(n,e){return ky(n,e).canonicalString()}function ky(n,e){const t=function(a){return new ct(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function ZR(n){const e=ct.fromString(n);return Xe(iA(e),10190,{key:e.toString()}),e}function Sh(n,e){return jv(n.databaseId,e.path)}function gc(n,e){const t=ZR(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Te(eA(t))}function JR(n,e){return jv(n.databaseId,e)}function n5(n){const e=ZR(n);return e.length===4?ct.emptyPath():eA(e)}function Dy(n){return new ct(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function eA(n){return Xe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Yx(n,e,t){return{name:Sh(n,e),fields:t.value.mapValue.fields}}function r5(n,e){return"found"in e?function(r,a){Xe(!!a.found,43571),a.found.name,a.found.updateTime;const o=gc(r,a.found.name),u=Hn(a.found.updateTime),d=a.found.createTime?Hn(a.found.createTime):Ce.min(),f=new Sn({mapValue:{fields:a.found.fields}});return Xt.newFoundDocument(o,u,d,f)}(n,e):"missing"in e?function(r,a){Xe(!!a.missing,3894),Xe(!!a.readTime,22933);const o=gc(r,a.missing),u=Hn(a.readTime);return Xt.newNoDocument(o,u)}(n,e):Se(7234,{result:e})}function i5(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Se(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(h,p){return h.useProto3Json?(Xe(p===void 0||typeof p=="string",58123),cn.fromBase64String(p||"")):(Xe(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),cn.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(h){const p=h.code===void 0?ue.UNKNOWN:QR(h.code);return new ve(p,h.message||"")}(u);t=new XR(r,a,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=gc(n,r.document.name),o=Hn(r.document.updateTime),u=r.document.createTime?Hn(r.document.createTime):Ce.min(),d=new Sn({mapValue:{fields:r.document.fields}}),f=Xt.newFoundDocument(a,o,u,d),h=r.targetIds||[],p=r.removedTargetIds||[];t=new Jf(h,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=gc(n,r.document),o=r.readTime?Hn(r.readTime):Ce.min(),u=Xt.newNoDocument(a,o),d=r.removedTargetIds||[];t=new Jf([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=gc(n,r.document),o=r.removedTargetIds||[];t=new Jf([],o,a,null)}else{if(!("filter"in e))return Se(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,u=new Q6(a,o),d=r.targetId;t=new YR(d,u)}}return t}function tA(n,e){let t;if(e instanceof Zc)t={update:Yx(n,e.key,e.value)};else if(e instanceof Jc)t={delete:Sh(n,e.key)};else if(e instanceof Js)t={update:Yx(n,e.key,e.data),updateMask:h5(e.fieldMask)};else{if(!(e instanceof GR))return Se(16599,{ft:e.type});t={verify:Sh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const d=u.transform;if(d instanceof Oc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Mc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof jc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof xh)return{fieldPath:u.field.canonicalString(),increment:d.Re};throw Se(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:t5(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Se(27497)}(n,e.precondition)),t}function s5(n,e){return n&&n.length>0?(Xe(e!==void 0,14353),n.map(t=>function(a,o){let u=a.updateTime?Hn(a.updateTime):Hn(o);return u.isEqual(Ce.min())&&(u=Hn(o)),new z6(u,a.transformResults||[])}(t,e))):[]}function a5(n,e){return{documents:[JR(n,e.path)]}}function o5(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=JR(n,a);const o=function(h){if(h.length!==0)return rA(Cr.create(h,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(h){if(h.length!==0)return h.map(p=>function(_){return{field:al(_.field),direction:c5(_.dir)}}(p))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=Py(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:t,parent:a}}function l5(n){let e=n5(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Xe(r===1,65062);const p=t.from[0];p.allDescendants?a=p.collectionId:e=e.child(p.collectionId)}let o=[];t.where&&(o=function(v){const _=nA(v);return _ instanceof Cr&&NR(_)?_.getFilters():[_]}(t.where));let u=[];t.orderBy&&(u=function(v){return v.map(_=>function(w){return new Dc(ol(w.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(_))}(t.orderBy));let d=null;t.limit&&(d=function(v){let _;return _=typeof v=="object"?v.value:v,Wc(_)?null:_}(t.limit));let f=null;t.startAt&&(f=function(v){const _=!!v.before,x=v.values||[];return new Eh(x,_)}(t.startAt));let h=null;return t.endAt&&(h=function(v){const _=!v.before,x=v.values||[];return new Eh(x,_)}(t.endAt)),N6(e,a,u,o,d,"F",f,h)}function u5(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function nA(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=ol(t.unaryFilter.field);return Mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=ol(t.unaryFilter.field);return Mt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ol(t.unaryFilter.field);return Mt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ol(t.unaryFilter.field);return Mt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(n):n.fieldFilter!==void 0?function(t){return Mt.create(ol(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Cr.create(t.compositeFilter.filters.map(r=>nA(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(t.compositeFilter.op))}(n):Se(30097,{filter:n})}function c5(n){return W6[n]}function d5(n){return Z6[n]}function f5(n){return J6[n]}function al(n){return{fieldPath:n.canonicalString()}}function ol(n){return ln.fromServerFormat(n.fieldPath)}function rA(n){return n instanceof Mt?function(t){if(t.op==="=="){if(jx(t.value))return{unaryFilter:{field:al(t.field),op:"IS_NAN"}};if(Mx(t.value))return{unaryFilter:{field:al(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(jx(t.value))return{unaryFilter:{field:al(t.field),op:"IS_NOT_NAN"}};if(Mx(t.value))return{unaryFilter:{field:al(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:al(t.field),op:d5(t.op),value:t.value}}}(n):n instanceof Cr?function(t){const r=t.getFilters().map(a=>rA(a));return r.length===1?r[0]:{compositeFilter:{op:f5(t.op),filters:r}}}(n):Se(54877,{filter:n})}function h5(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function iA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,t,r,a,o=Ce.min(),u=Ce.min(),d=cn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e){this.wt=e}}function p5(n){const e=l5({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Iy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(){this.yn=new y5}addToCollectionParentIndex(e,t){return this.yn.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(Bs.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(Bs.min())}updateCollectionGroup(e,t,r){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class y5{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new zt(ct.comparator),o=!a.has(r);return this.index[t]=a.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new zt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sA=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(sA,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Al(0)}static ir(){return new Al(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="LruGarbageCollector",v5=1048576;function Zx([n,e],[t,r]){const a=Ve(n,t);return a===0?Ve(e,r):a}class b5{constructor(e){this.cr=e,this.buffer=new zt(Zx),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Zx(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class _5{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){_e(Wx,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ul(t)?_e(Wx,"Ignoring IndexedDB error during garbage collection: ",t):await Vl(t)}await this.Ir(3e5)})}}class w5{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return he.resolve(Wh.le);const r=new b5(t);return this.Er.forEachTarget(e,a=>r.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(e,a=>r.Pr(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(Xx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xx):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,a,o,u,d,f,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(e,a))).next(v=>(r=v,d=Date.now(),this.removeTargets(e,r,t))).next(v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(h=Date.now(),il()<=ze.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-p}ms
	Determined least recently used ${a} in `+(d-u)+`ms
	Removed ${o} targets in `+(f-d)+`ms
	Removed ${v} documents in `+(h-f)+`ms
Total Duration: ${h-p}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:v})))}}function E5(n,e){return new w5(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(){this.changes=new ro(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?he.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(r!==null&&pc(r.mutation,a,zn.empty(),yt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,qe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=qe()){const a=Ua();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(o=>{let u=sc();return o.forEach((d,f)=>{u=u.insert(d,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Ua();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,qe()))}populateOverlays(e,t,r){const a=[];return r.forEach(o=>{t.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,r,a){let o=qi();const u=mc(),d=function(){return mc()}();return t.forEach((f,h)=>{const p=r.get(h.key);a.has(h.key)&&(p===void 0||p.mutation instanceof Js)?o=o.insert(h.key,h):p!==void 0?(u.set(h.key,p.mutation.getFieldMask()),pc(p.mutation,h,p.mutation.getFieldMask(),yt.now())):u.set(h.key,zn.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((h,p)=>u.set(h,p)),t.forEach((h,p)=>{var v;return d.set(h,new T5(p,(v=u.get(h))!==null&&v!==void 0?v:null))}),d))}recalculateAndSaveOverlays(e,t){const r=mc();let a=new vt((u,d)=>u-d),o=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(f=>{const h=t.get(f);if(h===null)return;let p=r.get(f)||zn.empty();p=d.applyToLocalView(h,p),r.set(f,p);const v=(a.get(d.batchId)||qe()).add(f);a=a.insert(d.batchId,v)})}).next(()=>{const u=[],d=a.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),h=f.key,p=f.value,v=VR();p.forEach(_=>{if(!o.has(_)){const x=qR(t.get(_),r.get(_));x!==null&&v.set(_,x),o=o.add(_)}}),u.push(this.documentOverlayCache.saveOverlays(e,h,v))}return he.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,a){return function(u){return Te.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):DR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-o.size):he.resolve(Ua());let d=Nc,f=o;return u.next(h=>he.forEach(h,(p,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),o.get(p)?he.resolve():this.remoteDocumentCache.getEntry(e,p).next(_=>{f=f.insert(p,_)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,f,h,qe())).next(p=>({batchId:d,changes:LR(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next(r=>{let a=sc();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const o=t.collectionGroup;let u=sc();return this.indexManager.getCollectionParents(e,o).next(d=>he.forEach(d,f=>{const h=function(v,_){return new Fl(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,a).next(p=>{p.forEach((v,_)=>{u=u.insert(v,_)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,a))).next(u=>{o.forEach((f,h)=>{const p=h.getKey();u.get(p)===null&&(u=u.insert(p,Xt.newInvalidDocument(p)))});let d=sc();return u.forEach((f,h)=>{const p=o.get(f);p!==void 0&&pc(p.mutation,h,zn.empty(),yt.now()),tm(t,h)&&(d=d.insert(f,h))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return he.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Hn(a.createTime)}}(t)),he.resolve()}getNamedQuery(e,t){return he.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(a){return{name:a.name,query:p5(a.bundledQuery),readTime:Hn(a.readTime)}}(t)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(){this.overlays=new vt(Te.comparator),this.Or=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ua();return he.forEach(t,a=>this.getOverlay(e,a).next(o=>{o!==null&&r.set(a,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,o)=>{this.St(e,t,o)}),he.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Or.get(r);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),he.resolve()}getOverlaysForCollection(e,t,r){const a=Ua(),o=t.length+1,u=new Te(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,h=f.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===o&&f.largestBatchId>r&&a.set(f.getKey(),f)}return he.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let o=new vt((h,p)=>h-p);const u=this.overlays.getIterator();for(;u.hasNext();){const h=u.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let p=o.get(h.largestBatchId);p===null&&(p=Ua(),o=o.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const d=Ua(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((h,p)=>d.set(h,p)),!(d.size()>=a)););return he.resolve(d)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.Or.get(a.largestBatchId).delete(r.key);this.Or.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new K6(t,r));let o=this.Or.get(t);o===void 0&&(o=qe(),this.Or.set(t,o)),this.Or.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(){this.Nr=new zt(Yt.Br),this.Lr=new zt(Yt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new Yt(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new Yt(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new Te(new ct([])),r=new Yt(t,e),a=new Yt(t,e+1),o=[];return this.Lr.forEachInRange([r,a],u=>{this.Qr(u),o.push(u.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Te(new ct([])),r=new Yt(t,e),a=new Yt(t,e+1);let o=qe();return this.Lr.forEachInRange([r,a],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new Yt(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Yt{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Te.comparator(e.key,t.key)||Ve(e.Gr,t.Gr)}static kr(e,t){return Ve(e.Gr,t.Gr)||Te.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new zt(Yt.Br)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new G6(o,t,r,a);this.mutationQueue.push(u);for(const d of a)this.zr=this.zr.add(new Yt(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return he.resolve(u)}lookupMutationBatch(e,t){return he.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Hr(r),o=a<0?0:a;return he.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?Cv:this.Jn-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Yt(t,0),a=new Yt(t,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,a],u=>{const d=this.jr(u.Gr);o.push(d)}),he.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new zt(Ve);return t.forEach(a=>{const o=new Yt(a,0),u=new Yt(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,u],d=>{r=r.add(d.Gr)})}),he.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let o=r;Te.isDocumentKey(o)||(o=o.child(""));const u=new Yt(new Te(o),0);let d=new zt(Ve);return this.zr.forEachWhile(f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===a&&(d=d.add(f.Gr)),!0)},u),he.resolve(this.Jr(d))}Jr(e){const t=[];return e.forEach(r=>{const a=this.jr(r);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Xe(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return he.forEach(t.mutations,a=>{const o=new Yt(a.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new Yt(t,0),a=this.zr.firstAfterOrEqual(r);return he.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e){this.Zr=e,this.docs=function(){return new vt(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),o=a?a.size:0,u=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return he.resolve(r?r.document.mutableCopy():Xt.newInvalidDocument(t))}getEntries(e,t){let r=qi();return t.forEach(a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():Xt.newInvalidDocument(a))}),he.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let o=qi();const u=t.path,d=new Te(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:h,value:{document:p}}=f.getNext();if(!u.isPrefixOf(h.path))break;h.path.length>u.length+1||o6(a6(p),r)<=0||(a.has(p.key)||tm(t,p))&&(o=o.insert(p.key,p.mutableCopy()))}return he.resolve(o)}getAllFromCollectionGroup(e,t,r,a){Se(9500)}Xr(e,t){return he.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new P5(this)}getSize(e){return he.resolve(this.size)}}class P5 extends x5{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.vr.addEntry(e,a)):this.vr.removeEntry(r)}),he.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e){this.persistence=e,this.ei=new ro(t=>Pv(t),kv),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.ti=0,this.ni=new Lv,this.targetCount=0,this.ri=Al.rr()}forEachTarget(e,t){return this.ei.forEach((r,a)=>t(a)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),he.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new Al(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.ar(t),he.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,r){let a=0;const o=[];return this.ei.forEach((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.ei.delete(u),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),he.waitFor(o).next(()=>a)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return he.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),he.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach(u=>{o.push(a.markPotentiallyOrphaned(e,u))}),he.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),he.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return he.resolve(r)}containsKey(e,t){return he.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,t){this.ii={},this.overlays={},this.si=new Wh(0),this.oi=!1,this.oi=!0,this._i=new C5,this.referenceDelegate=e(this),this.ai=new k5(this),this.indexManager=new g5,this.remoteDocumentCache=function(a){return new I5(a)}(r=>this.referenceDelegate.ui(r)),this.serializer=new m5(t),this.ci=new R5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new A5,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new N5(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){_e("MemoryPersistence","Starting transaction:",e);const a=new D5(this.si.next());return this.referenceDelegate.li(),r(a).next(o=>this.referenceDelegate.hi(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}Pi(e,t){return he.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class D5 extends u6{constructor(e){super(),this.currentSequenceNumber=e}}class Vv{constructor(e){this.persistence=e,this.Ti=new Lv,this.Ii=null}static Ei(e){return new Vv(e)}get di(){if(this.Ii)return this.Ii;throw Se(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),he.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),he.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(a=>this.di.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.di,r=>{const a=Te.fromPath(r);return this.Ai(e,a).next(o=>{o||t.removeEntry(a,Ce.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return he.or([()=>he.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Rh{constructor(e,t){this.persistence=e,this.Ri=new ro(r=>f6(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=E5(this,t)}static Ei(e,t){return new Rh(e,t)}li(){}hi(e){return he.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return he.forEach(this.Ri,(r,a)=>this.gr(e,r,a).next(o=>o?he.resolve():t(a)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.Xr(e,u=>this.gr(e,u,t).next(d=>{d||(r++,o.removeEntry(u,Ce.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),he.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),he.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),he.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Xf(e.data.value)),t}gr(e,t,r){return he.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.Ri.get(t);return he.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=a}static Ps(e,t){let r=qe(),a=qe();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Uv(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return hM()?8:c6(_n())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,a){const o={result:null};return this.Rs(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.Vs(e,t,a,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new O5;return this.fs(e,t,u).next(d=>{if(o.result=d,this.Is)return this.gs(e,t,u,d.size)})}).next(()=>o.result)}gs(e,t,r,a){return r.documentReadCount<this.Es?(il()<=ze.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",sl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),he.resolve()):(il()<=ze.DEBUG&&_e("QueryEngine","Query:",sl(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(il()<=ze.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",sl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ni(t))):he.resolve())}Rs(e,t){if(Fx(t))return he.resolve(null);let r=ni(t);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Iy(t,null,"F"),r=ni(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=qe(...o);return this.As.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,r).next(f=>{const h=this.ps(t,d);return this.ys(t,h,u,f.readTime)?this.Rs(e,Iy(t,null,"F")):this.ws(e,h,t,f)}))})))}Vs(e,t,r,a){return Fx(t)||a.isEqual(Ce.min())?he.resolve(null):this.As.getDocuments(e,r).next(o=>{const u=this.ps(t,o);return this.ys(t,u,r,a)?he.resolve(null):(il()<=ze.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),sl(t)),this.ws(e,u,t,s6(a,Nc)).next(d=>d))})}ps(e,t){let r=new zt(MR(e));return t.forEach((a,o)=>{tm(e,o)&&(r=r.add(o))}),r}ys(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}fs(e,t,r){return il()<=ze.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",sl(t)),this.As.getDocumentsMatchingQuery(e,t,Bs.min(),r)}ws(e,t,r,a){return this.As.getDocumentsMatchingQuery(e,r,a).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="LocalStore",j5=3e8;class L5{constructor(e,t,r,a){this.persistence=e,this.bs=t,this.serializer=a,this.Ss=new vt(Ve),this.Ds=new ro(o=>Pv(o),kv),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new S5(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function V5(n,e,t,r){return new L5(n,e,t,r)}async function oA(n,e){const t=De(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(o=>(a=o,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],d=[];let f=qe();for(const h of a){u.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}for(const h of o){d.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}return t.localDocuments.getDocuments(r,f).next(h=>({Ms:h,removedBatchIds:u,addedBatchIds:d}))})})}function U5(n,e){const t=De(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),o=t.Cs.newChangeBuffer({trackRemovals:!0});return function(d,f,h,p){const v=h.batch,_=v.keys();let x=he.resolve();return _.forEach(w=>{x=x.next(()=>p.getEntry(f,w)).next(A=>{const C=h.docVersions.get(w);Xe(C!==null,48541),A.version.compareTo(C)<0&&(v.applyToRemoteDocument(A,h),A.isValidDocument()&&(A.setReadTime(h.commitVersion),p.addEntry(A)))})}),x.next(()=>d.mutationQueue.removeMutationBatch(f,v))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=qe();for(let h=0;h<d.mutationResults.length;++h)d.mutationResults[h].transformResults.length>0&&(f=f.add(d.batch.mutations[h].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}function lA(n){const e=De(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function F5(n,e){const t=De(n),r=e.snapshotVersion;let a=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Cs.newChangeBuffer({trackRemovals:!0});a=t.Ss;const d=[];e.targetChanges.forEach((p,v)=>{const _=a.get(v);if(!_)return;d.push(t.ai.removeMatchingKeys(o,p.removedDocuments,v).next(()=>t.ai.addMatchingKeys(o,p.addedDocuments,v)));let x=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?x=x.withResumeToken(cn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):p.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(p.resumeToken,r)),a=a.insert(v,x),function(A,C,j){return A.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=j5?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(_,x,p)&&d.push(t.ai.updateTargetData(o,x))});let f=qi(),h=qe();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(o,p))}),d.push($5(o,u,e.documentUpdates).next(p=>{f=p.xs,h=p.Os})),!r.isEqual(Ce.min())){const p=t.ai.getLastRemoteSnapshotVersion(o).next(v=>t.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));d.push(p)}return he.waitFor(d).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,f,h)).next(()=>f)}).then(o=>(t.Ss=a,o))}function $5(n,e,t){let r=qe(),a=qe();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=qi();return t.forEach((d,f)=>{const h=o.get(d);f.isFoundDocument()!==h.isFoundDocument()&&(a=a.add(d)),f.isNoDocument()&&f.version.isEqual(Ce.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):_e(Fv,"Ignoring outdated watch update for ",d,". Current version:",h.version," Watch version:",f.version)}),{xs:u,Os:a}})}function B5(n,e){const t=De(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Cv),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function z5(n,e){const t=De(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.ai.getTargetData(r,e).next(o=>o?(a=o,he.resolve(a)):t.ai.allocateTargetId(r).next(u=>(a=new Is(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Ss.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function Oy(n,e,t){const r=De(n),a=r.Ss.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!Ul(u))throw u;_e(Fv,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(a.target)}function Jx(n,e,t){const r=De(n);let a=Ce.min(),o=qe();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,h,p){const v=De(f),_=v.Ds.get(p);return _!==void 0?he.resolve(v.Ss.get(_)):v.ai.getTargetData(h,p)}(r,u,ni(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(u,d.targetId).next(f=>{o=f})}).next(()=>r.bs.getDocumentsMatchingQuery(u,e,t?a:Ce.min(),t?o:qe())).next(d=>(q5(r,P6(e),d),{documents:d,Ns:o})))}function q5(n,e,t){let r=n.vs.get(e)||Ce.min();t.forEach((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.vs.set(e,r)}class e1{constructor(){this.activeTargetIds=L6()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class H5{constructor(){this.So=new e1,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new e1,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="ConnectivityMonitor";class n1{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){_e(t1,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){_e(t1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ff=null;function My(){return Ff===null?Ff=function(){return 268435456+Math.round(2147483648*Math.random())}():Ff++,"0x"+Ff.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="RestConnection",K5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Q5{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${a}`,this.qo=this.databaseId.database===_h?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Qo(e,t,r,a,o){const u=My(),d=this.$o(e,t.toUriEncodedString());_e(zg,`Sending RPC '${e}' ${u}:`,d,r);const f={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(f,a,o);const{host:h}=new URL(d),p=Hc(h);return this.Ko(e,d,f,r,p).then(v=>(_e(zg,`Received RPC '${e}' ${u}: `,v),v),v=>{throw xl(zg,`RPC '${e}' ${u} failed with error: `,v,"url: ",d,"request:",r),v})}Wo(e,t,r,a,o,u){return this.Qo(e,t,r,a,o)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ll}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,o)=>e[o]=a),r&&r.headers.forEach((a,o)=>e[o]=a)}$o(e,t){const r=K5[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="WebChannelConnection";class X5 extends Q5{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,a,o){const u=My();return new Promise((d,f)=>{const h=new lR;h.setWithCredentials(!0),h.listenOnce(uR.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Yf.NO_ERROR:const v=h.getResponseJson();_e(gn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),d(v);break;case Yf.TIMEOUT:_e(gn,`RPC '${e}' ${u} timed out`),f(new ve(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Yf.HTTP_ERROR:const _=h.getStatus();if(_e(gn,`RPC '${e}' ${u} failed with status:`,_,"response text:",h.getResponseText()),_>0){let x=h.getResponseJson();Array.isArray(x)&&(x=x[0]);const w=x==null?void 0:x.error;if(w&&w.status&&w.message){const A=function(j){const U=j.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(U)>=0?U:ue.UNKNOWN}(w.status);f(new ve(A,w.message))}else f(new ve(ue.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new ve(ue.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{s_:e,streamId:u,o_:h.getLastErrorCode(),__:h.getLastError()})}}finally{_e(gn,`RPC '${e}' ${u} completed.`)}});const p=JSON.stringify(a);_e(gn,`RPC '${e}' ${u} sending request:`,a),h.send(t,"POST",p,r,15)})}a_(e,t,r){const a=My(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=fR(),d=dR(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Uo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const p=o.join("");_e(gn,`Creating RPC '${e}' stream ${a}: ${p}`,f);const v=u.createWebChannel(p,f);let _=!1,x=!1;const w=new Y5({Go:C=>{x?_e(gn,`Not sending because RPC '${e}' stream ${a} is closed:`,C):(_||(_e(gn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),_=!0),_e(gn,`RPC '${e}' stream ${a} sending:`,C),v.send(C))},zo:()=>v.close()}),A=(C,j,U)=>{C.listen(j,F=>{try{U(F)}catch(Y){setTimeout(()=>{throw Y},0)}})};return A(v,ic.EventType.OPEN,()=>{x||(_e(gn,`RPC '${e}' stream ${a} transport opened.`),w.t_())}),A(v,ic.EventType.CLOSE,()=>{x||(x=!0,_e(gn,`RPC '${e}' stream ${a} transport closed`),w.r_())}),A(v,ic.EventType.ERROR,C=>{x||(x=!0,xl(gn,`RPC '${e}' stream ${a} transport errored. Name:`,C.name,"Message:",C.message),w.r_(new ve(ue.UNAVAILABLE,"The operation could not be completed")))}),A(v,ic.EventType.MESSAGE,C=>{var j;if(!x){const U=C.data[0];Xe(!!U,16349);const F=U,Y=(F==null?void 0:F.error)||((j=F[0])===null||j===void 0?void 0:j.error);if(Y){_e(gn,`RPC '${e}' stream ${a} received error:`,Y);const X=Y.status;let de=function(P){const D=Ot[P];if(D!==void 0)return QR(D)}(X),M=Y.message;de===void 0&&(de=ue.INTERNAL,M="Unknown error status: "+X+" with message "+Y.message),x=!0,w.r_(new ve(de,M)),v.close()}else _e(gn,`RPC '${e}' stream ${a} received:`,U),w.i_(U)}}),A(d,cR.STAT_EVENT,C=>{C.stat===xy.PROXY?_e(gn,`RPC '${e}' stream ${a} detected buffering proxy`):C.stat===xy.NOPROXY&&_e(gn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{w.n_()},0),w}}function qg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(n){return new e5(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,t,r=1e3,a=1.5,o=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=a,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),a=Math.max(0,t-r);a>0&&_e("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="PersistentStream";class uA{constructor(e,t,r,a,o,u,d,f){this.bi=e,this.R_=r,this.V_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new $v(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(zi(t.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.m_===t&&this.B_(r,a)},r=>{e(()=>{const a=new ve(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(a)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{r(()=>this.L_(a))}),this.stream.onMessage(a=>{r(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return _e(r1,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(_e(r1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class W5 extends uA{constructor(e,t,r,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,u),this.serializer=o}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=i5(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ce.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ce.min():u.readTime?Hn(u.readTime):Ce.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=Dy(this.serializer),t.addTarget=function(o,u){let d;const f=u.target;if(d=Cy(f)?{documents:a5(o,f)}:{query:o5(o,f).gt},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=WR(o,u.resumeToken);const h=Py(o,u.expectedCount);h!==null&&(d.expectedCount=h)}else if(u.snapshotVersion.compareTo(Ce.min())>0){d.readTime=Th(o,u.snapshotVersion.toTimestamp());const h=Py(o,u.expectedCount);h!==null&&(d.expectedCount=h)}return d}(this.serializer,e);const r=u5(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=Dy(this.serializer),t.removeTarget=e,this.F_(t)}}class Z5 extends uA{constructor(e,t,r,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,u),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=s5(e.writeResults,e.commitTime),r=Hn(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=Dy(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>tA(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{}class eV extends J5{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new ve(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Qo(e,ky(t,r),a,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ve(ue.UNKNOWN,o.toString())})}Wo(e,t,r,a,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Wo(e,ky(t,r),a,u,d,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(ue.UNKNOWN,u.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class tV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(zi(t),this.ea=!1):_e("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="RemoteStore";class nV{constructor(e,t,r,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(u=>{r.enqueueAndForget(async()=>{io(this)&&(_e(Za,"Restarting streams for network reachability change."),await async function(f){const h=De(f);h.aa.add(4),await td(h),h.la.set("Unknown"),h.aa.delete(4),await am(h)}(this))})}),this.la=new tV(r,a)}}async function am(n){if(io(n))for(const e of n.ua)await e(!0)}async function td(n){for(const e of n.ua)await e(!1)}function cA(n,e){const t=De(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),Hv(t)?qv(t):$l(t).b_()&&zv(t,e))}function Bv(n,e){const t=De(n),r=$l(t);t._a.delete(e),r.b_()&&dA(t,e),t._a.size===0&&(r.b_()?r.v_():io(t)&&t.la.set("Unknown"))}function zv(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}$l(n).U_(e)}function dA(n,e){n.ha.Ke(e),$l(n).K_(e)}function qv(n){n.ha=new X6({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),$l(n).start(),n.la.ta()}function Hv(n){return io(n)&&!$l(n).w_()&&n._a.size>0}function io(n){return De(n).aa.size===0}function fA(n){n.ha=void 0}async function rV(n){n.la.set("Online")}async function iV(n){n._a.forEach((e,t)=>{zv(n,e)})}async function sV(n,e){fA(n),Hv(n)?(n.la.ia(e),qv(n)):n.la.set("Unknown")}async function aV(n,e,t){if(n.la.set("Online"),e instanceof XR&&e.state===2&&e.cause)try{await async function(a,o){const u=o.cause;for(const d of o.targetIds)a._a.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a._a.delete(d),a.ha.removeTarget(d))}(n,e)}catch(r){_e(Za,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ah(n,r)}else if(e instanceof Jf?n.ha.Xe(e):e instanceof YR?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Ce.min()))try{const r=await lA(n.localStore);t.compareTo(r)>=0&&await function(o,u){const d=o.ha.It(u);return d.targetChanges.forEach((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const p=o._a.get(h);p&&o._a.set(h,p.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach((f,h)=>{const p=o._a.get(f);if(!p)return;o._a.set(f,p.withResumeToken(cn.EMPTY_BYTE_STRING,p.snapshotVersion)),dA(o,f);const v=new Is(p.target,f,h,p.sequenceNumber);zv(o,v)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(r){_e(Za,"Failed to raise snapshot:",r),await Ah(n,r)}}async function Ah(n,e,t){if(!Ul(e))throw e;n.aa.add(1),await td(n),n.la.set("Offline"),t||(t=()=>lA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{_e(Za,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await am(n)})}function hA(n,e){return e().catch(t=>Ah(n,t,e))}async function om(n){const e=De(n),t=Gs(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:Cv;for(;oV(e);)try{const a=await B5(e.localStore,r);if(a===null){e.oa.length===0&&t.v_();break}r=a.batchId,lV(e,a)}catch(a){await Ah(e,a)}mA(e)&&pA(e)}function oV(n){return io(n)&&n.oa.length<10}function lV(n,e){n.oa.push(e);const t=Gs(n);t.b_()&&t.W_&&t.G_(e.mutations)}function mA(n){return io(n)&&!Gs(n).w_()&&n.oa.length>0}function pA(n){Gs(n).start()}async function uV(n){Gs(n).H_()}async function cV(n){const e=Gs(n);for(const t of n.oa)e.G_(t.mutations)}async function dV(n,e,t){const r=n.oa.shift(),a=Ov.from(r,e,t);await hA(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await om(n)}async function fV(n,e){e&&Gs(n).W_&&await async function(r,a){if(function(u){return KR(u)&&u!==ue.ABORTED}(a.code)){const o=r.oa.shift();Gs(r).D_(),await hA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a)),await om(r)}}(n,e),mA(n)&&pA(n)}async function i1(n,e){const t=De(n);t.asyncQueue.verifyOperationInProgress(),_e(Za,"RemoteStore received new credentials");const r=io(t);t.aa.add(3),await td(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await am(t)}async function hV(n,e){const t=De(n);e?(t.aa.delete(2),await am(t)):e||(t.aa.add(2),await td(t),t.la.set("Unknown"))}function $l(n){return n.Pa||(n.Pa=function(t,r,a){const o=De(t);return o.Y_(),new W5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{jo:rV.bind(null,n),Jo:iV.bind(null,n),Zo:sV.bind(null,n),Q_:aV.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),Hv(n)?qv(n):n.la.set("Unknown")):(await n.Pa.stop(),fA(n))})),n.Pa}function Gs(n){return n.Ta||(n.Ta=function(t,r,a){const o=De(t);return o.Y_(),new Z5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:uV.bind(null,n),Zo:fV.bind(null,n),z_:cV.bind(null,n),j_:dV.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await om(n)):(await n.Ta.stop(),n.oa.length>0&&(_e(Za,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,t,r,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,o){const u=Date.now()+r,d=new Gv(e,t,u,a,o);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kv(n,e){if(zi("AsyncQueue",`${e}: ${n}`),Ul(n))return new ve(ue.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{static emptySet(e){return new vl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Te.comparator(t.key,r.key):(t,r)=>Te.comparator(t.key,r.key),this.keyedMap=sc(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new vl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(){this.Ia=new vt(Te.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Se(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class Cl{constructor(e,t,r,a,o,u,d,f,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,a,o){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new Cl(e,t,vl.emptySet(t),u,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&em(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class pV{constructor(){this.queries=a1(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const a=De(t),o=a.queries;a.queries=a1(),o.forEach((u,d)=>{for(const f of d.Ra)f.onError(r)})})(this,new ve(ue.ABORTED,"Firestore shutting down"))}}function a1(){return new ro(n=>OR(n),em)}async function Qv(n,e){const t=De(n);let r=3;const a=e.query;let o=t.queries.get(a);o?!o.Va()&&e.ma()&&(r=2):(o=new mV,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=await t.onListen(a,!0);break;case 1:o.Aa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const d=Kv(u,`Initialization of query '${sl(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,o),o.Ra.push(e),e.ga(t.onlineState),o.Aa&&e.pa(o.Aa)&&Xv(t)}async function Yv(n,e){const t=De(n),r=e.query;let a=3;const o=t.queries.get(r);if(o){const u=o.Ra.indexOf(e);u>=0&&(o.Ra.splice(u,1),o.Ra.length===0?a=e.ma()?0:1:!o.Va()&&e.ma()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function gV(n,e){const t=De(n);let r=!1;for(const a of e){const o=a.query,u=t.queries.get(o);if(u){for(const d of u.Ra)d.pa(a)&&(r=!0);u.Aa=a}}r&&Xv(t)}function yV(n,e,t){const r=De(n),a=r.queries.get(e);if(a)for(const o of a.Ra)o.onError(t);r.queries.delete(e)}function Xv(n){n.fa.forEach(e=>{e.next()})}var jy,o1;(o1=jy||(jy={})).ya="default",o1.Cache="cache";class Wv{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Cl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=Cl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==jy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e){this.key=e}}class yA{constructor(e){this.key=e}}class vV{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=qe(),this.mutatedKeys=qe(),this.Ua=MR(e),this.Ka=new vl(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new s1,a=t?t.Ka:this.Ka;let o=t?t.mutatedKeys:this.mutatedKeys,u=a,d=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,h=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((p,v)=>{const _=a.get(p),x=tm(this.query,v)?v:null,w=!!_&&this.mutatedKeys.has(_.key),A=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let C=!1;_&&x?_.data.isEqual(x.data)?w!==A&&(r.track({type:3,doc:x}),C=!0):this.ja(_,x)||(r.track({type:2,doc:x}),C=!0,(f&&this.Ua(x,f)>0||h&&this.Ua(x,h)<0)&&(d=!0)):!_&&x?(r.track({type:0,doc:x}),C=!0):_&&!x&&(r.track({type:1,doc:_}),C=!0,(f||h)&&(d=!0)),C&&(x?(u=u.add(x),o=A?o.add(p):o.delete(p)):(u=u.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const p=this.query.limitType==="F"?u.last():u.first();u=u.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{Ka:u,za:r,ys:d,mutatedKeys:o}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const u=e.za.da();u.sort((p,v)=>function(x,w){const A=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Vt:C})}};return A(x)-A(w)}(p.type,v.type)||this.Ua(p.doc,v.doc)),this.Ha(r),a=a!=null&&a;const d=t&&!a?this.Ja():[],f=this.$a.size===0&&this.current&&!a?1:0,h=f!==this.Qa;return this.Qa=f,u.length!==0||h?{snapshot:new Cl(this.query,e.Ka,o,u,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:d}:{Ya:d}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new s1,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=qe(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new yA(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new gA(r))}),t}Xa(e){this.qa=e.Ns,this.$a=qe();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return Cl.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Zv="SyncEngine";class bV{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class _V{constructor(e){this.key=e,this.tu=!1}}class wV{constructor(e,t,r,a,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.nu={},this.ru=new ro(d=>OR(d),em),this.iu=new Map,this.su=new Set,this.ou=new vt(Te.comparator),this._u=new Map,this.au=new Lv,this.uu={},this.cu=new Map,this.lu=Al.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function EV(n,e,t=!0){const r=xA(n);let a;const o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.eu()):a=await vA(r,e,t,!0),a}async function xV(n,e){const t=xA(n);await vA(t,e,!0,!1)}async function vA(n,e,t,r){const a=await z5(n.localStore,ni(e)),o=a.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let d;return r&&(d=await TV(n,e,o,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&cA(n.remoteStore,a),d}async function TV(n,e,t,r,a){n.Pu=(v,_,x)=>async function(A,C,j,U){let F=C.view.Ga(j);F.ys&&(F=await Jx(A.localStore,C.query,!1).then(({documents:M})=>C.view.Ga(M,F)));const Y=U&&U.targetChanges.get(C.targetId),X=U&&U.targetMismatches.get(C.targetId)!=null,de=C.view.applyChanges(F,A.isPrimaryClient,Y,X);return u1(A,C.targetId,de.Ya),de.snapshot}(n,v,_,x);const o=await Jx(n.localStore,e,!0),u=new vV(e,o.Ns),d=u.Ga(o.documents),f=ed.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),h=u.applyChanges(d,n.isPrimaryClient,f);u1(n,t,h.Ya);const p=new bV(e,t,u);return n.ru.set(e,p),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),h.snapshot}async function SV(n,e,t){const r=De(n),a=r.ru.get(e),o=r.iu.get(a.targetId);if(o.length>1)return r.iu.set(a.targetId,o.filter(u=>!em(u,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Oy(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),t&&Bv(r.remoteStore,a.targetId),Ly(r,a.targetId)}).catch(Vl)):(Ly(r,a.targetId),await Oy(r.localStore,a.targetId,!0))}async function RV(n,e){const t=De(n),r=t.ru.get(e),a=t.iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Bv(t.remoteStore,r.targetId))}async function AV(n,e,t){const r=OV(n);try{const a=await function(u,d){const f=De(u),h=yt.now(),p=d.reduce((x,w)=>x.add(w.key),qe());let v,_;return f.persistence.runTransaction("Locally write mutations","readwrite",x=>{let w=qi(),A=qe();return f.Cs.getEntries(x,p).next(C=>{w=C,w.forEach((j,U)=>{U.isValidDocument()||(A=A.add(j))})}).next(()=>f.localDocuments.getOverlayedDocuments(x,w)).next(C=>{v=C;const j=[];for(const U of d){const F=H6(U,v.get(U.key).overlayedDocument);F!=null&&j.push(new Js(U.key,F,RR(F.value.mapValue),jt.exists(!0)))}return f.mutationQueue.addMutationBatch(x,h,j,d)}).next(C=>{_=C;const j=C.applyToLocalDocumentSet(v,A);return f.documentOverlayCache.saveOverlays(x,C.batchId,j)})}).then(()=>({batchId:_.batchId,changes:LR(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(u,d,f){let h=u.uu[u.currentUser.toKey()];h||(h=new vt(Ve)),h=h.insert(d,f),u.uu[u.currentUser.toKey()]=h}(r,a.batchId,t),await nd(r,a.changes),await om(r.remoteStore)}catch(a){const o=Kv(a,"Failed to persist write");t.reject(o)}}async function bA(n,e){const t=De(n);try{const r=await F5(t.localStore,e);e.targetChanges.forEach((a,o)=>{const u=t._u.get(o);u&&(Xe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.tu=!0:a.modifiedDocuments.size>0?Xe(u.tu,14607):a.removedDocuments.size>0&&(Xe(u.tu,42227),u.tu=!1))}),await nd(t,r,e)}catch(r){await Vl(r)}}function l1(n,e,t){const r=De(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.ru.forEach((o,u)=>{const d=u.view.ga(e);d.snapshot&&a.push(d.snapshot)}),function(u,d){const f=De(u);f.onlineState=d;let h=!1;f.queries.forEach((p,v)=>{for(const _ of v.Ra)_.ga(d)&&(h=!0)}),h&&Xv(f)}(r.eventManager,e),a.length&&r.nu.Q_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function CV(n,e,t){const r=De(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r._u.get(e),o=a&&a.key;if(o){let u=new vt(Te.comparator);u=u.insert(o,Xt.newNoDocument(o,Ce.min()));const d=qe().add(o),f=new im(Ce.min(),new Map,new vt(Ve),u,d);await bA(r,f),r.ou=r.ou.remove(o),r._u.delete(e),Jv(r)}else await Oy(r.localStore,e,!1).then(()=>Ly(r,e,t)).catch(Vl)}async function NV(n,e){const t=De(n),r=e.batch.batchId;try{const a=await U5(t.localStore,e);wA(t,r,null),_A(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await nd(t,a)}catch(a){await Vl(a)}}async function IV(n,e,t){const r=De(n);try{const a=await function(u,d){const f=De(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return f.mutationQueue.lookupMutationBatch(h,d).next(v=>(Xe(v!==null,37113),p=v.keys(),f.mutationQueue.removeMutationBatch(h,v))).next(()=>f.mutationQueue.performConsistencyCheck(h)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(h,p,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>f.localDocuments.getDocuments(h,p))})}(r.localStore,e);wA(r,e,t),_A(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await nd(r,a)}catch(a){await Vl(a)}}function _A(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function wA(n,e,t){const r=De(n);let a=r.uu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),r.uu[r.currentUser.toKey()]=a}}function Ly(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||EA(n,r)})}function EA(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(Bv(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),Jv(n))}function u1(n,e,t){for(const r of t)r instanceof gA?(n.au.addReference(r.key,e),PV(n,r)):r instanceof yA?(_e(Zv,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||EA(n,r.key)):Se(19791,{Iu:r})}function PV(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(_e(Zv,"New document in limbo: "+t),n.su.add(r),Jv(n))}function Jv(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Te(ct.fromString(e)),r=n.lu.next();n._u.set(r,new _V(t)),n.ou=n.ou.insert(t,r),cA(n.remoteStore,new Is(ni(Jh(t.path)),r,"TargetPurposeLimboResolution",Wh.le))}}async function nd(n,e,t){const r=De(n),a=[],o=[],u=[];r.ru.isEmpty()||(r.ru.forEach((d,f)=>{u.push(r.Pu(f,e,t).then(h=>{var p;if((h||t)&&r.isPrimaryClient){const v=h?!h.fromCache:(p=t==null?void 0:t.targetChanges.get(f.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(h){a.push(h);const v=Uv.Ps(f.targetId,h);o.push(v)}}))}),await Promise.all(u),r.nu.Q_(a),await async function(f,h){const p=De(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>he.forEach(h,_=>he.forEach(_.ls,x=>p.persistence.referenceDelegate.addReference(v,_.targetId,x)).next(()=>he.forEach(_.hs,x=>p.persistence.referenceDelegate.removeReference(v,_.targetId,x)))))}catch(v){if(!Ul(v))throw v;_e(Fv,"Failed to update sequence numbers: "+v)}for(const v of h){const _=v.targetId;if(!v.fromCache){const x=p.Ss.get(_),w=x.snapshotVersion,A=x.withLastLimboFreeSnapshotVersion(w);p.Ss=p.Ss.insert(_,A)}}}(r.localStore,o))}async function kV(n,e){const t=De(n);if(!t.currentUser.isEqual(e)){_e(Zv,"User change. New user:",e.toKey());const r=await oA(t.localStore,e);t.currentUser=e,function(o,u){o.cu.forEach(d=>{d.forEach(f=>{f.reject(new ve(ue.CANCELLED,u))})}),o.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await nd(t,r.Ms)}}function DV(n,e){const t=De(n),r=t._u.get(e);if(r&&r.tu)return qe().add(r.key);{let a=qe();const o=t.iu.get(e);if(!o)return a;for(const u of o){const d=t.ru.get(u);a=a.unionWith(d.view.Wa)}return a}}function xA(n){const e=De(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=bA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CV.bind(null,e),e.nu.Q_=gV.bind(null,e.eventManager),e.nu.Tu=yV.bind(null,e.eventManager),e}function OV(n){const e=De(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IV.bind(null,e),e}class Ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sm(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return V5(this.persistence,new M5,e.initialUser,this.serializer)}Ru(e){return new aA(Vv.Ei,this.serializer)}Au(e){return new H5}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ch.provider={build:()=>new Ch};class MV extends Ch{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Xe(this.persistence.referenceDelegate instanceof Rh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new _5(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new aA(r=>Rh.Ei(r,t),this.serializer)}}class Vy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>l1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kV.bind(null,this.syncEngine),await hV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new pV}()}createDatastore(e){const t=sm(e.databaseInfo.databaseId),r=function(o){return new X5(o)}(e.databaseInfo);return function(o,u,d,f){return new eV(o,u,d,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,a,o,u,d){return new nV(r,a,o,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>l1(this.syncEngine,t,0),function(){return n1.C()?new n1:new G5}())}createSyncEngine(e,t){return function(a,o,u,d,f,h,p){const v=new wV(a,o,u,d,f,h);return p&&(v.hu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const o=De(a);_e(Za,"RemoteStore shutting down."),o.aa.add(5),await td(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Vy.provider={build:()=>new Vy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):zi("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ve(ue.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(a,o){const u=De(a),d={documents:o.map(v=>Sh(u.serializer,v))},f=await u.Wo("BatchGetDocuments",u.serializer.databaseId,ct.emptyPath(),d,o.length),h=new Map;f.forEach(v=>{const _=r5(u.serializer,v);h.set(_.key.toString(),_)});const p=[];return o.forEach(v=>{const _=h.get(v.toString());Xe(!!_,55234,{key:v}),p.push(_)}),p}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Jc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const a=Te.fromPath(r);this.mutations.push(new GR(a,this.precondition(a)))}),await async function(r,a){const o=De(r),u={writes:a.map(d=>tA(o.serializer,d))};await o.Qo("Commit",o.serializer.databaseId,ct.emptyPath(),u)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Se(50498,{xu:e.constructor.name});t=Ce.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ve(ue.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ce.min())?jt.exists(!1):jt.updateTime(t):jt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ce.min()))throw new ve(ue.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return jt.updateTime(t)}return jt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,t,r,a,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=a,this.deferred=o,this.Ou=r.maxAttempts,this.y_=new $v(this.asyncQueue,"transaction_retry")}Nu(){this.Ou-=1,this.Bu()}Bu(){this.y_.E_(async()=>{const e=new jV(this.datastore),t=this.Lu(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(a=>{this.ku(a)}))}).catch(r=>{this.ku(r)})})}Lu(e){try{const t=this.updateFunction(e);return!Wc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ku(e){this.Ou>0&&this.qu(e)?(this.Ou-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bu(),Promise.resolve()))):this.deferred.reject(e)}qu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!KR(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="FirestoreClient";class VV{constructor(e,t,r,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=yn.UNAUTHENTICATED,this.clientId=gR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{_e(Ks,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(_e(Ks,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Kv(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Hg(n,e){n.asyncQueue.verifyOperationInProgress(),_e(Ks,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async a=>{r.isEqual(a)||(await oA(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function c1(n,e){n.asyncQueue.verifyOperationInProgress();const t=await UV(n);_e(Ks,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>i1(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>i1(e.remoteStore,a)),n._onlineComponents=e}async function UV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){_e(Ks,"Using user provided OfflineComponentProvider");try{await Hg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ue.FAILED_PRECONDITION||a.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;xl("Error using user provided cache. Falling back to memory cache: "+t),await Hg(n,new Ch)}}else _e(Ks,"Using default OfflineComponentProvider"),await Hg(n,new MV(void 0));return n._offlineComponents}async function t0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(_e(Ks,"Using user provided OnlineComponentProvider"),await c1(n,n._uninitializedComponentsProvider._online)):(_e(Ks,"Using default OnlineComponentProvider"),await c1(n,new Vy))),n._onlineComponents}function FV(n){return t0(n).then(e=>e.syncEngine)}function $V(n){return t0(n).then(e=>e.datastore)}async function Nh(n){const e=await t0(n),t=e.eventManager;return t.onListen=EV.bind(null,e.syncEngine),t.onUnlisten=SV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=xV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=RV.bind(null,e.syncEngine),t}function BV(n,e,t={}){const r=new ti;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,d,f,h){const p=new e0({next:_=>{p.yu(),u.enqueueAndForget(()=>Yv(o,v));const x=_.docs.has(d);!x&&_.fromCache?h.reject(new ve(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&_.fromCache&&f&&f.source==="server"?h.reject(new ve(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:_=>h.reject(_)}),v=new Wv(Jh(d.path),p,{includeMetadataChanges:!0,Fa:!0});return Qv(o,v)}(await Nh(n),n.asyncQueue,e,t,r)),r.promise}function TA(n,e,t={}){const r=new ti;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,d,f,h){const p=new e0({next:_=>{p.yu(),u.enqueueAndForget(()=>Yv(o,v)),_.fromCache&&f.source==="server"?h.reject(new ve(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:_=>h.reject(_)}),v=new Wv(d,p,{includeMetadataChanges:!0,Fa:!0});return Qv(o,v)}(await Nh(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(n,e,t){if(!t)throw new ve(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function zV(n,e,t,r){if(e===!0&&r===!0)throw new ve(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function f1(n){if(!Te.isDocumentKey(n))throw new ve(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function h1(n){if(Te.isDocumentKey(n))throw new ve(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function lm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Se(12329,{type:typeof n})}function Wt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=lm(n);throw new ve(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="firestore.googleapis.com",m1=!0;class p1{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AA,this.ssl=m1}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:m1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<v5)throw new ve(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ve(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ve(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ve(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class um{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new XL;switch(r.type){case"firstParty":return new e6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,Gh("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=d1.get(t);r&&(_e("ComponentProvider","Removing Datastore"),d1.delete(t),r.terminate())}(this),Promise.resolve()}}function qV(n,e,t,r={}){var a;n=Wt(n,um);const o=Hc(e),u=n._getSettings(),d=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;u.host!==AA&&u.host!==f&&xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},u),{host:f,ssl:o,emulatorOptions:r});if(!Qa(h,d)&&(n._setSettings(h),o&&(ES(`https://${f}`),Gh("Firestore",!0)),r.mockUserToken)){let p,v;if(typeof r.mockUserToken=="string")p=r.mockUserToken,v=yn.MOCK_USER;else{p=iM(r.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new ve(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new yn(_)}n._authCredentials=new WL(new mR(p,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yi(this.firestore,e,this._query)}}class un{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new un(this.firestore,e,this._key)}}class Vs extends Yi{constructor(e,t,r){super(e,t,Jh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new un(this.firestore,null,new Te(e))}withConverter(e){return new Vs(this.firestore,e,this._path)}}function bn(n,e,...t){if(n=Nt(n),RA("collection","path",e),n instanceof um){const r=ct.fromString(e,...t);return h1(r),new Vs(n,null,r)}{if(!(n instanceof un||n instanceof Vs))throw new ve(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ct.fromString(e,...t));return h1(r),new Vs(n.firestore,null,r)}}function ft(n,e,...t){if(n=Nt(n),arguments.length===1&&(e=gR.newId()),RA("doc","path",e),n instanceof um){const r=ct.fromString(e,...t);return f1(r),new un(n,null,new Te(r))}{if(!(n instanceof un||n instanceof Vs))throw new ve(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ct.fromString(e,...t));return f1(r),new un(n.firestore,n instanceof Vs?n.converter:null,new Te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="AsyncQueue";class y1{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new $v(this,"async_queue_retry"),this.ju=()=>{const r=qg();r&&_e(g1,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=qg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=qg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new ti;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Ul(e))throw e;_e(g1,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,zi("INTERNAL UNHANDLED ERROR: ",v1(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const a=Gv.createAndSchedule(this,e,t,r,o=>this.Xu(o));return this.Uu.push(a),a}Ju(){this.Ku&&Se(47125,{ec:v1(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function v1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1}(n,["next","error","complete"])}class fr extends um{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new y1,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new y1(e),this._firestoreClient=void 0,await e}}}function HV(n,e){const t=typeof n=="object"?n:RS(),r=typeof n=="string"?n:_h,a=pv(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=nM("firestore");o&&qV(a,...o)}return a}function so(n){if(n._terminated)throw new ve(ue.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||GV(n),n._firestoreClient}function GV(n){var e,t,r;const a=n._freezeSettings(),o=function(d,f,h,p){return new p6(d,f,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,SA(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new VV(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ja(cn.fromBase64String(e))}catch(t){throw new ve(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ja(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV=/^__.*__$/;class QV{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Js(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zc(e,this.data,t,this.fieldTransforms)}}class CA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Js(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function NA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{oc:n})}}class i0{constructor(e,t,r,a,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new i0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:r,cc:!1});return a.lc(e),a}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:r,cc:!1});return a._c(),a}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Ih(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(NA(this.oc)&&KV.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class YV{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||sm(e)}dc(e,t,r,a=!1){return new i0({oc:e,methodName:t,Ec:r,path:ln.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zl(n){const e=n._freezeSettings(),t=sm(n._databaseId);return new YV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function dm(n,e,t,r,a,o={}){const u=n.dc(o.merge||o.mergeFields?2:0,e,t,a);l0("Data must be an object, but it was:",u,r);const d=IA(r,u);let f,h;if(o.merge)f=new zn(u.fieldMask),h=u.fieldTransforms;else if(o.mergeFields){const p=[];for(const v of o.mergeFields){const _=Uy(e,v,t);if(!u.contains(_))throw new ve(ue.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);kA(p,_)||p.push(_)}f=new zn(p),h=u.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,h=u.fieldTransforms;return new QV(new Sn(d),f,h)}class fm extends cm{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fm}}class s0 extends cm{_toFieldTransform(e){return new $6(e.path,new Oc)}isEqual(e){return e instanceof s0}}function a0(n,e,t,r){const a=n.dc(1,e,t);l0("Data must be an object, but it was:",a,r);const o=[],u=Sn.empty();Zs(r,(f,h)=>{const p=u0(e,f,t);h=Nt(h);const v=a.hc(p);if(h instanceof fm)o.push(p);else{const _=rd(h,v);_!=null&&(o.push(p),u.set(p,_))}});const d=new zn(o);return new CA(u,d,a.fieldTransforms)}function o0(n,e,t,r,a,o){const u=n.dc(1,e,t),d=[Uy(e,r,t)],f=[a];if(o.length%2!=0)throw new ve(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)d.push(Uy(e,o[_])),f.push(o[_+1]);const h=[],p=Sn.empty();for(let _=d.length-1;_>=0;--_)if(!kA(h,d[_])){const x=d[_];let w=f[_];w=Nt(w);const A=u.hc(x);if(w instanceof fm)h.push(x);else{const C=rd(w,A);C!=null&&(h.push(x),p.set(x,C))}}const v=new zn(h);return new CA(p,v,u.fieldTransforms)}function XV(n,e,t,r=!1){return rd(t,n.dc(r?4:3,e))}function rd(n,e){if(PA(n=Nt(n)))return l0("Unsupported field value:",e,n),IA(n,e);if(n instanceof cm)return function(r,a){if(!NA(a.oc))throw a.Tc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,a){const o=[];let u=0;for(const d of r){let f=rd(d,a.Pc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,a){if((r=Nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return V6(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=yt.fromDate(r);return{timestampValue:Th(a.serializer,o)}}if(r instanceof yt){const o=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Th(a.serializer,o)}}if(r instanceof n0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ja)return{bytesValue:WR(a.serializer,r._byteString)};if(r instanceof un){const o=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw a.Tc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:jv(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof r0)return function(u,d){return{mapValue:{fields:{[TR]:{stringValue:SR},[wh]:{arrayValue:{values:u.toArray().map(h=>{if(typeof h!="number")throw d.Tc("VectorValues must only contain numeric values.");return Dv(d.serializer,h)})}}}}}}(r,a);throw a.Tc(`Unsupported field value: ${lm(r)}`)}(n,e)}function IA(n,e){const t={};return vR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zs(n,(r,a)=>{const o=rd(a,e.uc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function PA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof yt||n instanceof n0||n instanceof Ja||n instanceof un||n instanceof cm||n instanceof r0)}function l0(n,e,t){if(!PA(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const r=lm(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function Uy(n,e,t){if((e=Nt(e))instanceof Bl)return e._internalPath;if(typeof e=="string")return u0(n,e);throw Ih("Field path arguments must be of type string or ",n,!1,void 0,t)}const WV=new RegExp("[~\\*/\\[\\]]");function u0(n,e,t){if(e.search(WV)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Bl(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ih(n,e,t,r,a){const o=r&&!r.isEmpty(),u=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${a}`),f+=")"),new ve(ue.INVALID_ARGUMENT,d+n+f)}function kA(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,t,r,a,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class ZV extends Ph{data(){return super.data()}}function hm(n,e){return typeof e=="string"?u0(n,e):e instanceof Bl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ve(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class c0{}class OA extends c0{}function Fa(n,e,...t){let r=[];e instanceof c0&&r.push(e),r=r.concat(t),function(o){const u=o.filter(f=>f instanceof d0).length,d=o.filter(f=>f instanceof mm).length;if(u>1||u>0&&d>0)throw new ve(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)n=a._apply(n);return n}class mm extends OA{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new mm(e,t,r)}_apply(e){const t=this._parse(e);return jA(e._query,t),new Yi(e.firestore,e.converter,Ny(e._query,t))}_parse(e){const t=zl(e.firestore);return function(o,u,d,f,h,p,v){let _;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new ve(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){w1(v,p);const w=[];for(const A of v)w.push(_1(f,o,A));_={arrayValue:{values:w}}}else _=_1(f,o,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||w1(v,p),_=XV(d,u,v,p==="in"||p==="not-in");return Mt.create(h,p,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function $a(n,e,t){const r=e,a=hm("where",n);return mm._create(a,r,t)}class d0 extends c0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new d0(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Cr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,o){let u=a;const d=o.getFlattenedFilters();for(const f of d)jA(u,f),u=Ny(u,f)}(e._query,t),new Yi(e.firestore,e.converter,Ny(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class f0 extends OA{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new f0(e,t)}_apply(e){const t=function(a,o,u){if(a.startAt!==null)throw new ve(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ve(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Dc(o,u)}(e._query,this._field,this._direction);return new Yi(e.firestore,e.converter,function(a,o){const u=a.explicitOrderBy.concat([o]);return new Fl(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function MA(n,e="asc"){const t=e,r=hm("orderBy",n);return f0._create(r,t)}function _1(n,e,t){if(typeof(t=Nt(t))=="string"){if(t==="")throw new ve(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!DR(e)&&t.indexOf("/")!==-1)throw new ve(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ct.fromString(t));if(!Te.isDocumentKey(r))throw new ve(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ox(n,new Te(r))}if(t instanceof un)return Ox(n,t._key);throw new ve(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lm(t)}.`)}function w1(n,e){if(!Array.isArray(n)||n.length===0)throw new ve(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jA(n,e){const t=function(a,o){for(const u of a)for(const d of u.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ve(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class LA{convertValue(e,t="none"){switch(Hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Zs(e,(a,o)=>{r[a]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,a;const o=(a=(r=(t=e.fields)===null||t===void 0?void 0:t[wh].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(u=>At(u.doubleValue));return new r0(o)}convertGeoPoint(e){return new n0(At(e.latitude),At(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Zh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ic(e));default:return null}}convertTimestamp(e){const t=zs(e);return new yt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ct.fromString(e);Xe(iA(r),9688,{name:e});const a=new Pc(r.get(1),r.get(3)),o=new Te(r.popFirst(5));return a.isEqual(t)||zi(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class JV extends LA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ja(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class h0 extends Ph{constructor(e,t,r,a,o,u){super(e,t,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(hm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class eh extends h0{data(e={}){return super.data(e)}}class m0{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new ul(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new eh(this._firestore,this._userDataWriter,r.key,r,new ul(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(d=>{const f=new eh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ul(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>o||d.type!==3).map(d=>{const f=new eh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ul(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let h=-1,p=-1;return d.type!==0&&(h=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),p=u.indexOf(d.doc.key)),{type:e9(d.type),doc:f,oldIndex:h,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function e9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(n){n=Wt(n,un);const e=Wt(n.firestore,fr);return BV(so(e),n._key).then(t=>UA(e,n,t))}class id extends LA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ja(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,t)}}function Ba(n){n=Wt(n,Yi);const e=Wt(n.firestore,fr),t=so(e),r=new id(e);return DA(n._query),TA(t,n._query).then(a=>new m0(e,r,n,a))}function t9(n){n=Wt(n,Yi);const e=Wt(n.firestore,fr),t=so(e),r=new id(e);return TA(t,n._query,{source:"server"}).then(a=>new m0(e,r,n,a))}function Lc(n,e,t){n=Wt(n,un);const r=Wt(n.firestore,fr),a=pm(n.converter,e,t);return sd(r,[dm(zl(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,jt.none())])}function Vc(n,e,t,...r){n=Wt(n,un);const a=Wt(n.firestore,fr),o=zl(a);let u;return u=typeof(e=Nt(e))=="string"||e instanceof Bl?o0(o,"updateDoc",n._key,e,t,r):a0(o,"updateDoc",n._key,e),sd(a,[u.toMutation(n._key,jt.exists(!0))])}function cl(n){return sd(Wt(n.firestore,fr),[new Jc(n._key,jt.none())])}function yc(n,e){const t=Wt(n.firestore,fr),r=ft(n),a=pm(n.converter,e);return sd(t,[dm(zl(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,jt.exists(!1))]).then(()=>r)}function VA(n,...e){var t,r,a;n=Nt(n);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||b1(e[u])||(o=e[u],u++);const d={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(b1(e[u])){const v=e[u];e[u]=(t=v.next)===null||t===void 0?void 0:t.bind(v),e[u+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[u+2]=(a=v.complete)===null||a===void 0?void 0:a.bind(v)}let f,h,p;if(n instanceof un)h=Wt(n.firestore,fr),p=Jh(n._key.path),f={next:v=>{e[u]&&e[u](UA(h,n,v))},error:e[u+1],complete:e[u+2]};else{const v=Wt(n,Yi);h=Wt(v.firestore,fr),p=v._query;const _=new id(h);f={next:x=>{e[u]&&e[u](new m0(h,_,v,x))},error:e[u+1],complete:e[u+2]},DA(n._query)}return function(_,x,w,A){const C=new e0(A),j=new Wv(x,C,w);return _.asyncQueue.enqueueAndForget(async()=>Qv(await Nh(_),j)),()=>{C.yu(),_.asyncQueue.enqueueAndForget(async()=>Yv(await Nh(_),j))}}(so(h),p,d,f)}function sd(n,e){return function(r,a){const o=new ti;return r.asyncQueue.enqueueAndForget(async()=>AV(await FV(r),a,o)),o.promise}(so(n),e)}function UA(n,e,t){const r=t.docs.get(e._key),a=new id(n);return new h0(n,a,e._key,r,new ul(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=zl(e)}set(e,t,r){this._verifyNotCommitted();const a=Ps(e,this._firestore),o=pm(a.converter,t,r),u=dm(this._dataReader,"WriteBatch.set",a._key,o,a.converter!==null,r);return this._mutations.push(u.toMutation(a._key,jt.none())),this}update(e,t,r,...a){this._verifyNotCommitted();const o=Ps(e,this._firestore);let u;return u=typeof(t=Nt(t))=="string"||t instanceof Bl?o0(this._dataReader,"WriteBatch.update",o._key,t,r,a):a0(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,jt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ps(e,this._firestore);return this._mutations=this._mutations.concat(new Jc(t._key,jt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ve(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ps(n,e){if((n=Nt(n)).firestore!==e)throw new ve(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=zl(e)}get(e){const t=Ps(e,this._firestore),r=new JV(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||a.length!==1)return Se(24041);const o=a[0];if(o.isFoundDocument())return new Ph(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new Ph(this._firestore,r,t._key,null,t.converter);throw Se(18433,{doc:o})})}set(e,t,r){const a=Ps(e,this._firestore),o=pm(a.converter,t,r),u=dm(this._dataReader,"Transaction.set",a._key,o,a.converter!==null,r);return this._transaction.set(a._key,u),this}update(e,t,r,...a){const o=Ps(e,this._firestore);let u;return u=typeof(t=Nt(t))=="string"||t instanceof Bl?o0(this._dataReader,"Transaction.update",o._key,t,r,a):a0(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,u),this}delete(e){const t=Ps(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9 extends i9{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ps(e,this._firestore),r=new id(this._firestore);return super.get(e).then(a=>new h0(this._firestore,r,t._key,a._document,new ul(!1,!1),t.converter))}}function E1(n,e,t){n=Wt(n,fr);const r=Object.assign(Object.assign({},n9),t);return function(o){if(o.maxAttempts<1)throw new ve(ue.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,u,d){const f=new ti;return o.asyncQueue.enqueueAndForget(async()=>{const h=await $V(o);new LV(o.asyncQueue,h,d,u,f).Nu()}),f.promise}(so(n),a=>e(new s9(n,a)),r)}function vc(){return new s0("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(n){return so(n=Wt(n,fr)),new r9(n,e=>sd(n,e))}(function(e,t=!0){(function(a){Ll=a})(Ml),wl(new Ya("firestore",(r,{instanceIdentifier:a,options:o})=>{const u=r.getProvider("app").getImmediate(),d=new fr(new ZL(r.getProvider("auth-internal")),new t6(u,r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ve(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pc(h.options.projectId,p)}(u,a),u);return o=Object.assign({useFetchStreams:t},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),Ms(Ex,xx,e),Ms(Ex,xx,"esm2017")})();const a9={apiKey:"AIzaSyDj6zU8CAjgsj78h9ZJ04kOfHp8e91516I",authDomain:"trade-hub-2025.firebaseapp.com",projectId:"trade-hub-2025",storageBucket:"trade-hub-2025.firebasestorage.app",messagingSenderId:"89409182670",appId:"1:89409182670:web:c358f71e73946bb986e99f"},$A=SS(a9),eo=QL($A);eo.useDeviceLanguage();eo.settings.appVerificationDisabledForTesting=!1;const o9=new Xr;o9.setCustomParameters({prompt:"select_account"});const Me=HV($A);window.addEventListener("error",n=>{n.message.includes("Cross-Origin-Opener-Policy")&&console.warn("COOP policy warning - this is expected in development")});const Gn=T.createContext(void 0),l9=({children:n})=>{const[e,t]=T.useState(null),[r,a]=T.useState(!0);T.useEffect(()=>{let u=!0;const d=Lj(eo,async f=>{try{if(!u)return;if(f){t(f);try{const h=ft(Me,"users",f.uid);(await si(h)).exists()?await Lc(h,{lastLogin:vc()},{merge:!0}):await Lc(h,{email:f.email,displayName:f.displayName||"",photoURL:f.photoURL||"",createdAt:vc(),lastLogin:vc()})}catch(h){console.error("Error updating user document:",h)}}else t(null)}catch(h){console.error("Error in auth state change:",h),u&&t(null)}finally{u&&a(!1)}});return()=>{u=!1,d()}},[]);const o=async()=>{try{await eo.signOut(),t(null)}catch(u){throw console.error("Error signing out:",u),u}};return y.jsx(Gn.Provider,{value:{user:e,userLoading:r,setUser:t,logout:o},children:n})},u9={soundEnabled:!0,defaultDuration:5e3,maxNotifications:3,position:"top-right",animation:"slide"},c9="data:audio/wav;base64,UklGRl9vT19XQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YU",BA=T.createContext(void 0),d9=({children:n})=>{const[e,t]=T.useState([]),[r,a]=T.useState(()=>{const h=localStorage.getItem("notificationPreferences");return h?JSON.parse(h):u9});T.useEffect(()=>{localStorage.setItem("notificationPreferences",JSON.stringify(r))},[r]);const o=T.useCallback(h=>{a(p=>({...p,...h}))},[]),u=T.useCallback(h=>{t(p=>p.filter(v=>v.id!==h))},[]),d=T.useCallback(()=>{t([])},[]),f=T.useCallback((h,p,v)=>{const _=Math.random().toString(36).substr(2,9),x=v||r.defaultDuration;if(t(w=>(w.length>=r.maxNotifications&&(w=w.slice(1)),[...w,{id:_,message:h,type:p,duration:x}])),r.soundEnabled)try{const w=new Audio(c9);w.volume=.5,w.play().catch(()=>{console.debug("Could not play notification sound")})}catch{console.debug("Could not create notification sound")}setTimeout(()=>{u(_)},x)},[r.defaultDuration,r.maxNotifications,r.soundEnabled,u]);return y.jsx(BA.Provider,{value:{notifications:e,showNotification:f,removeNotification:u,clearAllNotifications:d,preferences:r,updatePreferences:o},children:n})},Kn=()=>{const n=T.useContext(BA);if(!n)throw new Error("useNotification must be used within a NotificationProvider");return n},p0=T.createContext(void 0),$f="tradehub_basket",x1=n=>{try{return n?JSON.parse(n):null}catch(e){return console.error("Error parsing JSON:",e),null}},f9=({children:n})=>{const[e,t]=T.useState(()=>{const h=localStorage.getItem($f),p=x1(h);return Array.isArray(p)?p:[]});T.useEffect(()=>{try{const h=JSON.stringify(e);localStorage.setItem($f,h)}catch(h){console.error("Error saving basket to localStorage:",h)}},[e]),T.useEffect(()=>{const h=p=>{if(p.key===$f&&p.newValue){const v=x1(p.newValue);Array.isArray(v)&&t(v)}};return window.addEventListener("storage",h),()=>window.removeEventListener("storage",h)},[]);const r=e.reduce((h,p)=>h+p.stock,0),a=async h=>{try{if(!h.stock||h.stock<=0)return{success:!1,reason:"Product is out of stock"};let p=!1;return t(v=>{const _=v.find(x=>x.product.id===h.id);return _?_.stock+1>h.stock?v:(p=!0,v.map(x=>x.product.id===h.id?{...x,stock:x.stock+1}:x)):h.stock<1?v:(p=!0,[...v,{product:h,stock:1}])}),await new Promise(v=>setTimeout(v,0)),p?{success:!0}:{success:!1,reason:"Cannot add more items than available stock"}}catch(p){return console.error("Error adding to basket:",p),{success:!1,reason:"Failed to add item to basket"}}},o=(h,p)=>{try{if(p<0)return{success:!1,reason:"Stock cannot be negative"};const v=e.find(_=>_.product.id===h);return v?p>v.product.stock?{success:!1,reason:"Cannot exceed available stock"}:(t(_=>_.map(x=>x.product.id===h?{...x,stock:p}:x)),{success:!0}):{success:!1,reason:"Item not found in basket"}}catch(v){return console.error("Error updating stock:",v),{success:!1,reason:"Failed to update stock"}}},u=h=>{try{t(p=>p.filter(v=>v.product.id!==h))}catch(p){console.error("Error removing from basket:",p)}},d=()=>{try{t([]),localStorage.removeItem($f)}catch(h){console.error("Error clearing basket:",h)}},f=async h=>{try{return e.find(v=>v.product.id===h)||null}catch(p){return console.error("Error getting basket item:",p),null}};return y.jsx(p0.Provider,{value:{basketItems:e,basketCount:r,addToBasket:a,updateStock:o,removeFromBasket:u,clearBasket:d,getBasketItem:f},children:n})},zA=()=>{const n=T.useContext(p0);if(n===void 0)throw new Error("useBasket must be used within a BasketProvider");return n},qA=()=>{const n=T.useContext(p0);if(!n)throw new Error("useBasket must be used within a BasketProvider");return n},HA=()=>{const{i18n:n}=An(),e=t=>{n.changeLanguage(t)};return y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("button",{onClick:()=>e("en"),className:`px-2 py-1 rounded ${n.language==="en"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"EN"}),y.jsx("button",{onClick:()=>e("pt"),className:`px-2 py-1 rounded ${n.language==="pt"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"PT"})]})},h9=({isOpen:n,onClose:e,basketItems:t,updateStock:r,removeFromBasket:a})=>{const{showNotification:o}=Kn(),u=hr(),{t:d}=An(),f=(p,v)=>{if(!t.find(w=>w.product.id===p)){o(d("cart.errors.itemNotFound"),"error");return}const x=r(p,v);if(!x.success){o(x.reason||d("cart.errors.updateFailed"),"error");return}},h=()=>{if(t.length===0){o("Seu carrinho est vazio","error");return}e(),u("/checkout")};return y.jsxs("div",{className:`fixed inset-0 z-50 overflow-hidden ${n?"pointer-events-auto":"pointer-events-none"}`,children:[y.jsx("div",{className:`absolute inset-0 bg-black transition-opacity duration-300 ${n?"opacity-50":"opacity-0"}`,onClick:e}),y.jsx("div",{className:`fixed inset-y-0 right-0 flex max-w-full pl-10 transition-transform duration-300 ${n?"translate-x-0":"translate-x-full"}`,children:y.jsx("div",{className:"w-screen max-w-md",children:y.jsxs("div",{className:"flex h-full flex-col overflow-y-scroll bg-white shadow-xl",children:[y.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-6 sm:px-6",children:[y.jsxs("div",{className:"flex items-start justify-between",children:[y.jsx("h2",{className:"text-lg font-medium text-gray-900",children:d("cart.title")}),y.jsxs("button",{type:"button",className:"relative -m-2 p-2 text-gray-400 hover:text-gray-500",onClick:e,children:[y.jsx("span",{className:"absolute -inset-0.5"}),y.jsx("span",{className:"sr-only",children:"Close panel"}),y.jsx(mS,{className:"h-6 w-6","aria-hidden":"true"})]})]}),y.jsx("div",{className:"mt-8",children:y.jsx("div",{className:"flow-root",children:y.jsx("ul",{role:"list",className:"-my-6 divide-y divide-gray-200",children:t.map(p=>y.jsxs("li",{className:"flex py-6",children:[y.jsx("div",{className:"h-24 w-24 flex-shrink-0 overflow-hidden rounded-md border border-gray-200",children:y.jsx("img",{src:(()=>{var x,w,A,C;const v=((w=(x=p.product.imageMetadataRef)==null?void 0:x[0])==null?void 0:w.thumbnailDataURL)||null;if(v)return v;const _=(C=(A=p.product.imageMetadataRef)==null?void 0:A.find(j=>j.type==="youtube"&&j.videoUrl))==null?void 0:C.videoUrl;return _||"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='150' height='150' viewBox='0 0 150 150'%3E%3Crect width='150' height='150' fill='%23f3f4f6'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' font-family='sans-serif' font-size='14' fill='%239ca3af'%3ENo Image%3C/text%3E%3C/svg%3E"})(),alt:p.product.name,className:"h-full w-full object-cover object-center",onError:v=>{v.currentTarget.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='150' height='150' viewBox='0 0 150 150'%3E%3Crect width='150' height='150' fill='%23f3f4f6'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' font-family='sans-serif' font-size='14' fill='%239ca3af'%3ENo Image%3C/text%3E%3C/svg%3E"}})}),y.jsxs("div",{className:"ml-4 flex flex-1 flex-col",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[y.jsx("h3",{children:p.product.name}),y.jsxs("p",{className:"ml-4",children:["R$",p.product.price]})]}),y.jsx("p",{className:"mt-1 text-sm text-gray-500",children:p.product.category})]}),y.jsxs("div",{className:"flex flex-1 items-end justify-between text-sm",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("button",{onClick:()=>f(p.product.id,p.stock-1),className:"rounded-full p-1 hover:bg-gray-100",children:y.jsx($4,{className:"h-4 w-4"})}),y.jsxs("span",{className:"text-gray-500",children:["Qty ",p.stock]}),y.jsx("button",{onClick:()=>f(p.product.id,p.stock+1),className:"rounded-full p-1 hover:bg-gray-100",children:y.jsx(z4,{className:"h-4 w-4"})})]}),y.jsx("button",{type:"button",onClick:()=>a(p.product.id),className:"font-medium text-indigo-600 hover:text-indigo-500",children:y.jsx(Sc,{className:"h-5 w-5"})})]})]})]},p.product.id))})})})]}),y.jsxs("div",{className:"border-t border-gray-200 px-4 py-6 sm:px-6",children:[y.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[y.jsx("p",{children:d("cart.subtotal")}),y.jsxs("p",{children:["R$",t.reduce((p,v)=>p+v.product.price*v.stock,0).toFixed(2)]})]}),y.jsx("p",{className:"mt-0.5 text-sm text-gray-500",children:d("cart.shippingAndTaxes")}),y.jsx("div",{className:"mt-6",children:y.jsx("button",{onClick:h,className:"flex w-full items-center justify-center rounded-md border border-transparent bg-indigo-600 px-6 py-3 text-base font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:d("cart.checkout")})}),y.jsx("div",{className:"mt-6 flex justify-center text-center text-sm text-gray-500",children:y.jsxs("p",{children:[d("cart.or")+" ",y.jsxs("button",{type:"button",className:"font-medium text-indigo-600 hover:text-indigo-500",onClick:e,children:[d("cart.continueShopping"),y.jsx("span",{"aria-hidden":"true",children:" "})]})]})})]})]})})})]})},T1=[{name:"nav.sellingProducts",href:"/home",current:!1},{name:"nav.myProducts",href:"/my-products",current:!1},{name:"nav.myFavorites",href:"/my-favorites",current:!1},{name:"nav.myPurchases",href:"/my-purchases",current:!1}],m9=()=>{const{user:n,logout:e}=T.useContext(Gn),t=hr(),{basketCount:r,basketItems:a,updateStock:o,removeFromBasket:u}=qA(),[d,f]=T.useState(!1),{t:h}=An(),p=async()=>{try{await e(),t("/login")}catch(v){console.error("Error logging out:",v)}};return y.jsx(y.Fragment,{children:n&&y.jsxs(d4,{as:"nav",className:"bg-gray-800",children:[y.jsx("div",{className:"mx-auto max-w-7xl px-2 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"relative flex h-16 items-center justify-between",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center sm:hidden",children:y.jsxs(fy,{className:"group relative inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-700 hover:text-white focus:ring-2 focus:ring-white focus:outline-hidden focus:ring-inset",children:[y.jsx("span",{className:"absolute -inset-0.5"}),y.jsx("span",{className:"sr-only",children:"Open main menu"}),y.jsx(U4,{"aria-hidden":"true",className:"block size-6 group-data-open:hidden"}),y.jsx(mS,{"aria-hidden":"true",className:"hidden size-6 group-data-open:block"})]})}),y.jsxs("div",{className:"flex flex-1 items-center justify-center sm:items-stretch sm:justify-start",children:[y.jsx("div",{className:"flex shrink-0 items-center",children:y.jsx(bl,{to:"/home",className:"flex items-center",children:y.jsx("img",{alt:"TradeHub Platform",src:pS,className:"h-8 w-auto cursor-pointer"})})}),y.jsx("div",{className:"hidden sm:ml-6 sm:block",children:y.jsx("div",{className:"flex space-x-4",children:T1.map(v=>y.jsx(bl,{to:v.href,"aria-current":v.current?"page":void 0,className:`rounded-md px-3 py-2 text-sm font-medium ${v.current?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:h(v.name)},v.name))})})]}),y.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0",children:[y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx(HA,{}),y.jsxs("button",{type:"button",className:"relative rounded-full bg-gray-800 p-1 text-gray-400 hover:text-white focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800 focus:outline-hidden",onClick:()=>f(!0),children:[y.jsx("span",{className:"absolute -inset-1.5"}),y.jsx("span",{className:"sr-only",children:"View cart"}),y.jsx(H4,{"aria-hidden":"true",className:"size-6"}),r>0&&y.jsx("span",{className:"absolute -top-2 -right-2 bg-[#A78BFA] rounded-full px-2 text-xs text-white",children:r})]})]}),y.jsx(h9,{isOpen:d,onClose:()=>f(!1),basketItems:a,updateStock:o,removeFromBasket:u}),y.jsxs(L4,{as:"div",className:"relative ml-3",children:[y.jsx("div",{children:y.jsxs(fS,{className:"relative flex rounded-full bg-gray-800 text-sm focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800 focus:outline-hidden",children:[y.jsx("span",{className:"absolute -inset-1.5"}),y.jsx("span",{className:"sr-only",children:"Open user menu"}),y.jsx("img",{alt:"",src:n!=null&&n.photoURL&&n.photoURL.startsWith("http")?n.photoURL:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",className:"size-8 rounded-full",onError:v=>{v.currentTarget.src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"}})]})}),y.jsxs(hS,{transition:!0,className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black/5 transition focus:outline-hidden data-closed:scale-95 data-closed:transform data-closed:opacity-0 data-enter:duration-100 data-enter:ease-out data-leave:duration-75 data-leave:ease-in",children:[y.jsx(rl,{children:y.jsx("a",{href:"/edit-profile",className:"block px-4 py-2 text-sm text-gray-700 data-focus:bg-gray-100 data-focus:outline-hidden",children:(n==null?void 0:n.displayName)||(n==null?void 0:n.email)||h("common.guest")})}),(n==null?void 0:n.displayName)&&y.jsx(hy,{className:"border-t border-gray-200 my-1"}),!(n!=null&&n.displayName)&&(n==null?void 0:n.email)&&y.jsx(hy,{className:"border-t border-gray-200 my-1"}),y.jsx(rl,{children:y.jsx("a",{href:"/my-products",className:"block px-4 py-2 text-sm text-gray-700 data-focus:bg-gray-100 data-focus:outline-hidden",children:h("products.myProducts")})}),y.jsx(rl,{children:y.jsx("a",{href:"/my-favorites",className:"block px-4 py-2 text-sm text-gray-700 data-focus:bg-gray-100 data-focus:outline-hidden",children:h("products.favorites")})}),y.jsx(rl,{children:y.jsx("a",{href:"/my-purchases",className:"block px-4 py-2 text-sm text-gray-700 data-focus:bg-gray-100 data-focus:outline-hidden",children:h("orders.myPurchases")})}),y.jsx(rl,{children:y.jsx("a",{href:"#",onClick:p,className:"block px-4 py-2 text-sm text-gray-700 data-focus:bg-gray-100 data-focus:outline-hidden",children:h("auth.logout")})})]})]})]})]})}),y.jsx(lS,{className:"sm:hidden",children:y.jsx("div",{className:"space-y-1 px-2 pt-2 pb-3",children:T1.map(v=>y.jsx(fy,{as:"a",href:v.href,"aria-current":v.current?"page":void 0,className:`block rounded-md px-3 py-2 text-base font-medium ${v.current?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:h(v.name)},v.name))})})]})})},p9=({isOpen:n,onClose:e})=>{const[t,r]=T.useState(""),[a,o]=T.useState(!1),[u,d]=T.useState(null),{t:f}=An(),{showNotification:h}=Kn(),p=async v=>{v.preventDefault(),d(null),o(!0);try{await Dj(eo,t),h(f("auth.notifications.resetEmailSent"),"success"),e()}catch(_){console.error("Error sending reset email:",_);let x=f("auth.notifications.resetEmailError");_&&typeof _=="object"&&"code"in _&&(_.code==="auth/user-not-found"?x=f("auth.notifications.userNotFound"):_.code==="auth/invalid-email"&&(x=f("auth.notifications.invalidEmail"))),d(x)}finally{o(!1)}};return n?y.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:y.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[y.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:e}),y.jsxs("div",{className:"relative inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[y.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:y.jsx("div",{className:"sm:flex sm:items-start",children:y.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:text-left w-full",children:[y.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:f("auth.resetPassword")}),y.jsx("div",{className:"mt-2",children:y.jsx("p",{className:"text-sm text-gray-500",children:f("auth.resetPasswordDescription")})}),y.jsxs("form",{onSubmit:p,className:"mt-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"sr-only",children:f("auth.email")}),y.jsx("input",{type:"email",id:"email",value:t,onChange:v=>r(v.target.value),className:"appearance-none rounded relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:f("auth.email"),required:!0})]}),u&&y.jsx("p",{className:"mt-2 text-sm text-red-600",children:u})]})]})})}),y.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[y.jsx("button",{type:"button",onClick:p,disabled:a,className:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:w-auto sm:text-sm ${a?"opacity-75 cursor-not-allowed":""}`,children:a?y.jsxs("div",{className:"flex items-center",children:[y.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),f("auth.sending")]}):f("auth.sendResetLink")}),y.jsx("button",{type:"button",onClick:e,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:f("auth.cancel")})]})]})]})}):null},g9=()=>{const[n,e]=T.useState(""),[t,r]=T.useState(""),[a,o]=T.useState({}),[u,d]=T.useState(!1),{setUser:f}=T.useContext(Gn),h=hr(),{t:p}=An(),{showNotification:v}=Kn(),_=()=>{const A={},C=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return n.trim()?C.test(n)||(A.email=p("auth.validation.emailInvalid")):A.email=p("auth.validation.emailRequired"),t?t.length<6&&(A.password=p("auth.validation.passwordMinLength")):A.password=p("auth.validation.passwordRequired"),o(A),Object.keys(A).length===0},x=async A=>{if(A.preventDefault(),!!_())try{const C=await Oj(eo,n,t);f(C.user),v(p("auth.notifications.loginSuccess"),"success"),h("/home")}catch{v(p("auth.notifications.loginError"),"error")}},w=async()=>{try{const A=new Xr,C=await rL(eo,A);f(C.user),v(p("auth.notifications.loginSuccess"),"success"),h("/home")}catch{v(p("auth.notifications.loginError"),"error")}};return y.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[y.jsx("header",{className:"bg-white shadow",children:y.jsx("div",{className:"container mx-auto px-4 py-4 flex justify-end",children:y.jsx(HA,{})})}),y.jsx("div",{className:"flex-1 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"max-w-md w-full space-y-8",children:[y.jsxs("div",{children:[y.jsx("img",{className:"mx-auto h-12 w-auto bg-gray-800",src:pS,alt:"TradeHub"}),y.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:p("auth.welcomeBack")}),y.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:p("auth.signInToAccount")})]}),y.jsxs("form",{className:"mt-8 space-y-6",onSubmit:x,children:[y.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email-address",className:"sr-only",children:p("auth.email")}),y.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:`appearance-none rounded-none relative block w-full px-3 py-2 border ${a.email?"border-red-300":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm`,placeholder:p("auth.email"),value:n,onChange:A=>e(A.target.value)}),a.email&&y.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.email})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"sr-only",children:p("auth.password")}),y.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:`appearance-none rounded-none relative block w-full px-3 py-2 border ${a.password?"border-red-300":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm`,placeholder:p("auth.password"),value:t,onChange:A=>r(A.target.value)}),a.password&&y.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.password})]})]}),y.jsx("div",{children:y.jsx("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:p("auth.login")})}),y.jsx("div",{className:"text-sm text-center",children:y.jsx("button",{type:"button",onClick:()=>d(!0),className:"font-medium text-indigo-600 hover:text-indigo-500",children:p("auth.forgotPassword")})})]}),y.jsxs("div",{className:"mt-6",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("div",{className:"w-full border-t border-gray-300"})}),y.jsx("div",{className:"relative flex justify-center text-sm",children:y.jsx("span",{className:"px-2 bg-white text-gray-500",children:p("auth.orContinueWith")})})]}),y.jsx("div",{className:"mt-6",children:y.jsxs("button",{onClick:w,className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[y.jsx("img",{className:"h-5 w-5 mr-2",src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google logo"}),p("auth.signInWithGoogle")]})})]})]})}),y.jsx(p9,{isOpen:u,onClose:()=>d(!1)})]})},GA=async(n,e,t)=>new Promise((r,a)=>{const o=new Image;o.src=URL.createObjectURL(n),o.onload=()=>{let u=o.width,d=o.height;u>d?u>e&&(d=d*e/u,u=e):d>e&&(u=u*e/d,d=e);const f=document.createElement("canvas");f.width=u,f.height=d;const h=f.getContext("2d");if(!h){a(new Error("Could not get canvas context"));return}h.drawImage(o,0,0,u,d),f.toBlob(p=>{p?r(p):a(new Error("Could not compress image"))},"image/jpeg",t)},o.onerror=()=>a(new Error("Could not load image"))}),th=async(n,e)=>new Promise((t,r)=>{const a=new Image;a.src=URL.createObjectURL(n),a.onload=()=>{const o=document.createElement("canvas"),u=o.getContext("2d");if(!u){r(new Error("Could not get canvas context"));return}let d=a.width,f=a.height;d>f?d>e&&(f=f*e/d,d=e):f>e&&(d=d*e/f,f=e),o.width=d,o.height=f,u.drawImage(a,0,0,d,f),o.toBlob(h=>{h?t(h):r(new Error("Could not create thumbnail"))},"image/jpeg",.7)},a.onerror=()=>r(new Error("Could not load image"))}),dl=async n=>new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{const a=r.result;e(a)},r.onerror=()=>t(new Error("Could not convert blob to data URL")),r.readAsDataURL(n)}),y9=({message:n,type:e,onClose:t,duration:r=5e3,animation:a,exitAnimation:o})=>{const[u,d]=T.useState(!1),[f,h]=T.useState(100);T.useEffect(()=>{const w=Date.now()+r,A=()=>{const C=Date.now(),U=(w-C)/r*100;U<=0?p():(h(U),requestAnimationFrame(A))};return requestAnimationFrame(A),()=>{h(0)}},[r]);const p=()=>{d(!0),setTimeout(t,300)},v=()=>{switch(e){case"success":return"bg-green-50 border-green-500 text-green-800";case"error":return"bg-red-50 border-red-500 text-red-800";case"warning":return"bg-yellow-50 border-yellow-500 text-yellow-800";case"info":return"bg-blue-50 border-blue-500 text-blue-800";default:return"bg-gray-50 border-gray-500 text-gray-800"}},_=()=>{switch(e){case"success":return y.jsx("svg",{className:"h-6 w-6 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})});case"error":return y.jsx("svg",{className:"h-6 w-6 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})});case"warning":return y.jsx("svg",{className:"h-6 w-6 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})});case"info":return y.jsx("svg",{className:"h-6 w-6 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}};return y.jsxs("div",{className:`relative w-96 shadow-xl rounded-lg pointer-events-auto border-l-4 ${v()} ${u?o:a}`,children:[y.jsx("div",{className:"p-6",children:y.jsxs("div",{className:"flex items-start",children:[y.jsx("div",{className:"flex-shrink-0",children:_()}),y.jsx("div",{className:"ml-4 w-0 flex-1",children:y.jsx("p",{className:"text-base font-medium",children:n})}),y.jsx("div",{className:"ml-4 flex-shrink-0 flex",children:y.jsxs("button",{className:"inline-flex text-gray-400 hover:text-gray-500 focus:outline-none",onClick:p,children:[y.jsx("span",{className:"sr-only",children:"Close"}),y.jsx("svg",{className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})}),y.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1.5 bg-gray-200 rounded-b-lg overflow-hidden",children:y.jsx("div",{className:"h-full transition-all duration-100 ease-linear",style:{width:`${f}%`,backgroundColor:e==="success"?"#10B981":e==="error"?"#EF4444":e==="warning"?"#F59E0B":"#3B82F6"}})})]})},g0=()=>{const{notifications:n,removeNotification:e,clearAllNotifications:t,preferences:r}=Kn(),a=()=>{switch(r.position){case"top-left":return"top-8 left-8";case"bottom-right":return"bottom-8 right-8";case"bottom-left":return"bottom-8 left-8";default:return"top-8 right-8"}},o=u=>{const d=u?"-out":"-in";switch(r.animation){case"fade":return`animate-fade${d}`;case"bounce":return`animate-bounce${d}`;case"scale":return`animate-scale${d}`;default:return`animate-slide${d}`}};return n.length===0?null:y.jsxs("div",{className:`fixed ${a()} z-50 flex flex-col gap-4`,children:[n.length>1&&y.jsx("button",{onClick:t,className:"self-end mb-2 px-4 py-2 text-sm font-medium text-gray-600 hover:text-gray-800 bg-white rounded-md shadow-sm hover:bg-gray-50 transition-colors duration-200",children:"Clear All"}),n.map((u,d)=>y.jsx("div",{className:"transform transition-all duration-300 ease-in-out",style:{transform:`translateY(${d*16}px)`,zIndex:n.length-d},children:y.jsx(y9,{message:u.message,type:u.type,onClose:()=>e(u.id),duration:u.duration,animation:o(!1),exitAnimation:o(!0)})},u.id))]})},KA=ke.createContext(null),gm=()=>{const n=T.useContext(KA);if(!n)throw new Error("useProducts must be used within a ProductProvider");return n},v9=["Eletronico","Livros","Roupas","Casa","Outro"],b9=["Novo Selado","Semi-Novo - Pouco Uso","Usado","Beeeeeem Usado"],_9=()=>{const{t:n}=An(),e=hr(),[t,r]=T.useState(!1),[a,o]=T.useState(!1),{showNotification:u}=Kn(),{user:d}=T.useContext(Gn),[f,h]=T.useState(""),[p,v]=T.useState([]),[_,x]=T.useState([]),[w,A]=T.useState({}),[C,j]=T.useState({id:"",name:"",description:"",price:0,stock:0,category:"",condition:"",owner:(d==null?void 0:d.email)||"",createdAt:yt.now(),brand:"",weight:"",dimensions:"",shippingCost:0,freeShipping:!1,status:"draft"}),{refreshProducts:U}=gm();T.useEffect(()=>{let N;return t&&(N=setTimeout(()=>{o(!0)},5e3)),()=>{N&&clearTimeout(N)}},[t]);const F=N=>{if(N.includes("/shorts/")){const K=N.match(/\/shorts\/([^/?]+)/);return K?K[1]:null}const $=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,B=N.match($);return B&&B[2].length===11?B[2]:null},Y=async N=>{const $=["maxresdefault","hqdefault","mqdefault","default"];for(const B of $){const K=`https://img.youtube.com/vi/${N}/${B}.jpg`;try{if((await fetch(K)).ok)return K}catch(H){console.warn(`Failed to fetch ${B} thumbnail:`,H)}}return`https://img.youtube.com/vi/${N}/default.jpg`},X=async()=>{try{const N=F(f);if(!N){u("URL YouTube invlida","error");return}const $=await Y(N),B={url:f,videoId:N,thumbnailUrl:$,type:"youtube"};v(K=>[...K,B]),h(""),u("YouTube video adicionado com sucesso!","success")}catch(N){console.error("Erro ao adicionar o YouTube video:",N),u("Erro ao adicionar o YouTube video","error")}},de=N=>{if(v($=>$.filter((B,K)=>K!==N)),"file"in p[N]){const $=[..._];$.splice(N,1),x($)}},M=N=>{if(N===0)return"0 Bytes";const $=1024,B=["Bytes","KB","MB","GB"],K=Math.floor(Math.log(N)/Math.log($));return parseFloat((N/Math.pow($,K)).toFixed(2))+" "+B[K]},I=N=>{const B=Math.ceil(N*4/3);return Math.ceil(B/4e3)},P=N=>new Promise(($,B)=>{const K=new Image;K.onload=()=>{$({width:K.width,height:K.height})},K.onerror=B,K.src=URL.createObjectURL(N)}),D=()=>{const N={};return C.name.trim()||(N.name=n("products.management.validation.nameRequired")),C.description.trim()||(N.description=n("products.management.validation.descriptionRequired")),C.price?(isNaN(Number(C.price))||Number(C.price)<=0)&&(N.price=n("products.management.validation.priceInvalid")):N.price=n("products.management.validation.priceRequired"),C.stock?(isNaN(Number(C.stock))||Number(C.stock)<0)&&(N.stock=n("products.management.validation.stockInvalid")):N.stock=n("products.management.validation.stockRequired"),C.category||(N.category=n("products.management.validation.categoryRequired")),C.condition||(N.condition=n("products.management.validation.conditionRequired")),p.length===0&&(N.images=n("products.management.validation.imageRequired")),A(N),Object.keys(N).length===0},L=T.useRef(null),q=()=>{var N;(N=L.current)==null||N.click()},V=T.useRef(null),be=()=>{var N;(N=V.current)==null||N.click()},we=async N=>{const $=N.target.files;for(const B of $)if(!B.type.startsWith("image/")){u("All files must be image type","error");return}if($&&$.length>5){u("You can only upload a maximum of 5 images","error");return}if(N.target.files){const B=Array.from(N.target.files);x(B);const K=[];for(const H of B)try{const ie=await th(H,200),ae=await dl(ie),ge=await P(H);K.push({file:H,thumbnailUrl:ae,fileInfo:{name:H.name,type:H.type,size:M(H.size),estimatedChunks:I(H.size),dimensions:ge}})}catch(ie){console.error("Erro ao processar imagem:",ie)}v(H=>[...H,...K])}},W=async N=>{const $=N.target.files;for(const B of $)if(!B.type.startsWith("image/")){u("All files must be image type","error");return}if($&&$.length>5){u("You can only upload a maximum of 5 images","error");return}if(N.target.files){const B=Array.from(N.target.files);x(H=>[...Array.isArray(H)?H:[],...B]);const K=[];for(const H of B)try{const ie=await th(H,200),ae=await dl(ie),ge=await P(H);K.push({file:H,thumbnailUrl:ae,fileInfo:{name:H.name,type:H.type,size:M(H.size),estimatedChunks:I(H.size),dimensions:ge}})}catch(ie){console.error("Erro ao processar imagem:",ie)}v(H=>[...H,...K])}},oe=N=>{const{name:$,value:B,type:K}=N.target;j(H=>({...H,[$]:K==="checkbox"?N.target.checked:$==="price"||$==="stock"?Number(B):B}))},me=()=>{const N=navigator.userAgent||navigator.vendor||window.opera||"";return/android|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(N)},ee=async N=>{var B,K,H,ie;if(N.preventDefault(),!D())return;if(!d){u(n("products.management.errors.notAuthenticated"),"error");return}r(!0);const $=[];try{const ae=ft(bn(Me,"products")),ge=ae.id;for(const Oe of p){const lt=ft(bn(Me,"products-images")),Zt=lt.id;if("videoId"in Oe)$.push({type:"youtube",videoId:Oe.videoId,thumbnailDataURL:Oe.thumbnailUrl,fullImageRef:null,videoUrl:Oe.url});else{const fn=await th(Oe.file,200),gr=await dl(fn);$.push({thumbnailDataURL:gr,fullImageRef:lt.path,videoId:null,videoUrl:null,type:"image"});const yr=await GA(Oe.file,1920,.8),Pr=await dl(yr),[Xi,Jt]=Pr.split(","),ea=Xi.split(":")[1].split(";")[0],oi=4e3,Qn=Jt.match(new RegExp(`.{1,${oi}}`,"g"))||[],li=Qn.length;console.log("chunksLenght",Qn.length);const ao=FA(Me);Qn.forEach((Wi,ta)=>{const oo=ft(Me,"products-images",Zt,`chunks/chunk${ta}`);ao.set(oo,{data:Wi})}),await ao.commit(),await Lc(lt,{fileName:Oe.file.name,mimeType:ea,type:((B=Oe.fileInfo)==null?void 0:B.type)||"",size:((K=Oe.fileInfo)==null?void 0:K.size)||"",estimatedChunks:((H=Oe.fileInfo)==null?void 0:H.estimatedChunks)||0,chunkCount:li,dimensions:((ie=Oe.fileInfo)==null?void 0:ie.dimensions)||null,createdAt:yt.now(),productId:ge,userId:d.uid})}}const ye={...C,userId:d.uid,owner:d.email,createdAt:yt.now(),updatedAt:yt.now(),imageMetadataRef:$,status:"draft"};await Lc(ae,ye),u(n("products.saveSuccess"),"success"),await U(),e("/my-products")}catch(ae){console.error("Falha ao criar produto:",ae),u(n("products.saveError"),"error")}finally{r(!1)}};return y.jsxs("div",{className:"container mx-auto px-4 py-8",children:[y.jsx(g0,{}),y.jsxs("div",{className:"max-w-2xl mx-auto",children:[y.jsx("h1",{className:"text-2xl font-bold mb-6",children:n("products.newProduct.title")}),t&&y.jsx("div",{className:"flex justify-center items-center mb-6",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500",children:y.jsx("span",{className:"sr-only",children:n(a?"products.newProduct.loadingTimeout":"products.newProduct.loading")})})}),y.jsxs("form",{onSubmit:ee,className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"productName",className:"block text-sm font-medium text-gray-700",children:n("products.newProduct.name")}),y.jsx("input",{type:"text",id:"productName",name:"name",value:C.name,onChange:oe,required:!0,className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 ${w.name?"border-red-300":""}`}),w.name&&y.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.name})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"productDescription",className:"block text-sm font-medium text-gray-700",children:n("products.newProduct.description")}),y.jsx("textarea",{id:"productDescription",name:"description",value:C.description,onChange:oe,required:!0,rows:4,className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 ${w.description?"border-red-300":""}`}),w.description&&y.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.description})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium text-gray-700",children:n("products.newProduct.stock")}),y.jsx("input",{type:"number",id:"stock",name:"stock",value:C.stock,onChange:oe,required:!0,min:"0",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:n("products.newProduct.price")}),y.jsx("input",{type:"number",id:"price",name:"price",value:C.price,onChange:oe,required:!0,min:"0",step:"0.01",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:n("products.newProduct.category")}),y.jsxs("select",{id:"category",name:"category",value:C.category,onChange:oe,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[y.jsx("option",{value:"",children:n("products.selectCategory")}),v9.map(N=>y.jsx("option",{value:N,children:N},N))]})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"condition",className:"block text-sm font-medium text-gray-700",children:n("products.newProduct.condition")}),y.jsxs("select",{id:"condition",name:"condition",value:C.condition,onChange:oe,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[y.jsx("option",{value:"",children:n("products.selectCondition")}),b9.map(N=>y.jsx("option",{value:N,children:N},N))]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n("products.newProduct.uploadImages")}),y.jsxs("div",{className:"flex gap-2 mb-4",children:[me()&&y.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:be,children:n("products.newProduct.captureFromCamera")}),y.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:q,children:n("products.newProduct.selectPhotos")})]}),y.jsx("div",{className:"mb-4",children:y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{type:"text",value:f,onChange:N=>h(N.target.value),placeholder:n("products.newProduct.youtubeUrlPlaceholder"),className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),y.jsx("button",{type:"button",onClick:X,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:n("products.newProduct.addVideo")})]})}),y.jsx("input",{id:"images",type:"file",accept:"image/*",capture:"environment",onChange:we,ref:V,className:"hidden"}),y.jsx("input",{id:"gallery-images",type:"file",multiple:!0,accept:"image/*",onChange:W,ref:L,className:"hidden"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n("products.newProduct.selectedMedia")}),y.jsx("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map((N,$)=>{var B,K;return y.jsx("div",{className:"relative bg-white p-4 rounded-lg border border-gray-300 shadow-sm",children:y.jsxs("div",{className:"flex items-start space-x-4",children:[y.jsxs("div",{className:"relative w-20 h-20 overflow-hidden rounded-lg border border-gray-300 flex-shrink-0",children:[y.jsx("button",{type:"button",className:"absolute top-1 right-1 bg-white rounded-full p-1 text-gray-500 hover:text-gray-700 focus:outline-none",onClick:()=>de($),children:y.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),y.jsx("img",{src:("type"in N,N.thumbnailUrl),alt:`Media Item ${$}`,className:"w-full h-full object-cover"})]}),y.jsx("div",{className:"flex-1 min-w-0",children:"type"in N?y.jsxs(y.Fragment,{children:[y.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:n("products.newProduct.youtubeVideo")}),y.jsx("div",{className:"mt-1 text-sm text-gray-500 space-y-1",children:y.jsxs("p",{children:[n("products.newProduct.videoId"),": ",N.videoId]})})]}):y.jsxs(y.Fragment,{children:[y.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:N.file.name}),N.fileInfo&&y.jsxs("div",{className:"mt-1 text-sm text-gray-500 space-y-1",children:[y.jsxs("p",{children:[n("products.newProduct.type"),":"," ",N.fileInfo.type]}),y.jsxs("p",{children:[n("products.newProduct.size"),":"," ",N.fileInfo.size]}),y.jsxs("p",{children:[n("products.newProduct.dimensions"),":"," ",(B=N.fileInfo.dimensions)==null?void 0:B.width," x"," ",(K=N.fileInfo.dimensions)==null?void 0:K.height," ",n("products.newProduct.pixels")]}),y.jsxs("p",{children:[n("products.newProduct.estimatedChunks"),":"," ",N.fileInfo.estimatedChunks]})]})]})})]})},$)})})]}),y.jsx("div",{className:"flex justify-end",children:y.jsx("button",{type:"submit",disabled:t,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:n("common.save")})})]})]})]})};var w9=Object.defineProperty,kh=Object.getOwnPropertySymbols,QA=Object.prototype.hasOwnProperty,YA=Object.prototype.propertyIsEnumerable,S1=(n,e,t)=>e in n?w9(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Fy=(n,e)=>{for(var t in e||(e={}))QA.call(e,t)&&S1(n,t,e[t]);if(kh)for(var t of kh(e))YA.call(e,t)&&S1(n,t,e[t]);return n},$y=(n,e)=>{var t={};for(var r in n)QA.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&kh)for(var r of kh(n))e.indexOf(r)<0&&YA.call(n,r)&&(t[r]=n[r]);return t};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var to;(n=>{const e=class Be{constructor(f,h,p,v){if(this.version=f,this.errorCorrectionLevel=h,this.modules=[],this.isFunction=[],f<Be.MIN_VERSION||f>Be.MAX_VERSION)throw new RangeError("Version value out of range");if(v<-1||v>7)throw new RangeError("Mask value out of range");this.size=f*4+17;let _=[];for(let w=0;w<this.size;w++)_.push(!1);for(let w=0;w<this.size;w++)this.modules.push(_.slice()),this.isFunction.push(_.slice());this.drawFunctionPatterns();const x=this.addEccAndInterleave(p);if(this.drawCodewords(x),v==-1){let w=1e9;for(let A=0;A<8;A++){this.applyMask(A),this.drawFormatBits(A);const C=this.getPenaltyScore();C<w&&(v=A,w=C),this.applyMask(A)}}a(0<=v&&v<=7),this.mask=v,this.applyMask(v),this.drawFormatBits(v),this.isFunction=[]}static encodeText(f,h){const p=n.QrSegment.makeSegments(f);return Be.encodeSegments(p,h)}static encodeBinary(f,h){const p=n.QrSegment.makeBytes(f);return Be.encodeSegments([p],h)}static encodeSegments(f,h,p=1,v=40,_=-1,x=!0){if(!(Be.MIN_VERSION<=p&&p<=v&&v<=Be.MAX_VERSION)||_<-1||_>7)throw new RangeError("Invalid value");let w,A;for(w=p;;w++){const F=Be.getNumDataCodewords(w,h)*8,Y=u.getTotalBits(f,w);if(Y<=F){A=Y;break}if(w>=v)throw new RangeError("Data too long")}for(const F of[Be.Ecc.MEDIUM,Be.Ecc.QUARTILE,Be.Ecc.HIGH])x&&A<=Be.getNumDataCodewords(w,F)*8&&(h=F);let C=[];for(const F of f){t(F.mode.modeBits,4,C),t(F.numChars,F.mode.numCharCountBits(w),C);for(const Y of F.getData())C.push(Y)}a(C.length==A);const j=Be.getNumDataCodewords(w,h)*8;a(C.length<=j),t(0,Math.min(4,j-C.length),C),t(0,(8-C.length%8)%8,C),a(C.length%8==0);for(let F=236;C.length<j;F^=253)t(F,8,C);let U=[];for(;U.length*8<C.length;)U.push(0);return C.forEach((F,Y)=>U[Y>>>3]|=F<<7-(Y&7)),new Be(w,h,U,_)}getModule(f,h){return 0<=f&&f<this.size&&0<=h&&h<this.size&&this.modules[h][f]}getModules(){return this.modules}drawFunctionPatterns(){for(let p=0;p<this.size;p++)this.setFunctionModule(6,p,p%2==0),this.setFunctionModule(p,6,p%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const f=this.getAlignmentPatternPositions(),h=f.length;for(let p=0;p<h;p++)for(let v=0;v<h;v++)p==0&&v==0||p==0&&v==h-1||p==h-1&&v==0||this.drawAlignmentPattern(f[p],f[v]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(f){const h=this.errorCorrectionLevel.formatBits<<3|f;let p=h;for(let _=0;_<10;_++)p=p<<1^(p>>>9)*1335;const v=(h<<10|p)^21522;a(v>>>15==0);for(let _=0;_<=5;_++)this.setFunctionModule(8,_,r(v,_));this.setFunctionModule(8,7,r(v,6)),this.setFunctionModule(8,8,r(v,7)),this.setFunctionModule(7,8,r(v,8));for(let _=9;_<15;_++)this.setFunctionModule(14-_,8,r(v,_));for(let _=0;_<8;_++)this.setFunctionModule(this.size-1-_,8,r(v,_));for(let _=8;_<15;_++)this.setFunctionModule(8,this.size-15+_,r(v,_));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let f=this.version;for(let p=0;p<12;p++)f=f<<1^(f>>>11)*7973;const h=this.version<<12|f;a(h>>>18==0);for(let p=0;p<18;p++){const v=r(h,p),_=this.size-11+p%3,x=Math.floor(p/3);this.setFunctionModule(_,x,v),this.setFunctionModule(x,_,v)}}drawFinderPattern(f,h){for(let p=-4;p<=4;p++)for(let v=-4;v<=4;v++){const _=Math.max(Math.abs(v),Math.abs(p)),x=f+v,w=h+p;0<=x&&x<this.size&&0<=w&&w<this.size&&this.setFunctionModule(x,w,_!=2&&_!=4)}}drawAlignmentPattern(f,h){for(let p=-2;p<=2;p++)for(let v=-2;v<=2;v++)this.setFunctionModule(f+v,h+p,Math.max(Math.abs(v),Math.abs(p))!=1)}setFunctionModule(f,h,p){this.modules[h][f]=p,this.isFunction[h][f]=!0}addEccAndInterleave(f){const h=this.version,p=this.errorCorrectionLevel;if(f.length!=Be.getNumDataCodewords(h,p))throw new RangeError("Invalid argument");const v=Be.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][h],_=Be.ECC_CODEWORDS_PER_BLOCK[p.ordinal][h],x=Math.floor(Be.getNumRawDataModules(h)/8),w=v-x%v,A=Math.floor(x/v);let C=[];const j=Be.reedSolomonComputeDivisor(_);for(let F=0,Y=0;F<v;F++){let X=f.slice(Y,Y+A-_+(F<w?0:1));Y+=X.length;const de=Be.reedSolomonComputeRemainder(X,j);F<w&&X.push(0),C.push(X.concat(de))}let U=[];for(let F=0;F<C[0].length;F++)C.forEach((Y,X)=>{(F!=A-_||X>=w)&&U.push(Y[F])});return a(U.length==x),U}drawCodewords(f){if(f.length!=Math.floor(Be.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let h=0;for(let p=this.size-1;p>=1;p-=2){p==6&&(p=5);for(let v=0;v<this.size;v++)for(let _=0;_<2;_++){const x=p-_,A=(p+1&2)==0?this.size-1-v:v;!this.isFunction[A][x]&&h<f.length*8&&(this.modules[A][x]=r(f[h>>>3],7-(h&7)),h++)}}a(h==f.length*8)}applyMask(f){if(f<0||f>7)throw new RangeError("Mask value out of range");for(let h=0;h<this.size;h++)for(let p=0;p<this.size;p++){let v;switch(f){case 0:v=(p+h)%2==0;break;case 1:v=h%2==0;break;case 2:v=p%3==0;break;case 3:v=(p+h)%3==0;break;case 4:v=(Math.floor(p/3)+Math.floor(h/2))%2==0;break;case 5:v=p*h%2+p*h%3==0;break;case 6:v=(p*h%2+p*h%3)%2==0;break;case 7:v=((p+h)%2+p*h%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[h][p]&&v&&(this.modules[h][p]=!this.modules[h][p])}}getPenaltyScore(){let f=0;for(let _=0;_<this.size;_++){let x=!1,w=0,A=[0,0,0,0,0,0,0];for(let C=0;C<this.size;C++)this.modules[_][C]==x?(w++,w==5?f+=Be.PENALTY_N1:w>5&&f++):(this.finderPenaltyAddHistory(w,A),x||(f+=this.finderPenaltyCountPatterns(A)*Be.PENALTY_N3),x=this.modules[_][C],w=1);f+=this.finderPenaltyTerminateAndCount(x,w,A)*Be.PENALTY_N3}for(let _=0;_<this.size;_++){let x=!1,w=0,A=[0,0,0,0,0,0,0];for(let C=0;C<this.size;C++)this.modules[C][_]==x?(w++,w==5?f+=Be.PENALTY_N1:w>5&&f++):(this.finderPenaltyAddHistory(w,A),x||(f+=this.finderPenaltyCountPatterns(A)*Be.PENALTY_N3),x=this.modules[C][_],w=1);f+=this.finderPenaltyTerminateAndCount(x,w,A)*Be.PENALTY_N3}for(let _=0;_<this.size-1;_++)for(let x=0;x<this.size-1;x++){const w=this.modules[_][x];w==this.modules[_][x+1]&&w==this.modules[_+1][x]&&w==this.modules[_+1][x+1]&&(f+=Be.PENALTY_N2)}let h=0;for(const _ of this.modules)h=_.reduce((x,w)=>x+(w?1:0),h);const p=this.size*this.size,v=Math.ceil(Math.abs(h*20-p*10)/p)-1;return a(0<=v&&v<=9),f+=v*Be.PENALTY_N4,a(0<=f&&f<=2568888),f}getAlignmentPatternPositions(){if(this.version==1)return[];{const f=Math.floor(this.version/7)+2,h=this.version==32?26:Math.ceil((this.version*4+4)/(f*2-2))*2;let p=[6];for(let v=this.size-7;p.length<f;v-=h)p.splice(1,0,v);return p}}static getNumRawDataModules(f){if(f<Be.MIN_VERSION||f>Be.MAX_VERSION)throw new RangeError("Version number out of range");let h=(16*f+128)*f+64;if(f>=2){const p=Math.floor(f/7)+2;h-=(25*p-10)*p-55,f>=7&&(h-=36)}return a(208<=h&&h<=29648),h}static getNumDataCodewords(f,h){return Math.floor(Be.getNumRawDataModules(f)/8)-Be.ECC_CODEWORDS_PER_BLOCK[h.ordinal][f]*Be.NUM_ERROR_CORRECTION_BLOCKS[h.ordinal][f]}static reedSolomonComputeDivisor(f){if(f<1||f>255)throw new RangeError("Degree out of range");let h=[];for(let v=0;v<f-1;v++)h.push(0);h.push(1);let p=1;for(let v=0;v<f;v++){for(let _=0;_<h.length;_++)h[_]=Be.reedSolomonMultiply(h[_],p),_+1<h.length&&(h[_]^=h[_+1]);p=Be.reedSolomonMultiply(p,2)}return h}static reedSolomonComputeRemainder(f,h){let p=h.map(v=>0);for(const v of f){const _=v^p.shift();p.push(0),h.forEach((x,w)=>p[w]^=Be.reedSolomonMultiply(x,_))}return p}static reedSolomonMultiply(f,h){if(f>>>8||h>>>8)throw new RangeError("Byte out of range");let p=0;for(let v=7;v>=0;v--)p=p<<1^(p>>>7)*285,p^=(h>>>v&1)*f;return a(p>>>8==0),p}finderPenaltyCountPatterns(f){const h=f[1];a(h<=this.size*3);const p=h>0&&f[2]==h&&f[3]==h*3&&f[4]==h&&f[5]==h;return(p&&f[0]>=h*4&&f[6]>=h?1:0)+(p&&f[6]>=h*4&&f[0]>=h?1:0)}finderPenaltyTerminateAndCount(f,h,p){return f&&(this.finderPenaltyAddHistory(h,p),h=0),h+=this.size,this.finderPenaltyAddHistory(h,p),this.finderPenaltyCountPatterns(p)}finderPenaltyAddHistory(f,h){h[0]==0&&(f+=this.size),h.pop(),h.unshift(f)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],n.QrCode=e;function t(d,f,h){if(f<0||f>31||d>>>f)throw new RangeError("Value out of range");for(let p=f-1;p>=0;p--)h.push(d>>>p&1)}function r(d,f){return(d>>>f&1)!=0}function a(d){if(!d)throw new Error("Assertion error")}const o=class Et{constructor(f,h,p){if(this.mode=f,this.numChars=h,this.bitData=p,h<0)throw new RangeError("Invalid argument");this.bitData=p.slice()}static makeBytes(f){let h=[];for(const p of f)t(p,8,h);return new Et(Et.Mode.BYTE,f.length,h)}static makeNumeric(f){if(!Et.isNumeric(f))throw new RangeError("String contains non-numeric characters");let h=[];for(let p=0;p<f.length;){const v=Math.min(f.length-p,3);t(parseInt(f.substring(p,p+v),10),v*3+1,h),p+=v}return new Et(Et.Mode.NUMERIC,f.length,h)}static makeAlphanumeric(f){if(!Et.isAlphanumeric(f))throw new RangeError("String contains unencodable characters in alphanumeric mode");let h=[],p;for(p=0;p+2<=f.length;p+=2){let v=Et.ALPHANUMERIC_CHARSET.indexOf(f.charAt(p))*45;v+=Et.ALPHANUMERIC_CHARSET.indexOf(f.charAt(p+1)),t(v,11,h)}return p<f.length&&t(Et.ALPHANUMERIC_CHARSET.indexOf(f.charAt(p)),6,h),new Et(Et.Mode.ALPHANUMERIC,f.length,h)}static makeSegments(f){return f==""?[]:Et.isNumeric(f)?[Et.makeNumeric(f)]:Et.isAlphanumeric(f)?[Et.makeAlphanumeric(f)]:[Et.makeBytes(Et.toUtf8ByteArray(f))]}static makeEci(f){let h=[];if(f<0)throw new RangeError("ECI assignment value out of range");if(f<128)t(f,8,h);else if(f<16384)t(2,2,h),t(f,14,h);else if(f<1e6)t(6,3,h),t(f,21,h);else throw new RangeError("ECI assignment value out of range");return new Et(Et.Mode.ECI,0,h)}static isNumeric(f){return Et.NUMERIC_REGEX.test(f)}static isAlphanumeric(f){return Et.ALPHANUMERIC_REGEX.test(f)}getData(){return this.bitData.slice()}static getTotalBits(f,h){let p=0;for(const v of f){const _=v.mode.numCharCountBits(h);if(v.numChars>=1<<_)return 1/0;p+=4+_+v.bitData.length}return p}static toUtf8ByteArray(f){f=encodeURI(f);let h=[];for(let p=0;p<f.length;p++)f.charAt(p)!="%"?h.push(f.charCodeAt(p)):(h.push(parseInt(f.substring(p+1,p+3),16)),p+=2);return h}};o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let u=o;n.QrSegment=o})(to||(to={}));(n=>{(e=>{const t=class{constructor(a,o){this.ordinal=a,this.formatBits=o}};t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2),e.Ecc=t})(n.QrCode||(n.QrCode={}))})(to||(to={}));(n=>{(e=>{const t=class{constructor(a,o){this.modeBits=a,this.numBitsCharCount=o}numCharCountBits(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}};t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]),e.Mode=t})(n.QrSegment||(n.QrSegment={}))})(to||(to={}));var fl=to;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var E9={L:fl.QrCode.Ecc.LOW,M:fl.QrCode.Ecc.MEDIUM,Q:fl.QrCode.Ecc.QUARTILE,H:fl.QrCode.Ecc.HIGH},XA=128,WA="L",ZA="#FFFFFF",JA="#000000",eC=!1,tC=1,x9=4,T9=0,S9=.1;function nC(n,e=0){const t=[];return n.forEach(function(r,a){let o=null;r.forEach(function(u,d){if(!u&&o!==null){t.push(`M${o+e} ${a+e}h${d-o}v1H${o+e}z`),o=null;return}if(d===r.length-1){if(!u)return;o===null?t.push(`M${d+e},${a+e} h1v1H${d+e}z`):t.push(`M${o+e},${a+e} h${d+1-o}v1H${o+e}z`);return}u&&o===null&&(o=d)})}),t.join("")}function rC(n,e){return n.slice().map((t,r)=>r<e.y||r>=e.y+e.h?t:t.map((a,o)=>o<e.x||o>=e.x+e.w?a:!1))}function R9(n,e,t,r){if(r==null)return null;const a=n.length+t*2,o=Math.floor(e*S9),u=a/e,d=(r.width||o)*u,f=(r.height||o)*u,h=r.x==null?n.length/2-d/2:r.x*u,p=r.y==null?n.length/2-f/2:r.y*u,v=r.opacity==null?1:r.opacity;let _=null;if(r.excavate){let w=Math.floor(h),A=Math.floor(p),C=Math.ceil(d+h-w),j=Math.ceil(f+p-A);_={x:w,y:A,w:C,h:j}}const x=r.crossOrigin;return{x:h,y:p,h:f,w:d,excavation:_,opacity:v,crossOrigin:x}}function A9(n,e){return e!=null?Math.max(Math.floor(e),0):n?x9:T9}function iC({value:n,level:e,minVersion:t,includeMargin:r,marginSize:a,imageSettings:o,size:u,boostLevel:d}){let f=ke.useMemo(()=>{const w=(Array.isArray(n)?n:[n]).reduce((A,C)=>(A.push(...fl.QrSegment.makeSegments(C)),A),[]);return fl.QrCode.encodeSegments(w,E9[e],t,void 0,void 0,d)},[n,e,t,d]);const{cells:h,margin:p,numCells:v,calculatedImageSettings:_}=ke.useMemo(()=>{let x=f.getModules();const w=A9(r,a),A=x.length+w*2,C=R9(x,u,w,o);return{cells:x,margin:w,numCells:A,calculatedImageSettings:C}},[f,u,o,r,a]);return{qrcode:f,margin:p,cells:h,numCells:v,calculatedImageSettings:_}}var C9=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),N9=ke.forwardRef(function(e,t){const r=e,{value:a,size:o=XA,level:u=WA,bgColor:d=ZA,fgColor:f=JA,includeMargin:h=eC,minVersion:p=tC,boostLevel:v,marginSize:_,imageSettings:x}=r,A=$y(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:C}=A,j=$y(A,["style"]),U=x==null?void 0:x.src,F=ke.useRef(null),Y=ke.useRef(null),X=ke.useCallback(be=>{F.current=be,typeof t=="function"?t(be):t&&(t.current=be)},[t]),[de,M]=ke.useState(!1),{margin:I,cells:P,numCells:D,calculatedImageSettings:L}=iC({value:a,level:u,minVersion:p,boostLevel:v,includeMargin:h,marginSize:_,imageSettings:x,size:o});ke.useEffect(()=>{if(F.current!=null){const be=F.current,we=be.getContext("2d");if(!we)return;let W=P;const oe=Y.current,me=L!=null&&oe!==null&&oe.complete&&oe.naturalHeight!==0&&oe.naturalWidth!==0;me&&L.excavation!=null&&(W=rC(P,L.excavation));const ee=window.devicePixelRatio||1;be.height=be.width=o*ee;const N=o/D*ee;we.scale(N,N),we.fillStyle=d,we.fillRect(0,0,D,D),we.fillStyle=f,C9?we.fill(new Path2D(nC(W,I))):P.forEach(function($,B){$.forEach(function(K,H){K&&we.fillRect(H+I,B+I,1,1)})}),L&&(we.globalAlpha=L.opacity),me&&we.drawImage(oe,L.x+I,L.y+I,L.w,L.h)}}),ke.useEffect(()=>{M(!1)},[U]);const q=Fy({height:o,width:o},C);let V=null;return U!=null&&(V=ke.createElement("img",{src:U,key:U,style:{display:"none"},onLoad:()=>{M(!0)},ref:Y,crossOrigin:L==null?void 0:L.crossOrigin})),ke.createElement(ke.Fragment,null,ke.createElement("canvas",Fy({style:q,height:o,width:o,ref:X,role:"img"},j)),V)});N9.displayName="QRCodeCanvas";var sC=ke.forwardRef(function(e,t){const r=e,{value:a,size:o=XA,level:u=WA,bgColor:d=ZA,fgColor:f=JA,includeMargin:h=eC,minVersion:p=tC,boostLevel:v,title:_,marginSize:x,imageSettings:w}=r,A=$y(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:C,cells:j,numCells:U,calculatedImageSettings:F}=iC({value:a,level:u,minVersion:p,boostLevel:v,includeMargin:h,marginSize:x,imageSettings:w,size:o});let Y=j,X=null;w!=null&&F!=null&&(F.excavation!=null&&(Y=rC(j,F.excavation)),X=ke.createElement("image",{href:w.src,height:F.h,width:F.w,x:F.x+C,y:F.y+C,preserveAspectRatio:"none",opacity:F.opacity,crossOrigin:F.crossOrigin}));const de=nC(Y,C);return ke.createElement("svg",Fy({height:o,width:o,viewBox:`0 0 ${U} ${U}`,ref:t,role:"img"},A),!!_&&ke.createElement("title",null,_),ke.createElement("path",{fill:d,d:`M0,0 h${U}v${U}H0z`,shapeRendering:"crispEdges"}),ke.createElement("path",{fill:f,d:de,shapeRendering:"crispEdges"}),X)});sC.displayName="QRCodeSVG";const I9=()=>{const n=hr(),{basketItems:e,clearBasket:t}=qA(),{user:r}=T.useContext(Gn),{showNotification:a}=Kn(),[o,u]=T.useState(!1),[d,f]=T.useState("credit_card"),[h,p]=T.useState(null),{t:v}=An();T.useEffect(()=>{(async()=>{if(r)try{const I=ft(Me,"users",r.uid),P=await si(I);if(P.exists()){const D=P.data();x(L=>({...L,email:D.email||r.email||"",fullName:D.displayName||"",phoneNumber:D.phoneNumber||"",address:D.address||"",city:D.city||"",state:D.state||"",zipCode:D.zipCode||""}))}}catch(I){console.error("Error fetching user data:",I),a(v("checkout.notifications.userDataError"),"error")}})()},[r,a,v]);const[_,x]=T.useState({fullName:"",email:(r==null?void 0:r.email)||"",phoneNumber:"",address:"",city:"",state:"",zipCode:"",cardNumber:"",cardName:"",expiryDate:"",cvv:"",bankName:"",accountNumber:"",accountHolder:"",pixKey:"04025752964"}),[w,A]=T.useState({}),C=e.reduce((M,I)=>M+I.product.price*I.stock,0),j=()=>{const M={},I=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,P=/^\+?[\d\s-]{10,}$/,D=/^\d{5}-?\d{3}$/,L=/^\d{16}$/,q=/^\d{3,4}$/,V=/^(0[1-9]|1[0-2])\/\d{2}$/;switch(_.fullName.trim()||(M.fullName=v("checkout.validation.fullNameRequired")),_.email.trim()?I.test(_.email)||(M.email=v("checkout.validation.emailInvalid")):M.email=v("checkout.validation.emailRequired"),_.phoneNumber.trim()?P.test(_.phoneNumber)||(M.phoneNumber=v("checkout.validation.phoneInvalid")+". "+v("checkout.validation.phoneNumberFormat")):M.phoneNumber=v("checkout.validation.phoneRequired"),_.address.trim()||(M.address=v("checkout.validation.addressRequired")),_.city.trim()||(M.city=v("checkout.validation.cityRequired")),_.state.trim()||(M.state=v("checkout.validation.stateRequired")),_.zipCode.trim()?D.test(_.zipCode)||(M.zipCode=v("checkout.validation.zipCodeInvalid")+". "+v("checkout.validation.zipCodeFormat")):M.zipCode=v("checkout.validation.zipCodeRequired"),d){case"credit_card":_.cardNumber.trim()?L.test(_.cardNumber.replace(/\s/g,""))||(M.cardNumber=v("checkout.validation.cardNumberInvalid")):M.cardNumber=v("checkout.validation.cardNumberRequired"),_.cardName.trim()||(M.cardName=v("checkout.validation.cardNameRequired")),_.expiryDate.trim()?V.test(_.expiryDate)||(M.expiryDate=v("checkout.validation.expiryDateInvalid")):M.expiryDate=v("checkout.validation.expiryDateRequired"),_.cvv.trim()?q.test(_.cvv)||(M.cvv=v("checkout.validation.cvvInvalid")):M.cvv=v("checkout.validation.cvvRequired");break;case"bank_transfer":_.bankName.trim()||(M.bankName=v("checkout.validation.bankNameRequired")),_.accountNumber.trim()||(M.accountNumber=v("checkout.validation.accountNumberRequired")),_.accountHolder.trim()||(M.accountHolder=v("checkout.validation.accountHolderRequired"));break;case"pix":_.pixKey.trim()||(M.pixKey=v("checkout.validation.pixKeyRequired"));break}return A(M),Object.keys(M).length===0},U=M=>{const{name:I,value:P}=M.target;let D=P;I==="cardNumber"&&(D=P.replace(/\s/g,"").replace(/(\d{4})/g,"$1 ").trim()),I==="expiryDate"&&(D=P.replace(/\D/g,"").replace(/(\d{2})(\d{0,2})/,"$1/$2").substring(0,5)),I==="zipCode"&&(D=P.replace(/\D/g,"").replace(/(\d{5})(\d{0,3})/,"$1-$2").substring(0,9)),x(L=>({...L,[I]:D}))},F=async M=>{if(M.preventDefault(),!j()){const I=Object.values(w)[0];a(I,"error");return}if(e.length===0){a(v("checkout.notifications.emptyCart"),"error");return}try{if(u(!0),a(v("checkout.notifications.processing"),"info"),r){const P=ft(Me,"users",r.uid);await Vc(P,{phoneNumber:_.phoneNumber,address:_.address,city:_.city,state:_.state,zipCode:_.zipCode})}if(d==="pix"){await X();return}const I={userId:r==null?void 0:r.uid,items:e.map(P=>({productId:P.product.id,name:P.product.name,stock:P.stock,price:P.product.price,total:P.product.price*P.stock})),shippingInfo:{fullName:_.fullName,email:_.email,phoneNumber:_.phoneNumber,address:_.address,city:_.city,state:_.state,zipCode:_.zipCode},paymentInfo:{cardLast4:_.cardNumber.slice(-4),cardName:_.cardName},total:C,status:"pending",createdAt:new Date().toISOString()};await E1(Me,async P=>{await yc(bn(Me,"orders"),I);for(const D of e){const L=ft(Me,"products",D.product.id),q=await P.get(L);if(!q.exists())throw new Error(`Product ${D.product.id} not found`);const V=q.data().stock-D.stock;if(V<0)throw new Error(`Insufficient stock for product ${D.product.name}`);P.update(L,{stock:V})}}),await new Promise(P=>setTimeout(P,2e3)),a(v("checkout.notifications.orderSuccess"),"success"),t(),n("/my-purchases",{replace:!0})}catch(I){console.error("Error placing order:",I),a(v("checkout.notifications.orderError"),"error")}finally{u(!1)}},Y=M=>{const I=["00020126","35","0014BR.GOV.BCB.PIX","01",M.pixKeyType.length.toString().padStart(2,"0")+M.pixKeyType,"02",M.pixKey.length.toString().padStart(2,"0")+M.pixKey,"52040000","5303986","5802BR","5913","12","NITOS TRADEHUB STORE","6008","06","CURITIBA","6207","05","03","PIX","6304"].join(""),P=Uint8Array.from(I);let D=65535;for(let L=0;L<P.length;L++){D^=P[L]<<8;for(let q=0;q<8;q++)(D&32768)>0?D=D<<1^4129:D<<=1}return(D^4294967295).toString()},X=async()=>{var M;if(!r){a("Voc precisa estar logado para fazer um pedido","error");return}try{u(!0);const I={userId:r.uid,items:e.map(V=>({productId:V.product.id,name:V.product.name,stock:V.stock,price:V.product.price,total:V.product.price*V.stock})),shippingInfo:{fullName:_.fullName,email:_.email,phoneNumber:_.phoneNumber,address:_.address,city:_.city,state:_.state,zipCode:_.zipCode},paymentMethod:"pix",total:C,status:"pending",createdAt:new Date().toISOString(),expiresAt:new Date(Date.now()+30*60*1e3).toISOString()},D={orderId:(await yc(bn(Me,"orders"),I)).id,userId:r.uid,sellerId:((M=e[0])==null?void 0:M.product.owner)||"",pixKey:"040.257.529.64",pixKeyType:"cpf",pixPayload:"",amount:C,status:"pending",createdAt:new Date().toISOString(),expiresAt:new Date(Date.now()+30*60*1e3).toISOString()},L=Y(D);D.pixPayload=L;const q=await yc(bn(Me,"pixPayments"),{...D,pixPayload:L});p({...D,id:q.id,pixPayload:L}),a("QR Code PIX gerado com sucesso!","success")}catch(I){console.error("Error generating PIX payment:",I),a("Erro ao gerar pagamento PIX. Tente novamente.","error")}finally{u(!1)}},de=async M=>{try{const I=ft(Me,"orders",M),P=await si(I);if(!P.exists())throw new Error("Order not found");const L=P.data().items;return await E1(Me,async q=>{for(const V of L){const be=ft(Me,"products",V.productId),we=await q.get(be);if(!we.exists())throw new Error(`Product ${V.productId} not found`);const oe=we.data().stock-V.stock;if(oe<0)throw new Error(`Insufficient stock for product ${V.name}`);q.update(be,{stock:oe})}}),!0}catch(I){throw console.error("Error updating product quantities:",I),I}};return T.useEffect(()=>{if(h){const M=VA(ft(Me,"pixPayments",h.orderId),async I=>{const P=I.data();if(P)if(p(P),P.status==="paid")try{await de(P.orderId);const D=ft(Me,"orders",P.orderId);await Vc(D,{status:"paid",paidAt:new Date().toISOString()}),a("Pagamento PIX confirmado!","success"),t(),n("/order-confirmation")}catch(D){console.error("Error processing payment confirmation:",D),a("Erro ao processar confirmao do pagamento. Entre em contato com o suporte.","error")}else P.status==="expired"?a("Tempo para pagamento PIX expirado.","error"):P.status==="failed"&&a(`Falha no pagamento: ${P.errorMessage||"Erro desconhecido"}`,"error")},I=>{console.error("Error checking PIX payment status:",I),a("Erro ao verificar status do pagamento. Tente novamente.","error")});return()=>M()}},[t,n,h,a]),!e||e.length===0?y.jsx("div",{className:"container mx-auto px-4 py-8",children:y.jsxs("div",{className:"text-center",children:[y.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Carrinho Vazio"}),y.jsx("p",{className:"text-gray-600 mb-4",children:"Seu carrinho est vazio. Adicione alguns produtos antes de finalizar a compra."}),y.jsx("button",{onClick:()=>n("/products"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Continuar Comprando"})]})}):y.jsxs("div",{className:"container mx-auto px-4 py-8",children:[y.jsx(g0,{}),y.jsx("h1",{className:"text-2xl font-bold mb-8",children:v("checkout.title")}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[y.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:y.jsxs("form",{onSubmit:F,className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-semibold mb-4",children:v("checkout.shippingInfo")}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:v("auth.name")}),y.jsx("input",{type:"text",id:"fullName",name:"fullName",value:_.fullName,onChange:U,className:`mt-1 block w-full rounded-md shadow-sm ${w.fullName?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`}),w.fullName&&y.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.fullName})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),y.jsx("input",{type:"email",id:"email",name:"email",value:_.email,onChange:U,className:`mt-1 block w-full rounded-md shadow-sm ${w.email?"border-red-300":"border-gray-300"}`}),w.email&&y.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.email})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700",children:"Telefone"}),y.jsx("input",{type:"tel",id:"phoneNumber",name:"phoneNumber",value:_.phoneNumber,onChange:U,className:`mt-1 block w-full rounded-md shadow-sm ${w.phoneNumber?"border-red-300":"border-gray-300"}`}),w.phoneNumber&&y.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.phone})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Endereo"}),y.jsx("input",{type:"text",id:"address",name:"address",value:_.address,onChange:U,className:`mt-1 block w-full rounded-md shadow-sm ${w.address?"border-red-300":"border-gray-300"}`}),w.address&&y.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.address})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"Cidade"}),y.jsx("input",{type:"text",id:"city",name:"city",value:_.city,onChange:U,className:`mt-1 block w-full rounded-md shadow-sm ${w.city?"border-red-300":"border-gray-300"}`}),w.city&&y.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.city})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700",children:"Estado"}),y.jsx("input",{type:"text",id:"state",name:"state",value:_.state,onChange:U,className:`mt-1 block w-full rounded-md shadow-sm ${w.state?"border-red-300":"border-gray-300"}`}),w.state&&y.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.state})]})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700",children:"CEP"}),y.jsx("input",{type:"text",id:"zipCode",name:"zipCode",value:_.zipCode,onChange:U,placeholder:"12345-678",className:`mt-1 block w-full rounded-md shadow-sm ${w.zipCode?"border-red-300":"border-gray-300"}`}),w.zipCode&&y.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.zipCode})]})]})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-semibold mb-4",children:v("checkout.paymentMethod")}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[y.jsx("button",{type:"button",onClick:()=>f("credit_card"),className:`p-4 border rounded-lg text-center ${d==="credit_card"?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-blue-500"}`,children:y.jsx("div",{className:"font-medium",children:v("checkout.creditCard")})}),y.jsx("button",{type:"button",onClick:()=>f("pix"),className:`p-4 border rounded-lg text-center ${d==="pix"?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-blue-500"}`,children:y.jsx("div",{className:"font-medium",children:v("checkout.pix")})}),y.jsx("button",{type:"button",onClick:()=>f("bank_transfer"),className:`p-4 border rounded-lg text-center ${d==="bank_transfer"?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-blue-500"}`,children:y.jsx("div",{className:"font-medium",children:v("checkout.bankTransfer")})})]}),d==="credit_card"&&y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"cardNumber",className:"block text-sm font-medium text-gray-700",children:"Nmero do Carto"}),y.jsx("input",{type:"text",id:"cardNumber",name:"cardNumber",value:_.cardNumber,onChange:U,placeholder:"1234 5678 9012 3456",className:`mt-1 block w-full rounded-md shadow-sm ${w.cardNumber?"border-red-300":"border-gray-300"}`}),w.cardNumber&&y.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.cardNumber})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"cardName",className:"block text-sm font-medium text-gray-700",children:"Nome no Carto"}),y.jsx("input",{type:"text",id:"cardName",name:"cardName",value:_.cardName,onChange:U,className:`mt-1 block w-full rounded-md shadow-sm ${w.cardName?"border-red-300":"border-gray-300"}`}),w.cardName&&y.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.cardName})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"expiryDate",className:"block text-sm font-medium text-gray-700",children:"Data de Expirao"}),y.jsx("input",{type:"text",id:"expiryDate",name:"expiryDate",value:_.expiryDate,onChange:U,placeholder:"MM/AA",className:`mt-1 block w-full rounded-md shadow-sm ${w.expiryDate?"border-red-300":"border-gray-300"}`}),w.expiryDate&&y.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.expiryDate})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"cvv",className:"block text-sm font-medium text-gray-700",children:"CVV"}),y.jsx("input",{type:"text",id:"cvv",name:"cvv",value:_.cvv,onChange:U,placeholder:"123",className:`mt-1 block w-full rounded-md shadow-sm ${w.cvv?"border-red-300":"border-gray-300"}`}),w.cvv&&y.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.cvv})]})]})]}),d==="pix"&&y.jsx("div",{className:"space-y-4",children:h?y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[y.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Pagamento PIX"}),y.jsx("div",{className:"flex justify-center mb-4",children:h&&y.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[y.jsx(sC,{value:h.pixPayload||"",size:200,level:"H",includeMargin:!0}),y.jsxs("div",{className:"mt-4 text-center",children:[y.jsx("p",{className:"text-sm text-gray-600",children:"Escaneie o QR Code com seu aplicativo bancrio"}),y.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Ou copie a chave PIX:"," ",h.pixKey]})]})]})}),y.jsxs("div",{className:"space-y-2 text-center",children:[y.jsxs("p",{className:"text-sm text-gray-600",children:["Chave PIX: ",h.pixKey]}),y.jsxs("p",{className:"text-sm text-gray-600",children:["Valor: R$ ",h.amount.toFixed(2)]}),y.jsxs("p",{className:"text-sm text-gray-600",children:["Expira em:"," ",new Date(h.expiresAt).toLocaleTimeString()]})]}),y.jsx("div",{className:"mt-4",children:y.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[y.jsx("div",{className:`h-2 w-2 rounded-full ${h.status==="paid"?"bg-green-500":h.status==="expired"?"bg-red-500":"bg-yellow-500"}`}),y.jsx("p",{className:"text-sm text-gray-600",children:h.status==="paid"?"Pagamento confirmado":h.status==="expired"?"Tempo expirado":"Aguardando pagamento"})]})})]}),h.status==="expired"&&y.jsx("button",{type:"button",onClick:X,className:"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Gerar novo QR Code"})]}):y.jsx("div",{children:y.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:y.jsx("p",{className:"text-sm text-gray-600",children:'Preencha os dados de entrega e clique em "Finalizar Compra" para gerar o QR Code PIX. O pedido ser confirmado automaticamente aps a confirmao do pagamento.'})})})}),d==="bank_transfer"&&y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"bankName",className:"block text-sm font-medium text-gray-700",children:"Nome do Banco"}),y.jsx("input",{type:"text",id:"bankName",name:"bankName",value:_.bankName,onChange:U,className:`mt-1 block w-full rounded-md shadow-sm ${w.bankName?"border-red-300":"border-gray-300"}`}),w.bankName&&y.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.bankName})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"accountNumber",className:"block text-sm font-medium text-gray-700",children:"Nmero da Conta"}),y.jsx("input",{type:"text",id:"accountNumber",name:"accountNumber",value:_.accountNumber,onChange:U,className:`mt-1 block w-full rounded-md shadow-sm ${w.accountNumber?"border-red-300":"border-gray-300"}`}),w.accountNumber&&y.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.accountNumber})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"accountHolder",className:"block text-sm font-medium text-gray-700",children:"Nome do Titular"}),y.jsx("input",{type:"text",id:"accountHolder",name:"accountHolder",value:_.accountHolder,onChange:U,className:`mt-1 block w-full rounded-md shadow-sm ${w.accountHolder?"border-red-300":"border-gray-300"}`}),w.accountHolder&&y.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.accountHolder})]}),y.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:y.jsx("p",{className:"text-sm text-gray-600",children:"Aps o pedido, voc receber os dados bancrios para transferncia. O pedido ser confirmado aps a confirmao do pagamento."})})]})]})]}),y.jsx("button",{type:"submit",disabled:o,className:`w-full py-3 px-4 border border-transparent rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${o?"opacity-75 cursor-not-allowed":""}`,children:o?y.jsxs("div",{className:"flex items-center justify-center",children:[y.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent mr-2"}),v("checkout.processing")]}):v("checkout.placeOrder")})]})}),y.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[y.jsx("h2",{className:"text-lg font-semibold mb-4",children:v("checkout.orderSummary")}),y.jsxs("div",{className:"space-y-4",children:[e.map(M=>y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("h3",{className:"text-sm font-medium text-gray-900",children:M.product.name}),y.jsxs("p",{className:"text-sm text-gray-500",children:[v("checkout.quantity"),": ",M.stock]})]}),y.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["R$",(M.product.price*M.stock).toFixed(2)]})]},M.product.id)),y.jsxs("div",{className:"border-t pt-4",children:[y.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[y.jsx("p",{children:v("common.total")}),y.jsxs("p",{children:["R$",C.toFixed(2)]})]}),y.jsx("p",{className:"mt-1 text-sm text-gray-500",children:v("checkout.shippingTaxes")})]})]})]})]})]})},P9=({children:n})=>{const[e,t]=T.useState([]),[r,a]=T.useState(!0),[o,u]=T.useState(null),d=T.useContext(Gn),{t:f}=An(),h=T.useCallback(async()=>{try{a(!0),u(null);const v=await t9(bn(Me,"products")),_=[];for(const x of v.docs)try{const w=x.data();if(!w.name||!w.price){console.warn(`Skipping product ${x.id} due to missing required fields`);continue}const A={id:x.id,name:w.name,description:w.description,price:w.price,category:w.category,condition:w.condition,stock:w.stock,owner:w.owner,createdAt:w.createdAt,imageMetadataRef:w.imageMetadataRef,userId:w.userId,updatedAt:w.updatedAt,brand:w.brand,weight:w.weight,dimensions:w.dimensions,shippingCost:w.shippingCost,freeShipping:w.freeShipping,status:w.status};_.push(A)}catch(w){console.error(`Error processing document ${x.id}:`,w);continue}t(_)}catch(v){console.error("Error fetching products:",v),u(f("products.errors.fetchFailed")),t([])}finally{a(!1)}},[f]);T.useEffect(()=>{if(!(d!=null&&d.userLoading)){if(!(d!=null&&d.user)){a(!1),t([]),u(f("auth.notifications.mustLogin"));return}h()}},[d==null?void 0:d.user,d==null?void 0:d.userLoading,h,f]);const p={products:e,productsLoading:r,error:o,refreshProducts:h};return y.jsx(KA.Provider,{value:p,children:n})},k9=()=>{var me,ee,N;const{productId:n}=L1(),e=hr(),{t}=An(),{showNotification:r}=Kn(),[a,o]=T.useState(!0),[u,d]=T.useState(!1),[f,h]=T.useState(0),{products:p,productsLoading:v,refreshProducts:_}=gm(),[x,w]=T.useState(null),[A,C]=T.useState(""),[j,U]=T.useState({name:"",description:"",price:"",stock:"",category:"",condition:"",brand:"",weight:"",dimensions:"",shippingCost:"",freeShipping:!1,status:"active"}),[F,Y]=T.useState({}),[X,de]=T.useState([]),[M,I]=T.useState([]),P=$=>{const B=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,K=$.match(B);return K&&K[2].length===11?K[2]:null},D=$=>{var K;const B=$.target.value;if(C(B),B){const H=P(B);if(H){const ie={type:"youtube",thumbnailDataURL:`https://img.youtube.com/vi/${H}/mqdefault.jpg`,fullImageRef:null,videoId:H,videoUrl:B},ae=((K=x==null?void 0:x.imageMetadataRef)==null?void 0:K.filter(ge=>ge.type!=="youtube"))||[];x&&w({...x,imageMetadataRef:[...ae,ie]})}else r(t("products.errors.invalidYoutubeUrl"),"error")}},L=()=>{var $;if(x){const B=(($=x.imageMetadataRef)==null?void 0:$.filter(K=>K.type!=="youtube"))||[];w({...x,imageMetadataRef:B}),C("")}};T.useEffect(()=>{var B,K,H,ie;if(!n||v)return;const $=p.find(ae=>ae.id===n);if($){const ae={...$,imageMetadataRef:((B=$.imageMetadataRef)==null?void 0:B.map(ye=>({type:ye.type,thumbnailDataURL:ye.thumbnailDataURL||"",fullImageRef:ye.fullImageRef||null,videoId:ye.videoId||null,videoUrl:ye.videoUrl||null})))||[]};w(ae);const ge=(K=$.imageMetadataRef)==null?void 0:K.find(ye=>ye.type==="youtube");ge!=null&&ge.videoUrl&&C(ge.videoUrl),U({name:$.name,description:$.description,price:$.price.toString(),stock:$.stock.toString(),category:$.category,condition:$.condition,brand:$.brand||"",weight:$.weight||"",dimensions:$.dimensions||"",shippingCost:((H=$.shippingCost)==null?void 0:H.toString())||"0",freeShipping:$.freeShipping||!1,status:$.status||"active"}),I(((ie=$.imageMetadataRef)==null?void 0:ie.filter(ye=>ye.type==="image").map(ye=>ye.thumbnailDataURL||""))||[]),o(!1)}else r(t("products.errors.productNotFound"),"error"),e("/my-products")},[n,p,v,e,r,t]);const q=$=>{const{name:B,value:K,type:H}=$.target,ie=H==="checkbox"?$.target.checked:K;U(ae=>({...ae,[B]:ie})),F[B]&&Y(ae=>{const ge={...ae};return delete ge[B],ge})},V=()=>{const $={};return j.name.trim()||($.name=t("products.validation.nameRequired")),j.description.trim()||($.description=t("products.validation.descriptionRequired")),(!j.price||isNaN(Number(j.price))||Number(j.price)<=0)&&($.price=t("products.validation.priceInvalid")),(!j.stock||isNaN(Number(j.stock))||Number(j.stock)<0)&&($.stock=t("products.validation.stockInvalid")),j.category||($.category=t("products.validation.categoryRequired")),j.condition||($.condition=t("products.validation.conditionRequired")),Y($),Object.keys($).length===0},be=$=>{var ie;const B=Array.from($.target.files||[]);if((((ie=x==null?void 0:x.imageMetadataRef)==null?void 0:ie.length)||0)+B.length>5){r(t("products.maxImages"),"error");return}de(B);const H=B.map(ae=>URL.createObjectURL(ae));I(ae=>[...ae,...H])},we=async $=>{try{const B=[...(x==null?void 0:x.imageMetadataRef)||[]];B.splice($,1),x&&w({...x,imageMetadataRef:B}),I(K=>{const H=[...K];return H.splice($,1),H}),r(t("products.removeImage"),"success")}catch(B){console.error("Error removing image:",B),r(t("products.errors.removeImageFailed"),"error")}},W=async()=>{const $=[];let B=0;const K=X.length;for(const H of X)try{const ie=await th(H,200),ae=await dl(ie),ge=ft(bn(Me,"products-images")),ye=ge.id,Oe=await GA(H,1920,.8),lt=await dl(Oe),[Zt,fn]=lt.split(","),gr=Zt.split(":")[1].split(";")[0],yr=4e3,Pr=fn.match(new RegExp(`.{1,${yr}}`,"g"))||[],Xi=Pr.length,Jt=FA(Me);Pr.forEach((ea,oi)=>{const Qn=ft(Me,"products-images",ye,`chunks/chunk${oi}`);Jt.set(Qn,{data:ea})}),await Jt.commit(),await Lc(ge,{fileName:H.name,mimeType:gr,type:H.type,size:H.size,chunkCount:Xi,createdAt:new Date,productId:n}),$.push({type:"image",thumbnailDataURL:ae,fullImageRef:ge.path,videoId:null,videoUrl:null}),B+=1,h(B/K*100)}catch(ie){throw console.error("Error processing image:",ie),ie}return $},oe=async $=>{if($.preventDefault(),!V()){r(t("products.validation.formErrors"),"error");return}try{d(!0),h(0);let B=[...(x==null?void 0:x.imageMetadataRef)||[]];if(X.length>0){const ie=await W();B=[...B,...ie]}const K={name:j.name,description:j.description,price:Number(j.price),stock:Number(j.stock),category:j.category,condition:j.condition,brand:j.brand||"",weight:j.weight||"",dimensions:j.dimensions||"",shippingCost:Number(j.shippingCost)||0,freeShipping:!!j.freeShipping,status:j.status,imageMetadataRef:B.map(ie=>({type:ie.type,thumbnailDataURL:ie.thumbnailDataURL||"",fullImageRef:ie.fullImageRef||null,videoId:ie.videoId||null,videoUrl:ie.videoUrl||null})),updatedAt:new Date},H=ft(Me,"products",n);await Vc(H,K),await _(),r(t("products.saveSuccess"),"success"),e("/my-products")}catch(B){console.error("Error updating product:",B),r(t("products.saveError"),"error")}finally{d(!1),h(0)}};return a?y.jsx("div",{className:"flex items-center justify-center min-h-screen",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent"})}):y.jsxs("div",{className:"container mx-auto px-4 py-8",children:[y.jsx("h1",{className:"text-2xl font-bold mb-8",children:t("products.editProduct")}),u&&f>0&&y.jsxs("div",{className:"mb-4",children:[y.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:y.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${f}%`}})}),y.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[t("products.uploadingImages")," (",Math.round(f),"%)"]})]}),y.jsxs("form",{onSubmit:oe,className:"space-y-8",children:[y.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[y.jsx("h2",{className:"text-lg font-semibold mb-4",children:t("products.management.basicInfo")}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:t("products.name")}),y.jsx("input",{type:"text",id:"name",name:"name",value:j.name,onChange:q,className:`mt-1 block w-full rounded-md shadow-sm ${F.name?"border-red-300":"border-gray-300"}`}),F.name&&y.jsx("p",{className:"mt-1 text-sm text-red-600",children:F.name})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:t("products.category")}),y.jsxs("select",{id:"category",name:"category",value:j.category,onChange:q,className:`mt-1 block w-full rounded-md shadow-sm ${F.category?"border-red-300":"border-gray-300"}`,children:[y.jsx("option",{value:"",children:t("products.selectCategory")}),y.jsx("option",{value:"electronics",children:"Electronics"}),y.jsx("option",{value:"clothing",children:"Clothing"}),y.jsx("option",{value:"books",children:"Books"}),y.jsx("option",{value:"home",children:"Home & Garden"}),y.jsx("option",{value:"sports",children:"Sports"})]}),F.category&&y.jsx("p",{className:"mt-1 text-sm text-red-600",children:F.category})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"condition",className:"block text-sm font-medium text-gray-700",children:t("products.condition")}),y.jsxs("select",{id:"condition",name:"condition",value:j.condition,onChange:q,className:`mt-1 block w-full rounded-md shadow-sm ${F.condition?"border-red-300":"border-gray-300"}`,children:[y.jsx("option",{value:"",children:t("products.selectCondition")}),y.jsx("option",{value:"new",children:"New"}),y.jsx("option",{value:"like_new",children:"Like New"}),y.jsx("option",{value:"good",children:"Good"}),y.jsx("option",{value:"fair",children:"Fair"}),y.jsx("option",{value:"poor",children:"Poor"})]}),F.condition&&y.jsx("p",{className:"mt-1 text-sm text-red-600",children:F.condition})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"brand",className:"block text-sm font-medium text-gray-700",children:t("products.brand")}),y.jsx("input",{type:"text",id:"brand",name:"brand",value:j.brand,onChange:q,className:"mt-1 block w-full rounded-md shadow-sm border-gray-300"})]})]}),y.jsxs("div",{className:"mt-6",children:[y.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:t("products.description")}),y.jsx("textarea",{id:"description",name:"description",value:j.description,onChange:q,rows:4,className:`mt-1 block w-full rounded-md shadow-sm ${F.description?"border-red-300":"border-gray-300"}`}),F.description&&y.jsx("p",{className:"mt-1 text-sm text-red-600",children:F.description})]})]}),y.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[y.jsx("h2",{className:"text-lg font-semibold mb-4",children:t("products.management.pricing")}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:t("products.price")}),y.jsx("input",{type:"number",id:"price",name:"price",value:j.price,onChange:q,min:"0",step:"0.01",className:`mt-1 block w-full rounded-md shadow-sm ${F.price?"border-red-300":"border-gray-300"}`}),F.price&&y.jsx("p",{className:"mt-1 text-sm text-red-600",children:F.price})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium text-gray-700",children:t("products.stock")}),y.jsx("input",{type:"number",id:"stock",name:"stock",value:j.stock,onChange:q,min:"0",className:`mt-1 block w-full rounded-md shadow-sm ${F.stock?"border-red-300":"border-gray-300"}`}),F.stock&&y.jsx("p",{className:"mt-1 text-sm text-red-600",children:F.stock})]})]})]}),y.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[y.jsx("h2",{className:"text-lg font-semibold mb-4",children:t("products.management.shipping")}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"weight",className:"block text-sm font-medium text-gray-700",children:t("products.weight")}),y.jsx("input",{type:"text",id:"weight",name:"weight",value:j.weight,onChange:q,placeholder:"e.g., 1.5 kg",className:"mt-1 block w-full rounded-md shadow-sm border-gray-300"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"dimensions",className:"block text-sm font-medium text-gray-700",children:t("products.dimensions")}),y.jsx("input",{type:"text",id:"dimensions",name:"dimensions",value:j.dimensions,onChange:q,placeholder:"e.g., 10x20x30 cm",className:"mt-1 block w-full rounded-md shadow-sm border-gray-300"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"shippingCost",className:"block text-sm font-medium text-gray-700",children:t("products.shippingCost")}),y.jsx("input",{type:"number",id:"shippingCost",name:"shippingCost",value:j.shippingCost,onChange:q,min:"0",step:"0.01",className:"mt-1 block w-full rounded-md shadow-sm border-gray-300"})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{type:"checkbox",id:"freeShipping",name:"freeShipping",checked:j.freeShipping,onChange:q,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),y.jsx("label",{htmlFor:"freeShipping",className:"ml-2 block text-sm text-gray-700",children:t("products.freeShipping")})]})]})]}),y.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[y.jsx("h2",{className:"text-lg font-semibold mb-4",children:t("products.management.images")}),y.jsxs("div",{className:"mb-6",children:[y.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:t("products.currentImages")}),y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:M.map(($,B)=>y.jsxs("div",{className:"relative group",children:[y.jsx("img",{src:$,alt:`Product image ${B+1}`,className:"w-full h-32 object-cover rounded-lg"}),y.jsx("button",{type:"button",onClick:()=>we(B),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:y.jsx(Sc,{className:"h-4 w-4"})})]},B))})]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("products.addImages")}),y.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:y.jsxs("div",{className:"space-y-1 text-center",children:[y.jsxs("div",{className:"flex text-sm text-gray-600",children:[y.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[y.jsx("span",{children:t("products.uploadFile")}),y.jsx("input",{id:"file-upload",name:"file-upload",type:"file",multiple:!0,accept:"image/*",onChange:be,className:"sr-only"})]}),y.jsx("p",{className:"pl-1",children:t("products.orDragAndDrop")})]}),y.jsx("p",{className:"text-xs text-gray-500",children:t("products.imageTypes")})]})})]})]}),y.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[y.jsx("h2",{className:"text-lg font-semibold mb-4",children:t("products.management.youtubeVideo")}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"youtubeUrl",className:"block text-sm font-medium text-gray-700",children:t("products.youtubeUrl")}),y.jsxs("div",{className:"mt-1 flex rounded-md shadow-sm",children:[y.jsx("input",{type:"text",id:"youtubeUrl",value:A,onChange:D,placeholder:t("products.youtubeUrlPlaceholder"),className:"flex-1 min-w-0 block w-full px-3 py-2 rounded-md border border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"}),A&&y.jsxs("button",{type:"button",onClick:L,className:"ml-3 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[y.jsx(Sc,{className:"h-5 w-5 mr-2"}),t("products.removeVideo")]})]}),y.jsx("p",{className:"mt-2 text-sm text-gray-500",children:t("products.youtubeUrlHelp")})]}),((ee=(me=x==null?void 0:x.imageMetadataRef)==null?void 0:me.find($=>$.type==="youtube"))==null?void 0:ee.videoId)&&y.jsxs("div",{className:"mt-4",children:[y.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:t("products.videoPreview")}),y.jsx("div",{className:"aspect-w-16 aspect-h-9",children:y.jsx("iframe",{src:`https://www.youtube.com/embed/${(N=x.imageMetadataRef.find($=>$.type==="youtube"))==null?void 0:N.videoId}?autoplay=0&rel=0&modestbranding=1`,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full rounded-lg",loading:"lazy"})})]})]})]}),y.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[y.jsx("h2",{className:"text-lg font-semibold mb-4",children:t("products.management.status")}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:t("products.status")}),y.jsxs("select",{id:"status",name:"status",value:j.status,onChange:q,className:"mt-1 block w-full rounded-md shadow-sm border-gray-300",children:[y.jsx("option",{value:"active",children:t("products.statusActive")}),y.jsx("option",{value:"inactive",children:t("products.statusInactive")}),y.jsx("option",{value:"draft",children:t("products.statusDraft")})]})]})]}),y.jsx("div",{className:"flex justify-end",children:y.jsx("button",{type:"submit",disabled:u,className:`px-4 py-2 border border-transparent rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${u?"opacity-75 cursor-not-allowed":""}`,children:u?y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),t("common.saving")]}):t("common.saveChanges")})})]})]})},D9="imageCache",O9=1,cr="images",R1=50*1024*1024,y0=()=>new Promise((n,e)=>{const t=indexedDB.open(D9,O9);t.onerror=()=>e(t.error),t.onsuccess=()=>n(t.result),t.onupgradeneeded=r=>{const a=r.target.result;if(!a.objectStoreNames.contains(cr)){const o=a.createObjectStore(cr,{keyPath:"id"});o.createIndex("timestamp","timestamp",{unique:!1}),o.createIndex("size","size",{unique:!1})}}}),M9=n=>{const e=n.split(",")[1];return Math.ceil(e.length*3/4)},j9=async()=>{const n=await y0();return new Promise((e,t)=>{const u=n.transaction(cr,"readonly").objectStore(cr).index("size").openCursor();let d=0;u.onsuccess=f=>{const h=f.target.result;h?(d+=h.value.size,h.continue()):e(d)},u.onerror=()=>t(u.error)})},L9=async(n,e)=>{const t=await y0(),r=M9(e),a=await j9();if(a+r>R1){const u=t.transaction(cr,"readwrite").objectStore(cr),d=u.index("timestamp");return new Promise((f,h)=>{const p=d.openCursor();p.onsuccess=v=>{const _=v.target.result;if(_&&a+r>R1)_.delete(),_.continue();else{const x={id:n,data:e,timestamp:Date.now(),size:r},w=u.put(x);w.onsuccess=()=>f(),w.onerror=()=>h(w.error)}},p.onerror=()=>h(p.error)})}else return new Promise((o,u)=>{const f=t.transaction(cr,"readwrite").objectStore(cr),h={id:n,data:e,timestamp:Date.now(),size:r},p=f.put(h);p.onsuccess=()=>o(),p.onerror=()=>u(p.error)})},A1=async n=>{const e=await y0();return new Promise((t,r)=>{const u=e.transaction(cr,"readonly").objectStore(cr).get(n);u.onsuccess=()=>{const d=u.result;if(d){const h=e.transaction(cr,"readwrite").objectStore(cr);d.timestamp=Date.now(),h.put(d),t(d.data)}else t(null)},u.onerror=()=>r(u.error)})};async function C1(n){try{const e=await si(ft(Me,n.fullImageRef));if(!e.exists())throw new Error(`Image document not found at path: ${n.fullImageRef}`);const t=e.data();if(n.fullImageRef.includes("products-images-thumb")){if(t.thumbnailUrl)return t.thumbnailUrl;throw new Error(`No thumbnailUrl found in document: ${n.fullImageRef}`)}if(n.fullImageRef.includes("products-images")){const r=n.fullImageRef.split("/").pop();if(!r)throw new Error(`Could not extract image ID from fullImageRef: ${n.fullImageRef}`);const a=t.chunkCount||0;if(a===0)throw new Error("No chunks found in metadata");const o=new Array(a).fill(""),u=Array.from({length:a},async(p,v)=>{const _=ft(Me,"products-images",r,"chunks",`chunk${v}`),x=await si(_);if(!x.exists())throw new Error(`Chunk ${v} not found`);const w=x.data();if(!w.data)throw new Error(`No data found in chunk ${v}`);return{index:v,data:w.data}});if((await Promise.all(u)).forEach(({index:p,data:v})=>{o[p]=v}),o.some(p=>p===""))throw new Error("Some chunks are missing");const f=t.mimeType||"image/jpeg",h=o.join("");if(!/^[A-Za-z0-9+/=]+$/.test(h))throw new Error("Invalid base64 data in chunks");return`data:${f};base64,${h}`}throw new Error("Invalid image reference path")}catch(e){throw console.error("Error in GetFullImageDataURL:",e),e}}const v0=({isOpen:n,onClose:e,thumbnailDataURL:t,fullImageRef:r,images:a=[],currentIndex:o=0,onNext:u,onPrevious:d,type:f,videoId:h})=>{const[p,v]=T.useState(t),[_,x]=T.useState(!1),[w,A]=T.useState(null),[C,j]=T.useState(!1);return T.useEffect(()=>{if(f==="youtube"||!n||!a.length)return;const U=async F=>{if(F<0||F>=a.length)return;const Y=a[F];try{await A1(Y)||await C1({fullImageRef:Y})}catch(X){console.error("Error preloading image:",X)}};o<a.length-1&&U(o+1),o>0&&U(o-1)},[]),T.useEffect(()=>{if(f==="youtube")return;let U=!0,F,Y=0;const X=3,de=async()=>{if(!(!n||!r))try{x(!0),A(null),j(!1),t&&v(t);const M=await A1(r);if(M&&U){v(M),j(!0),x(!1);return}F=setTimeout(()=>{U&&console.log("Fetching full image from:",r)},100);const I=await C1({fullImageRef:r});if(!U)return;if(!I)throw new Error("Failed to get image data URL");if(!I.startsWith("data:image/"))throw new Error("Invalid image data URL format");v(I),j(!0),await L9(r,I),Y=0}catch(M){console.error("Error loading image:",M),U&&(Y<X?(Y++,console.log(`Retrying image load (${Y}/${X})...`),setTimeout(de,1e3*Y)):(A("Failed to load image. Please try again later."),Y=0))}finally{U&&x(!1)}};return de(),()=>{U=!1,clearTimeout(F)}},[r,n,t,f]),T.useEffect(()=>{f!=="youtube"&&(n||(v(t),A(null),x(!1),j(!1)))},[n,t,f]),n?y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black bg-opacity-75",onClick:e,children:y.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] w-full h-full p-4",onClick:U=>U.stopPropagation(),children:[f==="youtube"&&y.jsx("div",{className:"relative w-full",style:{paddingTop:"56.25%"},children:y.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:`https://www.youtube.com/embed/${h}?autoplay=1&enablejsapi=1`,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})}),y.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[_&&!C?y.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white"})}):w?y.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-red",children:w}):p?f==="image"&&y.jsx("img",{src:p,alt:"Full size",className:`max-w-full max-h-[90vh] object-contain transition-opacity duration-300 ${C?"opacity-100":"opacity-50"}`,onError:U=>{console.error("Image failed to load:",U),A("Failed to load image. Please try again later.")},onLoad:()=>{A(null)}}):null,y.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-white hover:text-gray-300 focus:outline-none bg-black bg-opacity-50 rounded-full p-2",children:y.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),a&&a.length>1&&y.jsxs(y.Fragment,{children:[o>0&&y.jsx("button",{onClick:d,className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white hover:text-gray-300 focus:outline-none bg-black bg-opacity-50 rounded-full p-2",children:y.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),o<a.length-1&&y.jsx("button",{onClick:u,className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white hover:text-gray-300 focus:outline-none bg-black bg-opacity-50 rounded-full p-2",children:y.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})]})}):null},V9=()=>{var W,oe,me,ee,N,$,B,K;const{t:n}=An(),e=hr(),{showNotification:t}=Kn(),[r,a]=T.useState(!0),[o,u]=T.useState(null),[d,f]=T.useState(!1),{products:h,productsLoading:p,error:v,refreshProducts:_}=gm(),x=T.useContext(Gn),[w,A]=T.useState(null),[C,j]=T.useState([]),[U,F]=T.useState({}),[Y,X]=T.useState(null),[de,M]=T.useState(null),I=()=>{f(!1)},P=async(H,ie)=>{try{if(A(H),F(ge=>({...ge,[H.id]:ie})),!H.imageMetadataRef){console.error("No image metadata reference found for product");return}const ae=H.imageMetadataRef[ie];if(!ae){console.error("No image metadata found for index:",ie);return}if(ae.type==="youtube"){if(!ae.videoUrl){console.error("No video reference found for YouTube video");return}X(ae.videoUrl),f(!0);return}else{if(!ae.fullImageRef){console.error("No full image reference found");return}X(ae.fullImageRef),f(!0)}}catch(ae){console.error("Error handling image click:",ae),f(!1),A(null),F({}),X(null)}};T.useEffect(()=>{if(!x)return;const{user:H,userLoading:ie}=x;if(ie)return;if(!ie&&!H){e("/login");return}if(p)return;!p&&h&&h.length>0&&(a(!1),j(h.filter(ge=>ge.userId===(H==null?void 0:H.uid)))),v&&(console.error("Error fetching products:",v),t(n("products.fetchError"),"error"));const ae=h.reduce((ge,ye)=>({...ge,[ye.id]:0}),{});a(!1),F(ae),A(null),X(null),f(!1)},[v,e,h,p,t,n,x]);const D=async H=>{try{const ie=ft(Me,H);if((await si(ie)).exists()){const ge=bn(Me,`${H}/chunks`),Oe=(await Ba(ge)).docs.map(lt=>cl(lt.ref));await Promise.all(Oe),await cl(ie)}}catch(ie){throw console.error(`Error deleting collection at ${H}:`,ie),ie}},L=async H=>{if(confirm(n("products.deleteConfirmation")))try{a(!0);const ie=ft(Me,"products",H),ae=await si(ie);if(!ae.exists())throw new Error("Product not found");const ge=ae.data(),ye=bn(Me,"products-questions"),Oe=Fa(ye,$a("productId","==",H)),Zt=(await Ba(Oe)).docs.map(fn=>cl(fn.ref));await Promise.all(Zt);for(const fn of ge.imageMetadataRef)fn.fullImageRef&&await D(fn.fullImageRef);await cl(ie),a(!1),await _(),t(n("products.deleteSuccess"),"success")}catch(ie){console.error("Error deleting product:",ie),t(n("products.deleteError"),"error")}finally{a(!1),u(null)}},q=H=>{e(`/edit-product/${H}`)},V=()=>{e("/new-product")},be=async H=>{var ye,Oe;if(!H)return;const ie=U[H.id]||0,ae=((ye=H.imageMetadataRef)==null?void 0:ye.length)||0;if(ie>=ae-1)return;const ge=ie+1;try{const lt=(Oe=H.imageMetadataRef)==null?void 0:Oe[ge];if(!lt)return;F(Zt=>({...Zt,[H.id]:ge})),M((lt==null?void 0:lt.thumbnailDataURL)??null),A(H)}catch(lt){console.error("Error loading next media:",lt),t("Failed to load next media","error")}},we=H=>{var ge;if(!H)return;const ie=U[H.id]||0;if(ie<=0)return;const ae=ie-1;try{const ye=(ge=H.imageMetadataRef)==null?void 0:ge[ae];if(!ye)return;F(Oe=>({...Oe,[H.id]:ae})),M((ye==null?void 0:ye.thumbnailDataURL)??null),A(H)}catch(ye){console.error("Error loading previous media:",ye),t("Failed to load previous media","error")}};return r?y.jsx("div",{className:"flex justify-center items-center min-h-screen",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[y.jsx("div",{className:"flex justify-between items-center mb-8",children:y.jsx("h1",{className:"text-2xl font-bold mb-6 text-gray-900",children:n("products.myProducts")})}),C.length===0?y.jsxs("div",{className:"text-center py-12",children:[y.jsx("p",{className:"text-gray-500 text-lg",children:n("products.noMyProducts")}),y.jsx("button",{onClick:V,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:n("products.sell")})]}):y.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:C.map(H=>{var ge,ye;const ie=(ge=H.imageMetadataRef)!=null&&ge.length?H.imageMetadataRef:[],ae=ie.length>1;return y.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[y.jsxs("div",{className:"relative h-48",children:[y.jsx("img",{src:ie[U[H.id]||0].thumbnailDataURL??de??void 0,alt:H.name,className:"w-full h-full object-cover",onClick:()=>P(H,U[H.id]),onError:Oe=>{Oe.currentTarget.src="Failed to load image"}}),((ye=ie[U[H.id]||0])==null?void 0:ye.type)==="youtube"&&y.jsx("div",{onClick:()=>P(H,U[H.id]),className:"absolute inset-0 flex items-center justify-center",children:y.jsx("div",{className:"w-16 h-16 bg-black bg-opacity-50 rounded-full flex items-center justify-center",children:y.jsx("svg",{className:"w-8 h-8 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:y.jsx("path",{d:"M8 5v14l11-7z"})})})}),ae&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>we(H),className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-1 rounded-full hover:bg-opacity-75",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),y.jsx("button",{onClick:()=>be(H),className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-1 rounded-full hover:bg-opacity-75",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),y.jsx("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-1",children:ie.map((Oe,lt)=>y.jsx("div",{className:`w-2 h-2 rounded-full ${lt===(U[H.id]||0)?"bg-gray bg-opacity-50":"bg-white"}`},lt))})]}),y.jsx("div",{className:"absolute top-2 right-2",children:y.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${H.status==="active"?"bg-green-100 text-green-800":H.status==="inactive"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:n(`products.management.${H.status}`)})})]}),y.jsxs("div",{className:"p-4",children:[y.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate",children:H.name}),y.jsx("p",{className:"mt-1 text-sm text-gray-500 line-clamp-2",children:H.description}),y.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[y.jsxs("span",{className:"text-lg font-medium text-gray-900",children:[n("products.currency"),H.price.toFixed(2)]}),y.jsxs("span",{className:"text-sm text-gray-500",children:[n("products.management.stock"),": ",H.stock]})]}),y.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[y.jsx("button",{onClick:()=>q(H.id),className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-sm font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:n("common.edit")}),y.jsx("button",{onClick:()=>L(H.id),disabled:o===H.id,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",children:o===H.id?y.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):n("common.delete")})]})]})]},H.id)})}),Y&&y.jsx(v0,{isOpen:d,thumbnailDataURL:Y??void 0,fullImageRef:((oe=(W=w==null?void 0:w.imageMetadataRef)==null?void 0:W[U[(w==null?void 0:w.id)??""]||0])==null?void 0:oe.fullImageRef)??void 0,onClose:I,images:((ee=(me=w==null?void 0:w.imageMetadataRef)==null?void 0:me.map(H=>H.fullImageRef))==null?void 0:ee.filter(H=>!!H))??[],currentIndex:U[(w==null?void 0:w.id)??""]||0,onNext:()=>w&&be(w),onPrevious:()=>w&&we(w),type:(($=(N=w==null?void 0:w.imageMetadataRef)==null?void 0:N[U[(w==null?void 0:w.id)??""]||0])==null?void 0:$.type)??void 0,videoId:((K=(B=w==null?void 0:w.imageMetadataRef)==null?void 0:B[U[(w==null?void 0:w.id)??""]||0])==null?void 0:K.videoId)??void 0})]})},U9=()=>{const{preferences:n,updatePreferences:e,showNotification:t}=Kn(),r=()=>{e({soundEnabled:!n.soundEnabled})},a=d=>{const f=parseInt(d.target.value);!isNaN(f)&&f>=1e3&&f<=1e4&&e({defaultDuration:f})},o=d=>{const f=parseInt(d.target.value);!isNaN(f)&&f>=1&&f<=10&&e({maxNotifications:f})},u=()=>{t("This is a preview notification","info")};return y.jsxs("div",{className:"bg-white rounded-lg shadow p-6 max-w-md mx-auto",children:[y.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Notification Settings"}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"sound-toggle",className:"text-sm font-medium text-gray-700",children:"Sound Effects"}),y.jsx("p",{className:"text-sm text-gray-500",children:"Play sounds when notifications appear"})]}),y.jsx("button",{type:"button",role:"switch","aria-checked":n.soundEnabled,onClick:r,className:`${n.soundEnabled?"bg-blue-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2`,children:y.jsx("span",{className:`${n.soundEnabled?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"duration-slider",className:"text-sm font-medium text-gray-700",children:"Notification Duration"}),y.jsxs("div",{className:"mt-2 flex items-center space-x-4",children:[y.jsx("input",{type:"range",id:"duration-slider",min:"1000",max:"10000",step:"500",value:n.defaultDuration,onChange:a,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),y.jsxs("span",{className:"text-sm text-gray-500 min-w-[60px]",children:[n.defaultDuration/1e3,"s"]})]}),y.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"How long notifications stay visible"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"max-notifications-slider",className:"text-sm font-medium text-gray-700",children:"Maximum Notifications"}),y.jsxs("div",{className:"mt-2 flex items-center space-x-4",children:[y.jsx("input",{type:"range",id:"max-notifications-slider",min:"1",max:"10",step:"1",value:n.maxNotifications,onChange:o,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),y.jsx("span",{className:"text-sm text-gray-500 min-w-[30px]",children:n.maxNotifications})]}),y.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Maximum number of notifications shown at once"})]}),y.jsx("div",{className:"pt-4",children:y.jsx("button",{type:"button",onClick:u,className:"w-full px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Preview Notificao"})})]})]})},F9=()=>{const n=T.useContext(Gn),e=hr(),[t,r]=T.useState(!1),[a,o]=T.useState(null),[u,d]=T.useState(null),[f,h]=T.useState({id:"",name:"",displayName:"",email:"",photoURL:"",phoneNumber:"",address:"",city:"",state:"",country:"",zipCode:"",createdAt:new Date,updatedAt:new Date});if(T.useEffect(()=>{(async()=>{var A,C;if(!n)return;const{user:x,userLoading:w}=n;if(!w){if(!w&&!x){e("/login");return}try{const j=await si(ft(Me,"users",x.uid));if(j.exists()){const U=j.data();h({id:x.uid,name:U.name||"",displayName:U.displayName||"",email:U.email||"",photoURL:U.photoURL||"",phoneNumber:U.phoneNumber||"",address:U.address||"",city:U.city||"",state:U.state||"",country:U.country||"",zipCode:U.zipCode||"",createdAt:((A=U.createdAt)==null?void 0:A.toDate())||new Date,updatedAt:((C=U.updatedAt)==null?void 0:C.toDate())||new Date})}}catch(j){console.error("Error fetching user profile:",j),o("Failed to load profile data")}}})()},[n,e]),!n||n.userLoading)return y.jsx("div",{className:"flex justify-center items-center min-h-screen",children:"Carregando informaes do usurio..."});const p=async _=>{if(_.preventDefault(),!(!n||!n.user)){r(!0),o(null),d(null);try{const x=ft(Me,"users",n.user.uid);await Vc(x,{displayName:f.displayName,phoneNumber:f.phoneNumber,address:f.address,city:f.city,state:f.state,country:f.country,zipCode:f.zipCode}),d("Profile atualizado com sucesso!")}catch(x){console.error("Error updating profile:",x),o("Failed to update profile")}finally{r(!1)}}},v=_=>{const{name:x,value:w}=_.target;h(A=>({...A,[x]:w}))};return y.jsxs("div",{className:"container mx-auto px-4 py-8",children:[y.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Profile Settings"}),a&&y.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:a}),u&&y.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:u}),y.jsxs("form",{onSubmit:p,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nome"}),y.jsx("input",{type:"text",name:"displayName",value:f.displayName,onChange:v,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),y.jsx("input",{type:"email",value:f.email,disabled:!0,className:"mt-1 block w-full rounded-md border-gray-300 bg-gray-100 shadow-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nmero Telefone"}),y.jsx("input",{type:"tel",name:"phoneNumber",value:f.phoneNumber,onChange:v,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Endereo"}),y.jsx("input",{type:"text",name:"address",value:f.address,onChange:v,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),y.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cidade"}),y.jsx("input",{type:"text",name:"city",value:f.city,onChange:v,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Estado"}),y.jsx("input",{type:"text",name:"state",value:f.state,onChange:v,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Pas"}),y.jsx("input",{type:"text",name:"country",value:f.country,onChange:v,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"CEP"}),y.jsx("input",{type:"text",name:"zipCode",value:f.zipCode,onChange:v,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),y.jsxs("div",{className:"flex justify-end space-x-4",children:[y.jsx("button",{type:"button",onClick:()=>e(-1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancelar"}),y.jsx("button",{type:"submit",disabled:t,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50",children:t?"Salvando...":"Salvar alteraes"})]})]}),y.jsx("div",{className:"space-y-8",children:y.jsxs("section",{children:[y.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Notification Preferences"}),y.jsx(U9,{})]})})]})},$9=()=>{const{t:n}=An(),{user:e}=T.useContext(Gn),[t,r]=T.useState([]),[a,o]=T.useState(!0),[u,d]=T.useState(null);return T.useEffect(()=>{(async()=>{if(e)try{const h=bn(Me,"orders"),p=Fa(h,$a("userId","==",e.uid),MA("createdAt","desc")),_=(await Ba(p)).docs.map(x=>({id:x.id,...x.data()}));r(_)}catch(h){d(n("orders.fetchError")),console.error("Error fetching orders:",h)}finally{o(!1)}})()},[e,n]),a?y.jsx("div",{className:"flex justify-center items-center min-h-screen",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):u?y.jsx("div",{className:"flex justify-center items-center min-h-screen",children:y.jsx("div",{className:"text-red-600",children:u})}):t.length===0?y.jsxs("div",{className:"container mx-auto px-4 py-8",children:[y.jsx("h1",{className:"text-2xl font-bold mb-6",children:n("orders.myPurchases")}),y.jsx("div",{className:"text-center text-gray-600",children:n("orders.noPurchases")})]}):y.jsxs("div",{className:"container mx-auto px-4 py-8",children:[y.jsx("h1",{className:"text-2xl font-bold mb-6",children:n("orders.myPurchases")}),y.jsx("div",{className:"space-y-6",children:t.map(f=>y.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsxs("div",{children:[y.jsxs("h2",{className:"text-lg font-semibold",children:[n("orders.orderNumber"),": ",f.id]}),y.jsxs("p",{className:"text-gray-600",children:[n("orders.orderDate"),": ",new Date(f.createdAt).toLocaleDateString()]})]}),y.jsx("div",{className:"text-right",children:y.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${f.status==="delivered"?"bg-green-100 text-green-800":f.status==="shipped"?"bg-blue-100 text-blue-800":f.status==="paid"?"bg-yellow-100 text-yellow-800":f.status==="pending"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:n(`orders.status.${f.status}`)})})]}),y.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[y.jsx("h3",{className:"font-medium mb-2",children:n("orders.items")}),y.jsx("div",{className:"space-y-2",children:f.items.map((h,p)=>y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsxs("span",{children:[h.name," x ",h.stock]}),y.jsxs("span",{children:["$",h.total.toFixed(2)]})]},p))})]}),y.jsx("div",{className:"border-t border-gray-200 pt-4 mt-4",children:y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("span",{className:"font-medium",children:n("orders.total")}),y.jsxs("span",{className:"font-bold",children:["$",f.total.toFixed(2)]})]})}),y.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[y.jsx("h3",{className:"font-medium mb-2",children:n("orders.shippingAddress")}),y.jsxs("p",{className:"text-sm text-gray-600",children:[f.shippingInfo.fullName,y.jsx("br",{}),f.shippingInfo.address,y.jsx("br",{}),f.shippingInfo.city,", ",f.shippingInfo.state," ",f.shippingInfo.zipCode,y.jsx("br",{}),f.shippingInfo.phoneNumber]})]})]},f.id))})]})},aC=T.createContext(void 0),B9=({children:n})=>{const[e,t]=T.useState([]),[r,a]=T.useState(!0),o=T.useContext(Gn),{showNotification:u}=Kn(),{t:d}=An();T.useEffect(()=>{if(!(o!=null&&o.user)){t([]),a(!1);return}a(!0);const v=o.user.uid,_=Fa(bn(Me,"favorites"),$a("userId","==",v),MA("createdAt","desc")),x=VA(_,w=>{const A=w.docs.map(C=>{var j;return{id:C.id,...C.data(),createdAt:(j=C.data().createdAt)==null?void 0:j.toDate()}});t(A),a(!1)},w=>{console.error("Error fetching favorites:",w),u(d("favorites.errors.fetchFailed"),"error"),a(!1)});return()=>x()},[o==null?void 0:o.user,u,d]);const f=T.useCallback(async v=>{if(!(o!=null&&o.user)){u(d("auth.notifications.mustLogin"),"error");return}try{if(e.find(x=>x.productId===v)){u(d("favorites.alreadyFavorited"),"info");return}await yc(bn(Me,"favorites"),{userId:o.user.uid,productId:v,createdAt:new Date}),u(d("favorites.added"),"success")}catch(_){console.error("Error adding to favorites:",_),u(d("favorites.errors.addFailed"),"error")}},[o==null?void 0:o.user,e,u,d]),h=T.useCallback(async v=>{if(o!=null&&o.user)try{const _=e.find(x=>x.productId===v);if(!_)return;await cl(ft(Me,"favorites",_.id)),u(d("favorites.removed"),"success")}catch(_){console.error("Error removing from favorites:",_),u(d("favorites.errors.removeFailed"),"error")}},[o==null?void 0:o.user,e,u,d]),p=T.useCallback(v=>e.some(_=>_.productId===v),[e]);return y.jsx(aC.Provider,{value:{favorites:e,favoritesLoading:r,addToFavorites:f,removeFromFavorites:h,isFavorite:p},children:n})},oC=()=>{const n=T.useContext(aC);if(n===void 0)throw new Error("useFavorites must be used within a FavoritesProvider");return n},z9=()=>{var be,we,W,oe,me,ee,N,$;const{t:n}=An(),e=hr(),{showNotification:t}=Kn(),[r,a]=T.useState(!0),[o,u]=T.useState(!1),{products:d,productsLoading:f}=gm(),h=T.useContext(Gn),[p,v]=T.useState(null),[_,x]=T.useState({}),[w,A]=T.useState(null),[C,j]=T.useState(null),{addToBasket:U,getBasketItem:F}=zA(),{addToFavorites:Y,removeFromFavorites:X,isFavorite:de}=oC();if(T.useEffect(()=>{if(!h)return;const{user:B,userLoading:K}=h;if(K)return;if(!K&&!B){e("/login");return}if(f)return;const H=d.reduce((ie,ae)=>({...ie,[ae.id]:0}),{});a(!1),x(H),v(null),A(null),u(!1)},[h,f,d,e]),r)return y.jsx("div",{className:"flex justify-center items-center min-h-screen",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})});const M=()=>{u(!1)},I=async(B,K)=>{var H;try{v(B),x(ae=>({...ae,[B.id]:K}));const ie=(H=B.imageMetadataRef)==null?void 0:H[K];if(!ie){console.error("No image metadata found for index:",K);return}ie.type==="youtube"?A(ie.videoUrl||null):A(ie.fullImageRef||null),u(!0)}catch(ie){console.error("Error handling image click:",ie),t("Failed to load image","error")}},P=()=>{e("/new-product")},D=async B=>{var ge,ye;if(!B)return;const K=_[B.id]||0,H=((ge=B.imageMetadataRef)==null?void 0:ge.length)||0;if(K>=H-1)return;const ie=K+1,ae=(ye=B.imageMetadataRef)==null?void 0:ye[ie];ae&&(x(Oe=>({...Oe,[B.id]:ie})),j(ae.thumbnailDataURL||null),ae.type==="youtube"?A(ae.videoUrl||null):A(ae.fullImageRef||null))},L=B=>{var ae;if(!B)return;const K=_[B.id]||0;if(K<=0)return;const H=K-1,ie=(ae=B.imageMetadataRef)==null?void 0:ae[H];ie&&(x(ge=>({...ge,[B.id]:H})),j(ie.thumbnailDataURL||null),ie.type==="youtube"?A(ie.videoUrl||null):A(ie.fullImageRef||null))},q=async B=>{if(B.stock<=0){t(n("products.errors.outOfStock"),"error");return}const K=await F(B.id);if(K&&K.stock>=B.stock){t(n("products.errors.maxStockReached"),"error");return}const H=await U(B);H.success?t(n("products.addedToCart"),"success"):t(H.reason||n("products.addToCartError"),"error")},V=async B=>{try{de(B.id)?await X(B.id):await Y(B.id)}catch(K){console.error("Error toggling favorite:",K),t(n("favorites.errors.toggleFailed"),"error")}};return y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[y.jsx("div",{className:"flex justify-between items-center mb-8",children:y.jsx("h1",{className:"text-2xl font-bold mb-6 text-gray-900",children:n("products.sellingProducts")})}),d.length===0?y.jsxs("div",{className:"text-center py-12",children:[y.jsx("p",{className:"text-gray-500 text-lg",children:n("products.noMyProducts")}),y.jsx("button",{onClick:P,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:n("products.sell")})]}):y.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:d.map(B=>{var ie,ae,ge;const K=(ie=B.imageMetadataRef)!=null&&ie.length?B.imageMetadataRef:[],H=K.length>1;return y.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[y.jsxs("div",{className:"relative h-48",children:[y.jsx("img",{src:((ae=K[_[B.id]||0])==null?void 0:ae.thumbnailDataURL)||C||void 0,alt:B.name,className:"w-full h-full object-cover",onClick:()=>I(B,_[B.id]||0),onError:ye=>{ye.currentTarget.src="Failed to load image"}}),((ge=K[_[B.id]||0])==null?void 0:ge.type)==="youtube"&&y.jsx("div",{onClick:()=>I(B,_[B.id]),className:"absolute inset-0 flex items-center justify-center",children:y.jsx("div",{className:"w-16 h-16 bg-black bg-opacity-50 rounded-full flex items-center justify-center",children:y.jsx("svg",{className:"w-8 h-8 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:y.jsx("path",{d:"M8 5v14l11-7z"})})})}),H&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>L(B),className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-1 rounded-full hover:bg-opacity-75",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),y.jsx("button",{onClick:()=>D(B),className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-1 rounded-full hover:bg-opacity-75",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),y.jsx("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-1",children:K.map((ye,Oe)=>y.jsx("div",{className:`w-2 h-2 rounded-full ${Oe===(_[B.id]||0)?"bg-gray bg-opacity-50":"bg-white"}`},Oe))})]}),y.jsx("div",{className:"absolute top-2 right-2",children:y.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${B.status==="active"?"bg-green-100 text-green-800":B.status==="inactive"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:n(`products.management.${B.status}`)})})]}),y.jsxs("div",{className:"p-4",children:[y.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate cursor-pointer hover:text-indigo-600",onClick:()=>e(`/product/${B.id}`),children:B.name}),y.jsx("p",{className:"mt-1 text-sm text-gray-500 line-clamp-2",children:B.description}),y.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[y.jsxs("span",{className:"text-lg font-medium text-gray-900",children:[n("products.currency"),B.price.toFixed(2)]}),y.jsxs("span",{className:"text-sm text-gray-500",children:[n("products.management.stock"),": ",B.stock]})]}),y.jsx("p",{className:"mt-1 text-sm text-gray-500 line-clamp-2",children:B.condition}),y.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[y.jsx("button",{onClick:()=>V(B),className:`p-2 rounded-full ${de(B.id)?"bg-red-600 hover:bg-red-500":"bg-purple-600 hover:bg-purple-500"} text-white focus:outline-none focus:bg-purple-500 group`,title:de(B.id)?"Remove from Favorites":"Add to Favorites",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 group-hover:opacity-70",fill:de(B.id)?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),y.jsx("button",{onClick:()=>q(B),className:"p-2 rounded-full bg-blue-600 text-white hover:bg-blue-500 focus:outline-none focus:bg-blue-500 group",title:"Add to Cart",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 group-hover:opacity-50 opacity-70",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})})]})]})]},B.id)})}),w&&y.jsx(v0,{isOpen:o,thumbnailDataURL:w??void 0,fullImageRef:((we=(be=p==null?void 0:p.imageMetadataRef)==null?void 0:be[_[(p==null?void 0:p.id)??""]||0])==null?void 0:we.fullImageRef)??void 0,onClose:M,images:((oe=(W=p==null?void 0:p.imageMetadataRef)==null?void 0:W.map(B=>B.fullImageRef))==null?void 0:oe.filter(B=>!!B))??[],currentIndex:_[(p==null?void 0:p.id)??""]||0,onNext:()=>p&&D(p),onPrevious:()=>p&&L(p),type:((ee=(me=p==null?void 0:p.imageMetadataRef)==null?void 0:me[_[(p==null?void 0:p.id)??""]||0])==null?void 0:ee.type)??void 0,videoId:(($=(N=p==null?void 0:p.imageMetadataRef)==null?void 0:N[_[(p==null?void 0:p.id)??""]||0])==null?void 0:$.videoId)??void 0})]})},q9=()=>{var q,V,be,we,W,oe,me;const{productId:n}=L1(),e=hr(),{t}=An(),{showNotification:r}=Kn(),{addToBasket:a,getBasketItem:o}=zA(),{user:u}=T.useContext(Gn),[d,f]=T.useState(null),[h,p]=T.useState(!0),[v,_]=T.useState(0),[x,w]=T.useState(!1),[A,C]=T.useState(""),[j,U]=T.useState([]),[F,Y]=T.useState(!0),[X,de]=T.useState({});T.useEffect(()=>{(async()=>{if(n)try{const N=ft(Me,"products",n),$=await si(N);$.exists()?f({id:$.id,...$.data()}):(r(t("products.errors.notFound"),"error"),e("/home"))}catch(N){console.error("Error fetching product:",N),r(t("products.errors.fetchFailed"),"error")}finally{p(!1)}})()},[n,e,r,t]),T.useEffect(()=>{(async()=>{if(n)try{const N=bn(Me,"products-questions"),$=Fa(N,$a("productId","==",n)),K=(await Ba($)).docs.map(H=>{var ie,ae;return{id:H.id,...H.data(),createdAt:(ie=H.data().createdAt)==null?void 0:ie.toDate(),answeredAt:(ae=H.data().answeredAt)==null?void 0:ae.toDate()}}).sort((H,ie)=>{var ae,ge;return(((ae=ie.createdAt)==null?void 0:ae.getTime())??0)-(((ge=H.createdAt)==null?void 0:ge.getTime())??0)});U(K)}catch(N){console.error("Error fetching questions:",N),r(t("products.errors.fetchQuestionsFailed"),"error")}finally{Y(!1)}})()},[n,r,t]);const M=ee=>{_(ee),w(!0)},I=async()=>{if(!d)return;if(d.stock<=0){r(t("products.errors.outOfStock"),"error");return}const ee=await o(d.id);if(ee&&ee.stock>=d.stock){r(t("products.errors.maxStockReached"),"error");return}const N=await a(d);N.success?r(t("products.addedToCart"),"success"):r(N.reason||t("products.addToCartError"),"error")},P=async ee=>{if(ee.preventDefault(),!(!u||!n||!A.trim()||!u.email||!d))try{const N=bn(Me,"products-questions");await yc(N,{productId:n,userEmail:u.email,userName:u.displayName||"Anonymous",question:A.trim(),productOwnerEmail:d.owner,createdAt:vc()}),r(t("products.questionSubmitted"),"success"),C("");const $=Fa(N,$a("productId","==",n)),K=(await Ba($)).docs.map(H=>{var ie,ae;return{id:H.id,...H.data(),createdAt:(ie=H.data().createdAt)==null?void 0:ie.toDate(),answeredAt:(ae=H.data().answeredAt)==null?void 0:ae.toDate()}}).sort((H,ie)=>{var ae,ge;return(((ae=ie.createdAt)==null?void 0:ae.getTime())??0)-(((ge=H.createdAt)==null?void 0:ge.getTime())??0)});U(K)}catch(N){console.error("Error submitting question:",N),r(t("products.errors.submitQuestionFailed"),"error")}},D=async ee=>{var N;if((N=X[ee])!=null&&N.trim())try{const $=ft(Me,"products-questions",ee);await Vc($,{answer:X[ee].trim(),answeredAt:vc()}),r(t("products.answerSubmitted"),"success"),de(ae=>({...ae,[ee]:""}));const B=bn(Me,"products-questions"),K=Fa(B,$a("productId","==",n)),ie=(await Ba(K)).docs.map(ae=>{var ge,ye;return{id:ae.id,...ae.data(),createdAt:(ge=ae.data().createdAt)==null?void 0:ge.toDate(),answeredAt:(ye=ae.data().answeredAt)==null?void 0:ye.toDate()}}).sort((ae,ge)=>{var ye,Oe;return(((ye=ge.createdAt)==null?void 0:ye.getTime())??0)-(((Oe=ae.createdAt)==null?void 0:Oe.getTime())??0)});U(ie)}catch($){console.error("Error submitting answer:",$),r(t("products.errors.submitAnswerFailed"),"error")}},L=async ee=>{if(confirm(t("products.deleteQuestionConfirmation")))try{const N=ft(Me,"products-questions",ee);await cl(N),r(t("products.questionDeleted"),"success");const $=bn(Me,"products-questions"),B=Fa($,$a("productId","==",n)),H=(await Ba(B)).docs.map(ie=>{var ae,ge;return{id:ie.id,...ie.data(),createdAt:(ae=ie.data().createdAt)==null?void 0:ae.toDate(),answeredAt:(ge=ie.data().answeredAt)==null?void 0:ge.toDate()}}).sort((ie,ae)=>{var ge,ye;return(((ge=ae.createdAt)==null?void 0:ge.getTime())??0)-(((ye=ie.createdAt)==null?void 0:ye.getTime())??0)});U(H)}catch(N){console.error("Error deleting question:",N),r(t("products.errors.deleteQuestionFailed"),"error")}};return h?y.jsx("div",{className:"flex justify-center items-center min-h-screen",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):d?y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[y.jsxs("div",{className:"lg:grid lg:grid-cols-2 lg:gap-x-8",children:[y.jsxs("div",{className:"lg:max-w-lg",children:[y.jsx("div",{className:"aspect-w-1 aspect-h-1 rounded-lg overflow-hidden",children:y.jsx("img",{src:((V=(q=d.imageMetadataRef)==null?void 0:q[v])==null?void 0:V.thumbnailDataURL)??"",alt:d.name,className:"w-full h-full object-center object-cover cursor-pointer",onClick:()=>M(v)})}),y.jsx("div",{className:"mt-4 grid grid-cols-4 gap-4",children:(be=d.imageMetadataRef)==null?void 0:be.map((ee,N)=>y.jsx("div",{className:"aspect-w-1 aspect-h-1 rounded-lg overflow-hidden cursor-pointer",onClick:()=>_(N),children:y.jsx("img",{src:ee.thumbnailDataURL??"",alt:`${d.name} - Image ${N+1}`,className:"w-full h-full object-center object-cover"})},N))})]}),y.jsxs("div",{className:"mt-10 px-4 sm:px-0 sm:mt-16 lg:mt-0",children:[y.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:d.name}),y.jsxs("div",{className:"mt-3",children:[y.jsx("h2",{className:"sr-only",children:"Product information"}),y.jsxs("p",{className:"text-3xl text-gray-900",children:[t("products.currency"),d.price.toFixed(2)]})]}),y.jsxs("div",{className:"mt-6",children:[y.jsx("h3",{className:"sr-only",children:"Description"}),y.jsx("div",{className:"text-base text-gray-700 space-y-6",children:y.jsx("p",{children:d.description})})]}),y.jsxs("div",{className:"mt-6",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Condition:"}),y.jsx("p",{className:"ml-2 text-sm text-gray-500",children:d.condition})]}),y.jsxs("div",{className:"flex items-center mt-2",children:[y.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Category:"}),y.jsx("p",{className:"ml-2 text-sm text-gray-500",children:d.category})]}),y.jsxs("div",{className:"flex items-center mt-2",children:[y.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Stock:"}),y.jsxs("p",{className:"ml-2 text-sm text-gray-500",children:[d.stock," available"]})]})]}),y.jsx("div",{className:"mt-10",children:y.jsx("button",{onClick:I,disabled:d.stock<=0,className:`w-full bg-indigo-600 border border-transparent rounded-md py-3 px-8 flex items-center justify-center text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${d.stock<=0?"opacity-50 cursor-not-allowed":""}`,children:d.stock<=0?t("products.outOfStock"):t("products.addToCart")})})]})]}),y.jsxs("div",{className:"mt-16 border-t border-gray-200 pt-10",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t("products.questionsAndAnswers")}),u&&y.jsx("div",{className:"mt-6",children:y.jsxs("form",{onSubmit:P,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"question",className:"block text-sm font-medium text-gray-700",children:t("products.askQuestion")}),y.jsx("div",{className:"mt-1",children:y.jsx("textarea",{id:"question",name:"question",rows:3,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",value:A,onChange:ee=>C(ee.target.value),placeholder:t("products.questionPlaceholder")})})]}),y.jsx("div",{children:y.jsx("button",{type:"submit",disabled:!A.trim(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:t("products.submitQuestion")})})]})}),y.jsx("div",{className:"mt-8 space-y-6",children:F?y.jsx("div",{className:"flex justify-center",children:y.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):j.length===0?y.jsx("p",{className:"text-gray-500 text-center",children:t("products.noQuestions")}):j.map(ee=>{var N,$;return y.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:y.jsx("div",{className:"flex items-start space-x-4",children:y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h3",{className:"text-sm font-medium text-gray-900",children:ee.userName}),y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("p",{className:"text-sm text-gray-500",children:ee.createdAt.toLocaleDateString()}),(u==null?void 0:u.email)===(d==null?void 0:d.owner)&&y.jsx("button",{onClick:()=>L(ee.id),className:"text-red-600 hover:text-red-800",title:t("products.deleteQuestion"),children:y.jsx(Sc,{className:"h-5 w-5"})})]})]}),y.jsx("p",{className:"mt-2 text-gray-700",children:ee.question}),ee.answer?y.jsxs("div",{className:"mt-4 pl-4 border-l-4 border-indigo-200",children:[y.jsx("p",{className:"text-sm text-gray-500",children:t("products.answer")}),y.jsx("p",{className:"mt-1 text-gray-700",children:ee.answer}),y.jsx("p",{className:"mt-1 text-xs text-gray-500",children:(N=ee.answeredAt)==null?void 0:N.toLocaleDateString()})]}):(u==null?void 0:u.email)===(d==null?void 0:d.owner)&&y.jsxs("div",{className:"mt-4",children:[y.jsx("textarea",{rows:2,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",value:X[ee.id]||"",onChange:B=>de(K=>({...K,[ee.id]:B.target.value})),placeholder:t("products.answerPlaceholder")}),y.jsx("button",{onClick:()=>D(ee.id),disabled:!(($=X[ee.id])!=null&&$.trim()),className:"mt-2 inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:t("products.submitAnswer")})]})]})})},ee.id)})})]}),d.imageMetadataRef&&y.jsx(v0,{isOpen:x,thumbnailDataURL:((we=d.imageMetadataRef[v])==null?void 0:we.thumbnailDataURL)??null,fullImageRef:((W=d.imageMetadataRef[v])==null?void 0:W.fullImageRef)??void 0,onClose:()=>w(!1),images:d.imageMetadataRef.map(ee=>ee.fullImageRef).filter(ee=>!!ee),currentIndex:v,onNext:()=>_(ee=>{var N;return ee<(((N=d.imageMetadataRef)==null?void 0:N.length)??0)-1?ee+1:ee}),onPrevious:()=>_(ee=>ee>0?ee-1:ee),type:(oe=d.imageMetadataRef[v])==null?void 0:oe.type,videoId:((me=d.imageMetadataRef[v])==null?void 0:me.videoId)??void 0})]}):null},H9=()=>y.jsx("div",{className:"relative flex items-center justify-center",children:y.jsxs("svg",{"aria-hidden":"true",className:"inline w-16 h-16 text-gray-200 animate-spin dark:text-gray-600 fill-purple-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),y.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]})}),G9=()=>{const{t:n}=An(),{favorites:e,removeFromFavorites:t}=oC(),{showNotification:r}=Kn(),[a,o]=T.useState(!0),[u,d]=T.useState([]);T.useEffect(()=>{(async()=>{try{const p=e.map(async _=>{const x=await si(ft(Me,"products",_.productId));if(x.exists()){const w=x.data();return{..._,product:{id:x.id,name:w.name,description:w.description,price:w.price,category:w.category,condition:w.condition,stock:w.stock,owner:w.owner,createdAt:w.createdAt,imageMetadataRef:w.imageMetadataRef||[],userId:w.userId,updatedAt:w.updatedAt,brand:w.brand,weight:w.weight,dimensions:w.dimensions,shippingCost:w.shippingCost,freeShipping:w.freeShipping,status:w.status}}}return null}),v=await Promise.all(p);d(v.filter(_=>_!==null))}catch(p){console.error("Error fetching favorite products:",p)}finally{o(!1)}})()},[e]);const f=async h=>{try{await t(h),r(n("products.favoriteRemoved"),"success")}catch(p){console.error("Error removing favorite:",p),r(n("products.favoriteRemoveError"),"error")}};return a?y.jsx(H9,{}):y.jsxs("div",{className:"container mx-auto px-4 py-8",children:[y.jsx("h1",{className:"text-2xl font-bold mb-6",children:n("favorites.title")}),u.length===0?y.jsxs("div",{className:"text-center py-8",children:[y.jsx("p",{className:"text-gray-600 mb-4",children:n("favorites.empty")}),y.jsx(bl,{to:"/home",className:"inline-block bg-indigo-600 text-white px-6 py-2 rounded-md hover:bg-indigo-700 transition-colors",children:n("favorites.browseProducts")})]}):y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(h=>{var p,v;return y.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden relative",children:[y.jsx("button",{onClick:()=>f(h.productId),className:"absolute top-2 right-2 p-2 bg-white rounded-full shadow-md hover:bg-gray-100 transition-colors z-10",title:n("products.removeFromFavorites"),children:y.jsx(Sc,{className:"h-5 w-5 text-red-500"})}),y.jsxs(bl,{to:`/product/${h.productId}`,children:[y.jsx("div",{className:"aspect-w-16 aspect-h-9",children:y.jsx("img",{src:((v=(p=h.product.imageMetadataRef)==null?void 0:p[0])==null?void 0:v.thumbnailDataURL)||"/placeholder.png",alt:h.product.name,className:"object-cover w-full h-48"})}),y.jsxs("div",{className:"p-4",children:[y.jsx("h2",{className:"text-lg font-semibold mb-2",children:h.product.name}),y.jsx("p",{className:"text-gray-600 mb-2",children:h.product.description}),y.jsx("p",{className:"text-indigo-600 font-bold",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(h.product.price)})]})]})]},h.id)})})]})},Oi=({children:n})=>{const{user:e,userLoading:t}=ke.useContext(Gn);return t?y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):e?y.jsx(y.Fragment,{children:n}):y.jsx(F1,{to:"/login"})},K9=()=>y.jsxs("div",{className:"min-h-screen bg-gray-50",children:[y.jsx(m9,{}),y.jsx("main",{className:"container mx-auto px-4 py-8",children:y.jsxs(DI,{children:[y.jsx(lr,{path:"/login",element:y.jsx(g9,{})}),y.jsx(lr,{path:"/new-product",element:y.jsx(Oi,{children:y.jsx(_9,{})})}),y.jsx(lr,{path:"/home",element:y.jsx(Oi,{children:y.jsx(z9,{})})}),y.jsx(lr,{path:"/product/:productId",element:y.jsx(Oi,{children:y.jsx(q9,{})})}),y.jsx(lr,{path:"/edit-product/:productId",element:y.jsx(Oi,{children:y.jsx(k9,{})})}),y.jsx(lr,{path:"/my-products",element:y.jsx(Oi,{children:y.jsx(V9,{})})}),y.jsx(lr,{path:"/my-favorites",element:y.jsx(Oi,{children:y.jsx(G9,{})})}),y.jsx(lr,{path:"/checkout",element:y.jsx(Oi,{children:y.jsx(I9,{})})}),y.jsx(lr,{path:"/edit-profile",element:y.jsx(Oi,{children:y.jsx(F9,{})})}),y.jsx(lr,{path:"/my-purchases",element:y.jsx(Oi,{children:y.jsx($9,{})})}),y.jsx(lr,{path:"/",element:y.jsx(F1,{to:"/home"})})]})}),y.jsx(g0,{})]}),Q9=()=>y.jsx(C2,{i18n:dn,children:y.jsx(d9,{children:y.jsx(l9,{children:y.jsx(f9,{children:y.jsx(B9,{children:y.jsx(P9,{children:y.jsx(K9,{})})})})})})});BN.createRoot(document.getElementById("root")).render(y.jsx(T.StrictMode,{children:y.jsx(r2,{children:y.jsx(Q9,{})})}));
